{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, signal } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nlet Login = class Login {\n  authService;\n  router;\n  isLoginMode = signal(true, ...(ngDevMode ? [{\n    debugName: \"isLoginMode\"\n  }] : []));\n  loading = signal(false, ...(ngDevMode ? [{\n    debugName: \"loading\"\n  }] : []));\n  errorMessage = signal('', ...(ngDevMode ? [{\n    debugName: \"errorMessage\"\n  }] : []));\n  successMessage = signal('', ...(ngDevMode ? [{\n    debugName: \"successMessage\"\n  }] : []));\n  loginData = {\n    username: '',\n    password: ''\n  };\n  registerData = {\n    username: '',\n    password: '',\n    email: ''\n  };\n  constructor(authService, router) {\n    this.authService = authService;\n    this.router = router;\n  }\n  toggleMode() {\n    this.isLoginMode.set(!this.isLoginMode());\n    this.errorMessage.set('');\n    this.successMessage.set('');\n  }\n  onSubmit() {\n    this.errorMessage.set('');\n    this.successMessage.set('');\n    this.loading.set(true);\n    if (this.isLoginMode()) {\n      this.authService.login(this.loginData).subscribe({\n        next: response => {\n          this.loading.set(false);\n          this.successMessage.set('Login successful! Redirecting...');\n          setTimeout(() => {\n            this.router.navigate(['/home']);\n          }, 1000);\n        },\n        error: error => {\n          this.loading.set(false);\n          this.errorMessage.set(error.error || 'Login failed. Please try again.');\n        }\n      });\n    } else {\n      this.authService.register(this.registerData).subscribe({\n        next: response => {\n          this.loading.set(false);\n          this.successMessage.set('Registration successful! You can now log in.');\n          this.isLoginMode.set(true);\n          this.loginData.username = this.registerData.username;\n          this.registerData = {\n            username: '',\n            password: '',\n            email: ''\n          };\n        },\n        error: error => {\n          this.loading.set(false);\n          this.errorMessage.set(error.error || 'Registration failed. Please try again.');\n        }\n      });\n    }\n  }\n};\nLogin = __decorate([Component({\n  selector: 'app-login',\n  standalone: true,\n  imports: [CommonModule, FormsModule],\n  template: `\n    <div class=\"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\">\n      <div class=\"max-w-md w-full space-y-8\">\n        <div>\n          <h2 class=\"mt-6 text-center text-3xl font-extrabold text-gray-900\">\n            {{ isLoginMode() ? 'Sign in to your account' : 'Create your account' }}\n          </h2>\n        </div>\n\n        <!-- Error Message -->\n        @if (errorMessage()) {\n          <div class=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative\" role=\"alert\">\n            <span class=\"block sm:inline\">{{ errorMessage() }}</span>\n          </div>\n        }\n\n        <!-- Success Message -->\n        @if (successMessage()) {\n          <div class=\"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative\" role=\"alert\">\n            <span class=\"block sm:inline\">{{ successMessage() }}</span>\n          </div>\n        }\n\n        <form class=\"mt-8 space-y-6\" (ngSubmit)=\"onSubmit()\">\n          <!-- Registration Fields -->\n          @if (!isLoginMode()) {\n            <div>\n              <label for=\"email\" class=\"block text-sm font-medium text-gray-700\">Email</label>\n              <input\n                id=\"email\"\n                name=\"email\"\n                type=\"email\"\n                [(ngModel)]=\"registerData.email\"\n                required\n                class=\"mt-1 appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm\"\n                placeholder=\"Enter your email\">\n            </div>\n          }\n\n          <div>\n            <label for=\"username\" class=\"block text-sm font-medium text-gray-700\">Username</label>\n            <input\n              id=\"username\"\n              name=\"username\"\n              type=\"text\"\n              [(ngModel)]=\"isLoginMode() ? loginData.username : registerData.username\"\n              required\n              class=\"mt-1 appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm\"\n              placeholder=\"Enter your username\">\n          </div>\n\n          <div>\n            <label for=\"password\" class=\"block text-sm font-medium text-gray-700\">Password</label>\n            <input\n              id=\"password\"\n              name=\"password\"\n              type=\"password\"\n              [(ngModel)]=\"isLoginMode() ? loginData.password : registerData.password\"\n              required\n              minlength=\"6\"\n              class=\"mt-1 appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm\"\n              placeholder=\"Enter your password\">\n          </div>\n\n          <div>\n            <button\n              type=\"submit\"\n              [disabled]=\"loading()\"\n              class=\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\">\n              @if (loading()) {\n                <span class=\"absolute left-1/2 transform -translate-x-1/2\">\n                  <div class=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"></div>\n                </span>\n                <span class=\"invisible\">{{ isLoginMode() ? 'Sign in' : 'Register' }}</span>\n              } @else {\n                {{ isLoginMode() ? 'Sign in' : 'Register' }}\n              }\n            </button>\n          </div>\n\n          <div class=\"text-center\">\n            <button\n              type=\"button\"\n              (click)=\"toggleMode()\"\n              class=\"text-sm text-blue-600 hover:text-blue-500\">\n              {{ isLoginMode() ? 'Need an account? Register here' : 'Already have an account? Sign in' }}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  `,\n  styles: []\n})], Login);\nexport { Login };","map":{"version":3,"names":["Component","signal","CommonModule","FormsModule","Login","authService","router","isLoginMode","ngDevMode","debugName","loading","errorMessage","successMessage","loginData","username","password","registerData","email","constructor","toggleMode","set","onSubmit","login","subscribe","next","response","setTimeout","navigate","error","register","__decorate","selector","standalone","imports","template","styles"],"sources":["/Users/ariez/Downloads/crud/src/app/Pages/login/login.ts"],"sourcesContent":["import { Component, signal } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { AuthService, LoginRequest, RegisterRequest } from '../../auth.service';\n\n@Component({\n  selector: 'app-login',\n  standalone: true,\n  imports: [CommonModule, FormsModule],\n  template: `\n    <div class=\"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\">\n      <div class=\"max-w-md w-full space-y-8\">\n        <div>\n          <h2 class=\"mt-6 text-center text-3xl font-extrabold text-gray-900\">\n            {{ isLoginMode() ? 'Sign in to your account' : 'Create your account' }}\n          </h2>\n        </div>\n\n        <!-- Error Message -->\n        @if (errorMessage()) {\n          <div class=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative\" role=\"alert\">\n            <span class=\"block sm:inline\">{{ errorMessage() }}</span>\n          </div>\n        }\n\n        <!-- Success Message -->\n        @if (successMessage()) {\n          <div class=\"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative\" role=\"alert\">\n            <span class=\"block sm:inline\">{{ successMessage() }}</span>\n          </div>\n        }\n\n        <form class=\"mt-8 space-y-6\" (ngSubmit)=\"onSubmit()\">\n          <!-- Registration Fields -->\n          @if (!isLoginMode()) {\n            <div>\n              <label for=\"email\" class=\"block text-sm font-medium text-gray-700\">Email</label>\n              <input\n                id=\"email\"\n                name=\"email\"\n                type=\"email\"\n                [(ngModel)]=\"registerData.email\"\n                required\n                class=\"mt-1 appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm\"\n                placeholder=\"Enter your email\">\n            </div>\n          }\n\n          <div>\n            <label for=\"username\" class=\"block text-sm font-medium text-gray-700\">Username</label>\n            <input\n              id=\"username\"\n              name=\"username\"\n              type=\"text\"\n              [(ngModel)]=\"isLoginMode() ? loginData.username : registerData.username\"\n              required\n              class=\"mt-1 appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm\"\n              placeholder=\"Enter your username\">\n          </div>\n\n          <div>\n            <label for=\"password\" class=\"block text-sm font-medium text-gray-700\">Password</label>\n            <input\n              id=\"password\"\n              name=\"password\"\n              type=\"password\"\n              [(ngModel)]=\"isLoginMode() ? loginData.password : registerData.password\"\n              required\n              minlength=\"6\"\n              class=\"mt-1 appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm\"\n              placeholder=\"Enter your password\">\n          </div>\n\n          <div>\n            <button\n              type=\"submit\"\n              [disabled]=\"loading()\"\n              class=\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\">\n              @if (loading()) {\n                <span class=\"absolute left-1/2 transform -translate-x-1/2\">\n                  <div class=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"></div>\n                </span>\n                <span class=\"invisible\">{{ isLoginMode() ? 'Sign in' : 'Register' }}</span>\n              } @else {\n                {{ isLoginMode() ? 'Sign in' : 'Register' }}\n              }\n            </button>\n          </div>\n\n          <div class=\"text-center\">\n            <button\n              type=\"button\"\n              (click)=\"toggleMode()\"\n              class=\"text-sm text-blue-600 hover:text-blue-500\">\n              {{ isLoginMode() ? 'Need an account? Register here' : 'Already have an account? Sign in' }}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  `,\n  styles: []\n})\nexport class Login {\n  isLoginMode = signal(true);\n  loading = signal(false);\n  errorMessage = signal('');\n  successMessage = signal('');\n\n  loginData: LoginRequest = { username: '', password: '' };\n  registerData: RegisterRequest = { username: '', password: '', email: '' };\n\n  constructor(\n    private authService: AuthService,\n    private router: Router\n  ) {}\n\n  toggleMode(): void {\n    this.isLoginMode.set(!this.isLoginMode());\n    this.errorMessage.set('');\n    this.successMessage.set('');\n  }\n\n  onSubmit(): void {\n    this.errorMessage.set('');\n    this.successMessage.set('');\n    this.loading.set(true);\n\n    if (this.isLoginMode()) {\n      this.authService.login(this.loginData).subscribe({\n        next: (response) => {\n          this.loading.set(false);\n          this.successMessage.set('Login successful! Redirecting...');\n          setTimeout(() => {\n            this.router.navigate(['/home']);\n          }, 1000);\n        },\n        error: (error) => {\n          this.loading.set(false);\n          this.errorMessage.set(error.error || 'Login failed. Please try again.');\n        }\n      });\n    } else {\n      this.authService.register(this.registerData).subscribe({\n        next: (response) => {\n          this.loading.set(false);\n          this.successMessage.set('Registration successful! You can now log in.');\n          this.isLoginMode.set(true);\n          this.loginData.username = this.registerData.username;\n          this.registerData = { username: '', password: '', email: '' };\n        },\n        error: (error) => {\n          this.loading.set(false);\n          this.errorMessage.set(error.error || 'Registration failed. Please try again.');\n        }\n      });\n    }\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}