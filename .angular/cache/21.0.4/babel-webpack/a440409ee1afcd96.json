{"ast":null,"code":"import _asyncToGenerator from \"/Users/ariez/Downloads/crud/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n/**\n * @license Angular v21.0.6\n * (c) 2010-2025 Google LLC. https://angular.dev/\n * License: MIT\n */\n\nimport { DOCUMENT, Location } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { ɵisPromise as _isPromise, ɵRuntimeError as _RuntimeError, Injectable, ɵisNgModule as _isNgModule, isStandalone, createEnvironmentInjector, InjectionToken, EventEmitter, input, inject, ViewContainerRef, ChangeDetectorRef, Directive, Input, Output, reflectComponentType, Component, ɵisInjectable as _isInjectable, runInInjectionContext, makeEnvironmentProviders, Compiler, NgModuleFactory, ɵresolveComponentResources as _resolveComponentResources, afterNextRender, signal, EnvironmentInjector, DestroyRef, untracked, ɵConsole as _Console, ɵPendingTasksInternal as _PendingTasksInternal, ɵINTERNAL_APPLICATION_ERROR_HANDLER as _INTERNAL_APPLICATION_ERROR_HANDLER, ɵformatRuntimeError as _formatRuntimeError } from '@angular/core';\nimport { isObservable, from, of, BehaviorSubject, combineLatest, EmptyError, Observable, concat, defer, pipe, throwError, EMPTY, Subject, Subscription } from 'rxjs';\nimport { first, map, switchMap, take, startWith, filter, takeUntil, mergeMap, concatMap, tap, catchError, scan, defaultIfEmpty, last as last$1, takeLast, finalize } from 'rxjs/operators';\nimport * as i1 from '@angular/platform-browser';\nconst PRIMARY_OUTLET = 'primary';\nconst RouteTitleKey = /* @__PURE__ */Symbol('RouteTitle');\nclass ParamsAsMap {\n  params;\n  constructor(params) {\n    this.params = params || {};\n  }\n  has(name) {\n    return Object.prototype.hasOwnProperty.call(this.params, name);\n  }\n  get(name) {\n    if (this.has(name)) {\n      const v = this.params[name];\n      return Array.isArray(v) ? v[0] : v;\n    }\n    return null;\n  }\n  getAll(name) {\n    if (this.has(name)) {\n      const v = this.params[name];\n      return Array.isArray(v) ? v : [v];\n    }\n    return [];\n  }\n  get keys() {\n    return Object.keys(this.params);\n  }\n}\nfunction convertToParamMap(params) {\n  return new ParamsAsMap(params);\n}\nfunction defaultUrlMatcher(segments, segmentGroup, route) {\n  const parts = route.path.split('/');\n  if (parts.length > segments.length) {\n    return null;\n  }\n  if (route.pathMatch === 'full' && (segmentGroup.hasChildren() || parts.length < segments.length)) {\n    return null;\n  }\n  const posParams = {};\n  for (let index = 0; index < parts.length; index++) {\n    const part = parts[index];\n    const segment = segments[index];\n    const isParameter = part[0] === ':';\n    if (isParameter) {\n      posParams[part.substring(1)] = segment;\n    } else if (part !== segment.path) {\n      return null;\n    }\n  }\n  return {\n    consumed: segments.slice(0, parts.length),\n    posParams\n  };\n}\nfunction firstValueFrom(source) {\n  return new Promise((resolve, reject) => {\n    source.pipe(first()).subscribe({\n      next: value => resolve(value),\n      error: err => reject(err)\n    });\n  });\n}\nfunction shallowEqualArrays(a, b) {\n  if (a.length !== b.length) return false;\n  for (let i = 0; i < a.length; ++i) {\n    if (!shallowEqual(a[i], b[i])) return false;\n  }\n  return true;\n}\nfunction shallowEqual(a, b) {\n  const k1 = a ? getDataKeys(a) : undefined;\n  const k2 = b ? getDataKeys(b) : undefined;\n  if (!k1 || !k2 || k1.length != k2.length) {\n    return false;\n  }\n  let key;\n  for (let i = 0; i < k1.length; i++) {\n    key = k1[i];\n    if (!equalArraysOrString(a[key], b[key])) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction getDataKeys(obj) {\n  return [...Object.keys(obj), ...Object.getOwnPropertySymbols(obj)];\n}\nfunction equalArraysOrString(a, b) {\n  if (Array.isArray(a) && Array.isArray(b)) {\n    if (a.length !== b.length) return false;\n    const aSorted = [...a].sort();\n    const bSorted = [...b].sort();\n    return aSorted.every((val, index) => bSorted[index] === val);\n  } else {\n    return a === b;\n  }\n}\nfunction last(a) {\n  return a.length > 0 ? a[a.length - 1] : null;\n}\nfunction wrapIntoObservable(value) {\n  if (isObservable(value)) {\n    return value;\n  }\n  if (_isPromise(value)) {\n    return from(Promise.resolve(value));\n  }\n  return of(value);\n}\nfunction wrapIntoPromise(value) {\n  if (isObservable(value)) {\n    return firstValueFrom(value);\n  }\n  return Promise.resolve(value);\n}\nconst pathCompareMap = {\n  'exact': equalSegmentGroups,\n  'subset': containsSegmentGroup\n};\nconst paramCompareMap = {\n  'exact': equalParams,\n  'subset': containsParams,\n  'ignored': () => true\n};\nfunction containsTree(container, containee, options) {\n  return pathCompareMap[options.paths](container.root, containee.root, options.matrixParams) && paramCompareMap[options.queryParams](container.queryParams, containee.queryParams) && !(options.fragment === 'exact' && container.fragment !== containee.fragment);\n}\nfunction equalParams(container, containee) {\n  return shallowEqual(container, containee);\n}\nfunction equalSegmentGroups(container, containee, matrixParams) {\n  if (!equalPath(container.segments, containee.segments)) return false;\n  if (!matrixParamsMatch(container.segments, containee.segments, matrixParams)) {\n    return false;\n  }\n  if (container.numberOfChildren !== containee.numberOfChildren) return false;\n  for (const c in containee.children) {\n    if (!container.children[c]) return false;\n    if (!equalSegmentGroups(container.children[c], containee.children[c], matrixParams)) return false;\n  }\n  return true;\n}\nfunction containsParams(container, containee) {\n  return Object.keys(containee).length <= Object.keys(container).length && Object.keys(containee).every(key => equalArraysOrString(container[key], containee[key]));\n}\nfunction containsSegmentGroup(container, containee, matrixParams) {\n  return containsSegmentGroupHelper(container, containee, containee.segments, matrixParams);\n}\nfunction containsSegmentGroupHelper(container, containee, containeePaths, matrixParams) {\n  if (container.segments.length > containeePaths.length) {\n    const current = container.segments.slice(0, containeePaths.length);\n    if (!equalPath(current, containeePaths)) return false;\n    if (containee.hasChildren()) return false;\n    if (!matrixParamsMatch(current, containeePaths, matrixParams)) return false;\n    return true;\n  } else if (container.segments.length === containeePaths.length) {\n    if (!equalPath(container.segments, containeePaths)) return false;\n    if (!matrixParamsMatch(container.segments, containeePaths, matrixParams)) return false;\n    for (const c in containee.children) {\n      if (!container.children[c]) return false;\n      if (!containsSegmentGroup(container.children[c], containee.children[c], matrixParams)) {\n        return false;\n      }\n    }\n    return true;\n  } else {\n    const current = containeePaths.slice(0, container.segments.length);\n    const next = containeePaths.slice(container.segments.length);\n    if (!equalPath(container.segments, current)) return false;\n    if (!matrixParamsMatch(container.segments, current, matrixParams)) return false;\n    if (!container.children[PRIMARY_OUTLET]) return false;\n    return containsSegmentGroupHelper(container.children[PRIMARY_OUTLET], containee, next, matrixParams);\n  }\n}\nfunction matrixParamsMatch(containerPaths, containeePaths, options) {\n  return containeePaths.every((containeeSegment, i) => {\n    return paramCompareMap[options](containerPaths[i].parameters, containeeSegment.parameters);\n  });\n}\nclass UrlTree {\n  root;\n  queryParams;\n  fragment;\n  _queryParamMap;\n  constructor(root = new UrlSegmentGroup([], {}), queryParams = {}, fragment = null) {\n    this.root = root;\n    this.queryParams = queryParams;\n    this.fragment = fragment;\n    if (typeof ngDevMode === 'undefined' || ngDevMode) {\n      if (root.segments.length > 0) {\n        throw new _RuntimeError(4015, 'The root `UrlSegmentGroup` should not contain `segments`. ' + 'Instead, these segments belong in the `children` so they can be associated with a named outlet.');\n      }\n    }\n  }\n  get queryParamMap() {\n    this._queryParamMap ??= convertToParamMap(this.queryParams);\n    return this._queryParamMap;\n  }\n  toString() {\n    return DEFAULT_SERIALIZER.serialize(this);\n  }\n}\nclass UrlSegmentGroup {\n  segments;\n  children;\n  parent = null;\n  constructor(segments, children) {\n    this.segments = segments;\n    this.children = children;\n    Object.values(children).forEach(v => v.parent = this);\n  }\n  hasChildren() {\n    return this.numberOfChildren > 0;\n  }\n  get numberOfChildren() {\n    return Object.keys(this.children).length;\n  }\n  toString() {\n    return serializePaths(this);\n  }\n}\nclass UrlSegment {\n  path;\n  parameters;\n  _parameterMap;\n  constructor(path, parameters) {\n    this.path = path;\n    this.parameters = parameters;\n  }\n  get parameterMap() {\n    this._parameterMap ??= convertToParamMap(this.parameters);\n    return this._parameterMap;\n  }\n  toString() {\n    return serializePath(this);\n  }\n}\nfunction equalSegments(as, bs) {\n  return equalPath(as, bs) && as.every((a, i) => shallowEqual(a.parameters, bs[i].parameters));\n}\nfunction equalPath(as, bs) {\n  if (as.length !== bs.length) return false;\n  return as.every((a, i) => a.path === bs[i].path);\n}\nfunction mapChildrenIntoArray(segment, fn) {\n  let res = [];\n  Object.entries(segment.children).forEach(([childOutlet, child]) => {\n    if (childOutlet === PRIMARY_OUTLET) {\n      res = res.concat(fn(child, childOutlet));\n    }\n  });\n  Object.entries(segment.children).forEach(([childOutlet, child]) => {\n    if (childOutlet !== PRIMARY_OUTLET) {\n      res = res.concat(fn(child, childOutlet));\n    }\n  });\n  return res;\n}\nlet UrlSerializer = /*#__PURE__*/(() => {\n  class UrlSerializer {\n    static ɵfac = function UrlSerializer_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || UrlSerializer)();\n    };\n    static ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n      token: UrlSerializer,\n      factory: () => (() => new DefaultUrlSerializer())(),\n      providedIn: 'root'\n    });\n  }\n  return UrlSerializer;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nclass DefaultUrlSerializer {\n  parse(url) {\n    const p = new UrlParser(url);\n    return new UrlTree(p.parseRootSegment(), p.parseQueryParams(), p.parseFragment());\n  }\n  serialize(tree) {\n    const segment = `/${serializeSegment(tree.root, true)}`;\n    const query = serializeQueryParams(tree.queryParams);\n    const fragment = typeof tree.fragment === `string` ? `#${encodeUriFragment(tree.fragment)}` : '';\n    return `${segment}${query}${fragment}`;\n  }\n}\nconst DEFAULT_SERIALIZER = /*#__PURE__*/new DefaultUrlSerializer();\nfunction serializePaths(segment) {\n  return segment.segments.map(p => serializePath(p)).join('/');\n}\nfunction serializeSegment(segment, root) {\n  if (!segment.hasChildren()) {\n    return serializePaths(segment);\n  }\n  if (root) {\n    const primary = segment.children[PRIMARY_OUTLET] ? serializeSegment(segment.children[PRIMARY_OUTLET], false) : '';\n    const children = [];\n    Object.entries(segment.children).forEach(([k, v]) => {\n      if (k !== PRIMARY_OUTLET) {\n        children.push(`${k}:${serializeSegment(v, false)}`);\n      }\n    });\n    return children.length > 0 ? `${primary}(${children.join('//')})` : primary;\n  } else {\n    const children = mapChildrenIntoArray(segment, (v, k) => {\n      if (k === PRIMARY_OUTLET) {\n        return [serializeSegment(segment.children[PRIMARY_OUTLET], false)];\n      }\n      return [`${k}:${serializeSegment(v, false)}`];\n    });\n    if (Object.keys(segment.children).length === 1 && segment.children[PRIMARY_OUTLET] != null) {\n      return `${serializePaths(segment)}/${children[0]}`;\n    }\n    return `${serializePaths(segment)}/(${children.join('//')})`;\n  }\n}\nfunction encodeUriString(s) {\n  return encodeURIComponent(s).replace(/%40/g, '@').replace(/%3A/gi, ':').replace(/%24/g, '$').replace(/%2C/gi, ',');\n}\nfunction encodeUriQuery(s) {\n  return encodeUriString(s).replace(/%3B/gi, ';');\n}\nfunction encodeUriFragment(s) {\n  return encodeURI(s);\n}\nfunction encodeUriSegment(s) {\n  return encodeUriString(s).replace(/\\(/g, '%28').replace(/\\)/g, '%29').replace(/%26/gi, '&');\n}\nfunction decode(s) {\n  return decodeURIComponent(s);\n}\nfunction decodeQuery(s) {\n  return decode(s.replace(/\\+/g, '%20'));\n}\nfunction serializePath(path) {\n  return `${encodeUriSegment(path.path)}${serializeMatrixParams(path.parameters)}`;\n}\nfunction serializeMatrixParams(params) {\n  return Object.entries(params).map(([key, value]) => `;${encodeUriSegment(key)}=${encodeUriSegment(value)}`).join('');\n}\nfunction serializeQueryParams(params) {\n  const strParams = Object.entries(params).map(([name, value]) => {\n    return Array.isArray(value) ? value.map(v => `${encodeUriQuery(name)}=${encodeUriQuery(v)}`).join('&') : `${encodeUriQuery(name)}=${encodeUriQuery(value)}`;\n  }).filter(s => s);\n  return strParams.length ? `?${strParams.join('&')}` : '';\n}\nconst SEGMENT_RE = /^[^\\/()?;#]+/;\nfunction matchSegments(str) {\n  const match = str.match(SEGMENT_RE);\n  return match ? match[0] : '';\n}\nconst MATRIX_PARAM_SEGMENT_RE = /^[^\\/()?;=#]+/;\nfunction matchMatrixKeySegments(str) {\n  const match = str.match(MATRIX_PARAM_SEGMENT_RE);\n  return match ? match[0] : '';\n}\nconst QUERY_PARAM_RE = /^[^=?&#]+/;\nfunction matchQueryParams(str) {\n  const match = str.match(QUERY_PARAM_RE);\n  return match ? match[0] : '';\n}\nconst QUERY_PARAM_VALUE_RE = /^[^&#]+/;\nfunction matchUrlQueryParamValue(str) {\n  const match = str.match(QUERY_PARAM_VALUE_RE);\n  return match ? match[0] : '';\n}\nclass UrlParser {\n  url;\n  remaining;\n  constructor(url) {\n    this.url = url;\n    this.remaining = url;\n  }\n  parseRootSegment() {\n    this.consumeOptional('/');\n    if (this.remaining === '' || this.peekStartsWith('?') || this.peekStartsWith('#')) {\n      return new UrlSegmentGroup([], {});\n    }\n    return new UrlSegmentGroup([], this.parseChildren());\n  }\n  parseQueryParams() {\n    const params = {};\n    if (this.consumeOptional('?')) {\n      do {\n        this.parseQueryParam(params);\n      } while (this.consumeOptional('&'));\n    }\n    return params;\n  }\n  parseFragment() {\n    return this.consumeOptional('#') ? decodeURIComponent(this.remaining) : null;\n  }\n  parseChildren() {\n    if (this.remaining === '') {\n      return {};\n    }\n    this.consumeOptional('/');\n    const segments = [];\n    if (!this.peekStartsWith('(')) {\n      segments.push(this.parseSegment());\n    }\n    while (this.peekStartsWith('/') && !this.peekStartsWith('//') && !this.peekStartsWith('/(')) {\n      this.capture('/');\n      segments.push(this.parseSegment());\n    }\n    let children = {};\n    if (this.peekStartsWith('/(')) {\n      this.capture('/');\n      children = this.parseParens(true);\n    }\n    let res = {};\n    if (this.peekStartsWith('(')) {\n      res = this.parseParens(false);\n    }\n    if (segments.length > 0 || Object.keys(children).length > 0) {\n      res[PRIMARY_OUTLET] = new UrlSegmentGroup(segments, children);\n    }\n    return res;\n  }\n  parseSegment() {\n    const path = matchSegments(this.remaining);\n    if (path === '' && this.peekStartsWith(';')) {\n      throw new _RuntimeError(4009, (typeof ngDevMode === 'undefined' || ngDevMode) && `Empty path url segment cannot have parameters: '${this.remaining}'.`);\n    }\n    this.capture(path);\n    return new UrlSegment(decode(path), this.parseMatrixParams());\n  }\n  parseMatrixParams() {\n    const params = {};\n    while (this.consumeOptional(';')) {\n      this.parseParam(params);\n    }\n    return params;\n  }\n  parseParam(params) {\n    const key = matchMatrixKeySegments(this.remaining);\n    if (!key) {\n      return;\n    }\n    this.capture(key);\n    let value = '';\n    if (this.consumeOptional('=')) {\n      const valueMatch = matchSegments(this.remaining);\n      if (valueMatch) {\n        value = valueMatch;\n        this.capture(value);\n      }\n    }\n    params[decode(key)] = decode(value);\n  }\n  parseQueryParam(params) {\n    const key = matchQueryParams(this.remaining);\n    if (!key) {\n      return;\n    }\n    this.capture(key);\n    let value = '';\n    if (this.consumeOptional('=')) {\n      const valueMatch = matchUrlQueryParamValue(this.remaining);\n      if (valueMatch) {\n        value = valueMatch;\n        this.capture(value);\n      }\n    }\n    const decodedKey = decodeQuery(key);\n    const decodedVal = decodeQuery(value);\n    if (params.hasOwnProperty(decodedKey)) {\n      let currentVal = params[decodedKey];\n      if (!Array.isArray(currentVal)) {\n        currentVal = [currentVal];\n        params[decodedKey] = currentVal;\n      }\n      currentVal.push(decodedVal);\n    } else {\n      params[decodedKey] = decodedVal;\n    }\n  }\n  parseParens(allowPrimary) {\n    const segments = {};\n    this.capture('(');\n    while (!this.consumeOptional(')') && this.remaining.length > 0) {\n      const path = matchSegments(this.remaining);\n      const next = this.remaining[path.length];\n      if (next !== '/' && next !== ')' && next !== ';') {\n        throw new _RuntimeError(4010, (typeof ngDevMode === 'undefined' || ngDevMode) && `Cannot parse url '${this.url}'`);\n      }\n      let outletName;\n      if (path.indexOf(':') > -1) {\n        outletName = path.slice(0, path.indexOf(':'));\n        this.capture(outletName);\n        this.capture(':');\n      } else if (allowPrimary) {\n        outletName = PRIMARY_OUTLET;\n      }\n      const children = this.parseChildren();\n      segments[outletName ?? PRIMARY_OUTLET] = Object.keys(children).length === 1 && children[PRIMARY_OUTLET] ? children[PRIMARY_OUTLET] : new UrlSegmentGroup([], children);\n      this.consumeOptional('//');\n    }\n    return segments;\n  }\n  peekStartsWith(str) {\n    return this.remaining.startsWith(str);\n  }\n  consumeOptional(str) {\n    if (this.peekStartsWith(str)) {\n      this.remaining = this.remaining.substring(str.length);\n      return true;\n    }\n    return false;\n  }\n  capture(str) {\n    if (!this.consumeOptional(str)) {\n      throw new _RuntimeError(4011, (typeof ngDevMode === 'undefined' || ngDevMode) && `Expected \"${str}\".`);\n    }\n  }\n}\nfunction createRoot(rootCandidate) {\n  return rootCandidate.segments.length > 0 ? new UrlSegmentGroup([], {\n    [PRIMARY_OUTLET]: rootCandidate\n  }) : rootCandidate;\n}\nfunction squashSegmentGroup(segmentGroup) {\n  const newChildren = {};\n  for (const [childOutlet, child] of Object.entries(segmentGroup.children)) {\n    const childCandidate = squashSegmentGroup(child);\n    if (childOutlet === PRIMARY_OUTLET && childCandidate.segments.length === 0 && childCandidate.hasChildren()) {\n      for (const [grandChildOutlet, grandChild] of Object.entries(childCandidate.children)) {\n        newChildren[grandChildOutlet] = grandChild;\n      }\n    } else if (childCandidate.segments.length > 0 || childCandidate.hasChildren()) {\n      newChildren[childOutlet] = childCandidate;\n    }\n  }\n  const s = new UrlSegmentGroup(segmentGroup.segments, newChildren);\n  return mergeTrivialChildren(s);\n}\nfunction mergeTrivialChildren(s) {\n  if (s.numberOfChildren === 1 && s.children[PRIMARY_OUTLET]) {\n    const c = s.children[PRIMARY_OUTLET];\n    return new UrlSegmentGroup(s.segments.concat(c.segments), c.children);\n  }\n  return s;\n}\nfunction isUrlTree(v) {\n  return v instanceof UrlTree;\n}\nfunction createUrlTreeFromSnapshot(relativeTo, commands, queryParams = null, fragment = null, urlSerializer = new DefaultUrlSerializer()) {\n  const relativeToUrlSegmentGroup = createSegmentGroupFromRoute(relativeTo);\n  return createUrlTreeFromSegmentGroup(relativeToUrlSegmentGroup, commands, queryParams, fragment, urlSerializer);\n}\nfunction createSegmentGroupFromRoute(route) {\n  let targetGroup;\n  function createSegmentGroupFromRouteRecursive(currentRoute) {\n    const childOutlets = {};\n    for (const childSnapshot of currentRoute.children) {\n      const root = createSegmentGroupFromRouteRecursive(childSnapshot);\n      childOutlets[childSnapshot.outlet] = root;\n    }\n    const segmentGroup = new UrlSegmentGroup(currentRoute.url, childOutlets);\n    if (currentRoute === route) {\n      targetGroup = segmentGroup;\n    }\n    return segmentGroup;\n  }\n  const rootCandidate = createSegmentGroupFromRouteRecursive(route.root);\n  const rootSegmentGroup = createRoot(rootCandidate);\n  return targetGroup ?? rootSegmentGroup;\n}\nfunction createUrlTreeFromSegmentGroup(relativeTo, commands, queryParams, fragment, urlSerializer) {\n  let root = relativeTo;\n  while (root.parent) {\n    root = root.parent;\n  }\n  if (commands.length === 0) {\n    return tree(root, root, root, queryParams, fragment, urlSerializer);\n  }\n  const nav = computeNavigation(commands);\n  if (nav.toRoot()) {\n    return tree(root, root, new UrlSegmentGroup([], {}), queryParams, fragment, urlSerializer);\n  }\n  const position = findStartingPositionForTargetGroup(nav, root, relativeTo);\n  const newSegmentGroup = position.processChildren ? updateSegmentGroupChildren(position.segmentGroup, position.index, nav.commands) : updateSegmentGroup(position.segmentGroup, position.index, nav.commands);\n  return tree(root, position.segmentGroup, newSegmentGroup, queryParams, fragment, urlSerializer);\n}\nfunction isMatrixParams(command) {\n  return typeof command === 'object' && command != null && !command.outlets && !command.segmentPath;\n}\nfunction isCommandWithOutlets(command) {\n  return typeof command === 'object' && command != null && command.outlets;\n}\nfunction normalizeQueryParams(k, v, urlSerializer) {\n  k ||= 'ɵ';\n  const tree = new UrlTree();\n  tree.queryParams = {\n    [k]: v\n  };\n  return urlSerializer.parse(urlSerializer.serialize(tree)).queryParams[k];\n}\nfunction tree(oldRoot, oldSegmentGroup, newSegmentGroup, queryParams, fragment, urlSerializer) {\n  const qp = {};\n  for (const [key, value] of Object.entries(queryParams ?? {})) {\n    qp[key] = Array.isArray(value) ? value.map(v => normalizeQueryParams(key, v, urlSerializer)) : normalizeQueryParams(key, value, urlSerializer);\n  }\n  let rootCandidate;\n  if (oldRoot === oldSegmentGroup) {\n    rootCandidate = newSegmentGroup;\n  } else {\n    rootCandidate = replaceSegment(oldRoot, oldSegmentGroup, newSegmentGroup);\n  }\n  const newRoot = createRoot(squashSegmentGroup(rootCandidate));\n  return new UrlTree(newRoot, qp, fragment);\n}\nfunction replaceSegment(current, oldSegment, newSegment) {\n  const children = {};\n  Object.entries(current.children).forEach(([outletName, c]) => {\n    if (c === oldSegment) {\n      children[outletName] = newSegment;\n    } else {\n      children[outletName] = replaceSegment(c, oldSegment, newSegment);\n    }\n  });\n  return new UrlSegmentGroup(current.segments, children);\n}\nclass Navigation {\n  isAbsolute;\n  numberOfDoubleDots;\n  commands;\n  constructor(isAbsolute, numberOfDoubleDots, commands) {\n    this.isAbsolute = isAbsolute;\n    this.numberOfDoubleDots = numberOfDoubleDots;\n    this.commands = commands;\n    if (isAbsolute && commands.length > 0 && isMatrixParams(commands[0])) {\n      throw new _RuntimeError(4003, (typeof ngDevMode === 'undefined' || ngDevMode) && 'Root segment cannot have matrix parameters');\n    }\n    const cmdWithOutlet = commands.find(isCommandWithOutlets);\n    if (cmdWithOutlet && cmdWithOutlet !== last(commands)) {\n      throw new _RuntimeError(4004, (typeof ngDevMode === 'undefined' || ngDevMode) && '{outlets:{}} has to be the last command');\n    }\n  }\n  toRoot() {\n    return this.isAbsolute && this.commands.length === 1 && this.commands[0] == '/';\n  }\n}\nfunction computeNavigation(commands) {\n  if (typeof commands[0] === 'string' && commands.length === 1 && commands[0] === '/') {\n    return new Navigation(true, 0, commands);\n  }\n  let numberOfDoubleDots = 0;\n  let isAbsolute = false;\n  const res = commands.reduce((res, cmd, cmdIdx) => {\n    if (typeof cmd === 'object' && cmd != null) {\n      if (cmd.outlets) {\n        const outlets = {};\n        Object.entries(cmd.outlets).forEach(([name, commands]) => {\n          outlets[name] = typeof commands === 'string' ? commands.split('/') : commands;\n        });\n        return [...res, {\n          outlets\n        }];\n      }\n      if (cmd.segmentPath) {\n        return [...res, cmd.segmentPath];\n      }\n    }\n    if (!(typeof cmd === 'string')) {\n      return [...res, cmd];\n    }\n    if (cmdIdx === 0) {\n      cmd.split('/').forEach((urlPart, partIndex) => {\n        if (partIndex == 0 && urlPart === '.') ;else if (partIndex == 0 && urlPart === '') {\n          isAbsolute = true;\n        } else if (urlPart === '..') {\n          numberOfDoubleDots++;\n        } else if (urlPart != '') {\n          res.push(urlPart);\n        }\n      });\n      return res;\n    }\n    return [...res, cmd];\n  }, []);\n  return new Navigation(isAbsolute, numberOfDoubleDots, res);\n}\nclass Position {\n  segmentGroup;\n  processChildren;\n  index;\n  constructor(segmentGroup, processChildren, index) {\n    this.segmentGroup = segmentGroup;\n    this.processChildren = processChildren;\n    this.index = index;\n  }\n}\nfunction findStartingPositionForTargetGroup(nav, root, target) {\n  if (nav.isAbsolute) {\n    return new Position(root, true, 0);\n  }\n  if (!target) {\n    return new Position(root, false, NaN);\n  }\n  if (target.parent === null) {\n    return new Position(target, true, 0);\n  }\n  const modifier = isMatrixParams(nav.commands[0]) ? 0 : 1;\n  const index = target.segments.length - 1 + modifier;\n  return createPositionApplyingDoubleDots(target, index, nav.numberOfDoubleDots);\n}\nfunction createPositionApplyingDoubleDots(group, index, numberOfDoubleDots) {\n  let g = group;\n  let ci = index;\n  let dd = numberOfDoubleDots;\n  while (dd > ci) {\n    dd -= ci;\n    g = g.parent;\n    if (!g) {\n      throw new _RuntimeError(4005, (typeof ngDevMode === 'undefined' || ngDevMode) && \"Invalid number of '../'\");\n    }\n    ci = g.segments.length;\n  }\n  return new Position(g, false, ci - dd);\n}\nfunction getOutlets(commands) {\n  if (isCommandWithOutlets(commands[0])) {\n    return commands[0].outlets;\n  }\n  return {\n    [PRIMARY_OUTLET]: commands\n  };\n}\nfunction updateSegmentGroup(segmentGroup, startIndex, commands) {\n  segmentGroup ??= new UrlSegmentGroup([], {});\n  if (segmentGroup.segments.length === 0 && segmentGroup.hasChildren()) {\n    return updateSegmentGroupChildren(segmentGroup, startIndex, commands);\n  }\n  const m = prefixedWith(segmentGroup, startIndex, commands);\n  const slicedCommands = commands.slice(m.commandIndex);\n  if (m.match && m.pathIndex < segmentGroup.segments.length) {\n    const g = new UrlSegmentGroup(segmentGroup.segments.slice(0, m.pathIndex), {});\n    g.children[PRIMARY_OUTLET] = new UrlSegmentGroup(segmentGroup.segments.slice(m.pathIndex), segmentGroup.children);\n    return updateSegmentGroupChildren(g, 0, slicedCommands);\n  } else if (m.match && slicedCommands.length === 0) {\n    return new UrlSegmentGroup(segmentGroup.segments, {});\n  } else if (m.match && !segmentGroup.hasChildren()) {\n    return createNewSegmentGroup(segmentGroup, startIndex, commands);\n  } else if (m.match) {\n    return updateSegmentGroupChildren(segmentGroup, 0, slicedCommands);\n  } else {\n    return createNewSegmentGroup(segmentGroup, startIndex, commands);\n  }\n}\nfunction updateSegmentGroupChildren(segmentGroup, startIndex, commands) {\n  if (commands.length === 0) {\n    return new UrlSegmentGroup(segmentGroup.segments, {});\n  } else {\n    const outlets = getOutlets(commands);\n    const children = {};\n    if (Object.keys(outlets).some(o => o !== PRIMARY_OUTLET) && segmentGroup.children[PRIMARY_OUTLET] && segmentGroup.numberOfChildren === 1 && segmentGroup.children[PRIMARY_OUTLET].segments.length === 0) {\n      const childrenOfEmptyChild = updateSegmentGroupChildren(segmentGroup.children[PRIMARY_OUTLET], startIndex, commands);\n      return new UrlSegmentGroup(segmentGroup.segments, childrenOfEmptyChild.children);\n    }\n    Object.entries(outlets).forEach(([outlet, commands]) => {\n      if (typeof commands === 'string') {\n        commands = [commands];\n      }\n      if (commands !== null) {\n        children[outlet] = updateSegmentGroup(segmentGroup.children[outlet], startIndex, commands);\n      }\n    });\n    Object.entries(segmentGroup.children).forEach(([childOutlet, child]) => {\n      if (outlets[childOutlet] === undefined) {\n        children[childOutlet] = child;\n      }\n    });\n    return new UrlSegmentGroup(segmentGroup.segments, children);\n  }\n}\nfunction prefixedWith(segmentGroup, startIndex, commands) {\n  let currentCommandIndex = 0;\n  let currentPathIndex = startIndex;\n  const noMatch = {\n    match: false,\n    pathIndex: 0,\n    commandIndex: 0\n  };\n  while (currentPathIndex < segmentGroup.segments.length) {\n    if (currentCommandIndex >= commands.length) return noMatch;\n    const path = segmentGroup.segments[currentPathIndex];\n    const command = commands[currentCommandIndex];\n    if (isCommandWithOutlets(command)) {\n      break;\n    }\n    const curr = `${command}`;\n    const next = currentCommandIndex < commands.length - 1 ? commands[currentCommandIndex + 1] : null;\n    if (currentPathIndex > 0 && curr === undefined) break;\n    if (curr && next && typeof next === 'object' && next.outlets === undefined) {\n      if (!compare(curr, next, path)) return noMatch;\n      currentCommandIndex += 2;\n    } else {\n      if (!compare(curr, {}, path)) return noMatch;\n      currentCommandIndex++;\n    }\n    currentPathIndex++;\n  }\n  return {\n    match: true,\n    pathIndex: currentPathIndex,\n    commandIndex: currentCommandIndex\n  };\n}\nfunction createNewSegmentGroup(segmentGroup, startIndex, commands) {\n  const paths = segmentGroup.segments.slice(0, startIndex);\n  let i = 0;\n  while (i < commands.length) {\n    const command = commands[i];\n    if (isCommandWithOutlets(command)) {\n      const children = createNewSegmentChildren(command.outlets);\n      return new UrlSegmentGroup(paths, children);\n    }\n    if (i === 0 && isMatrixParams(commands[0])) {\n      const p = segmentGroup.segments[startIndex];\n      paths.push(new UrlSegment(p.path, stringify(commands[0])));\n      i++;\n      continue;\n    }\n    const curr = isCommandWithOutlets(command) ? command.outlets[PRIMARY_OUTLET] : `${command}`;\n    const next = i < commands.length - 1 ? commands[i + 1] : null;\n    if (curr && next && isMatrixParams(next)) {\n      paths.push(new UrlSegment(curr, stringify(next)));\n      i += 2;\n    } else {\n      paths.push(new UrlSegment(curr, {}));\n      i++;\n    }\n  }\n  return new UrlSegmentGroup(paths, {});\n}\nfunction createNewSegmentChildren(outlets) {\n  const children = {};\n  Object.entries(outlets).forEach(([outlet, commands]) => {\n    if (typeof commands === 'string') {\n      commands = [commands];\n    }\n    if (commands !== null) {\n      children[outlet] = createNewSegmentGroup(new UrlSegmentGroup([], {}), 0, commands);\n    }\n  });\n  return children;\n}\nfunction stringify(params) {\n  const res = {};\n  Object.entries(params).forEach(([k, v]) => res[k] = `${v}`);\n  return res;\n}\nfunction compare(path, params, segment) {\n  return path == segment.path && shallowEqual(params, segment.parameters);\n}\nconst IMPERATIVE_NAVIGATION = 'imperative';\nvar EventType = /*#__PURE__*/function (EventType) {\n  EventType[EventType[\"NavigationStart\"] = 0] = \"NavigationStart\";\n  EventType[EventType[\"NavigationEnd\"] = 1] = \"NavigationEnd\";\n  EventType[EventType[\"NavigationCancel\"] = 2] = \"NavigationCancel\";\n  EventType[EventType[\"NavigationError\"] = 3] = \"NavigationError\";\n  EventType[EventType[\"RoutesRecognized\"] = 4] = \"RoutesRecognized\";\n  EventType[EventType[\"ResolveStart\"] = 5] = \"ResolveStart\";\n  EventType[EventType[\"ResolveEnd\"] = 6] = \"ResolveEnd\";\n  EventType[EventType[\"GuardsCheckStart\"] = 7] = \"GuardsCheckStart\";\n  EventType[EventType[\"GuardsCheckEnd\"] = 8] = \"GuardsCheckEnd\";\n  EventType[EventType[\"RouteConfigLoadStart\"] = 9] = \"RouteConfigLoadStart\";\n  EventType[EventType[\"RouteConfigLoadEnd\"] = 10] = \"RouteConfigLoadEnd\";\n  EventType[EventType[\"ChildActivationStart\"] = 11] = \"ChildActivationStart\";\n  EventType[EventType[\"ChildActivationEnd\"] = 12] = \"ChildActivationEnd\";\n  EventType[EventType[\"ActivationStart\"] = 13] = \"ActivationStart\";\n  EventType[EventType[\"ActivationEnd\"] = 14] = \"ActivationEnd\";\n  EventType[EventType[\"Scroll\"] = 15] = \"Scroll\";\n  EventType[EventType[\"NavigationSkipped\"] = 16] = \"NavigationSkipped\";\n  return EventType;\n}(EventType || {});\nclass RouterEvent {\n  id;\n  url;\n  constructor(id, url) {\n    this.id = id;\n    this.url = url;\n  }\n}\nclass NavigationStart extends RouterEvent {\n  type = EventType.NavigationStart;\n  navigationTrigger;\n  restoredState;\n  constructor(id, url, navigationTrigger = 'imperative', restoredState = null) {\n    super(id, url);\n    this.navigationTrigger = navigationTrigger;\n    this.restoredState = restoredState;\n  }\n  toString() {\n    return `NavigationStart(id: ${this.id}, url: '${this.url}')`;\n  }\n}\nclass NavigationEnd extends RouterEvent {\n  urlAfterRedirects;\n  type = EventType.NavigationEnd;\n  constructor(id, url, urlAfterRedirects) {\n    super(id, url);\n    this.urlAfterRedirects = urlAfterRedirects;\n  }\n  toString() {\n    return `NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`;\n  }\n}\nvar NavigationCancellationCode = /*#__PURE__*/function (NavigationCancellationCode) {\n  NavigationCancellationCode[NavigationCancellationCode[\"Redirect\"] = 0] = \"Redirect\";\n  NavigationCancellationCode[NavigationCancellationCode[\"SupersededByNewNavigation\"] = 1] = \"SupersededByNewNavigation\";\n  NavigationCancellationCode[NavigationCancellationCode[\"NoDataFromResolver\"] = 2] = \"NoDataFromResolver\";\n  NavigationCancellationCode[NavigationCancellationCode[\"GuardRejected\"] = 3] = \"GuardRejected\";\n  NavigationCancellationCode[NavigationCancellationCode[\"Aborted\"] = 4] = \"Aborted\";\n  return NavigationCancellationCode;\n}(NavigationCancellationCode || {});\nvar NavigationSkippedCode = /*#__PURE__*/function (NavigationSkippedCode) {\n  NavigationSkippedCode[NavigationSkippedCode[\"IgnoredSameUrlNavigation\"] = 0] = \"IgnoredSameUrlNavigation\";\n  NavigationSkippedCode[NavigationSkippedCode[\"IgnoredByUrlHandlingStrategy\"] = 1] = \"IgnoredByUrlHandlingStrategy\";\n  return NavigationSkippedCode;\n}(NavigationSkippedCode || {});\nclass NavigationCancel extends RouterEvent {\n  reason;\n  code;\n  type = EventType.NavigationCancel;\n  constructor(id, url, reason, code) {\n    super(id, url);\n    this.reason = reason;\n    this.code = code;\n  }\n  toString() {\n    return `NavigationCancel(id: ${this.id}, url: '${this.url}')`;\n  }\n}\nclass NavigationSkipped extends RouterEvent {\n  reason;\n  code;\n  type = EventType.NavigationSkipped;\n  constructor(id, url, reason, code) {\n    super(id, url);\n    this.reason = reason;\n    this.code = code;\n  }\n}\nclass NavigationError extends RouterEvent {\n  error;\n  target;\n  type = EventType.NavigationError;\n  constructor(id, url, error, target) {\n    super(id, url);\n    this.error = error;\n    this.target = target;\n  }\n  toString() {\n    return `NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`;\n  }\n}\nclass RoutesRecognized extends RouterEvent {\n  urlAfterRedirects;\n  state;\n  type = EventType.RoutesRecognized;\n  constructor(id, url, urlAfterRedirects, state) {\n    super(id, url);\n    this.urlAfterRedirects = urlAfterRedirects;\n    this.state = state;\n  }\n  toString() {\n    return `RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`;\n  }\n}\nclass GuardsCheckStart extends RouterEvent {\n  urlAfterRedirects;\n  state;\n  type = EventType.GuardsCheckStart;\n  constructor(id, url, urlAfterRedirects, state) {\n    super(id, url);\n    this.urlAfterRedirects = urlAfterRedirects;\n    this.state = state;\n  }\n  toString() {\n    return `GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`;\n  }\n}\nclass GuardsCheckEnd extends RouterEvent {\n  urlAfterRedirects;\n  state;\n  shouldActivate;\n  type = EventType.GuardsCheckEnd;\n  constructor(id, url, urlAfterRedirects, state, shouldActivate) {\n    super(id, url);\n    this.urlAfterRedirects = urlAfterRedirects;\n    this.state = state;\n    this.shouldActivate = shouldActivate;\n  }\n  toString() {\n    return `GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`;\n  }\n}\nclass ResolveStart extends RouterEvent {\n  urlAfterRedirects;\n  state;\n  type = EventType.ResolveStart;\n  constructor(id, url, urlAfterRedirects, state) {\n    super(id, url);\n    this.urlAfterRedirects = urlAfterRedirects;\n    this.state = state;\n  }\n  toString() {\n    return `ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`;\n  }\n}\nclass ResolveEnd extends RouterEvent {\n  urlAfterRedirects;\n  state;\n  type = EventType.ResolveEnd;\n  constructor(id, url, urlAfterRedirects, state) {\n    super(id, url);\n    this.urlAfterRedirects = urlAfterRedirects;\n    this.state = state;\n  }\n  toString() {\n    return `ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`;\n  }\n}\nclass RouteConfigLoadStart {\n  route;\n  type = EventType.RouteConfigLoadStart;\n  constructor(route) {\n    this.route = route;\n  }\n  toString() {\n    return `RouteConfigLoadStart(path: ${this.route.path})`;\n  }\n}\nclass RouteConfigLoadEnd {\n  route;\n  type = EventType.RouteConfigLoadEnd;\n  constructor(route) {\n    this.route = route;\n  }\n  toString() {\n    return `RouteConfigLoadEnd(path: ${this.route.path})`;\n  }\n}\nclass ChildActivationStart {\n  snapshot;\n  type = EventType.ChildActivationStart;\n  constructor(snapshot) {\n    this.snapshot = snapshot;\n  }\n  toString() {\n    const path = this.snapshot.routeConfig && this.snapshot.routeConfig.path || '';\n    return `ChildActivationStart(path: '${path}')`;\n  }\n}\nclass ChildActivationEnd {\n  snapshot;\n  type = EventType.ChildActivationEnd;\n  constructor(snapshot) {\n    this.snapshot = snapshot;\n  }\n  toString() {\n    const path = this.snapshot.routeConfig && this.snapshot.routeConfig.path || '';\n    return `ChildActivationEnd(path: '${path}')`;\n  }\n}\nclass ActivationStart {\n  snapshot;\n  type = EventType.ActivationStart;\n  constructor(snapshot) {\n    this.snapshot = snapshot;\n  }\n  toString() {\n    const path = this.snapshot.routeConfig && this.snapshot.routeConfig.path || '';\n    return `ActivationStart(path: '${path}')`;\n  }\n}\nclass ActivationEnd {\n  snapshot;\n  type = EventType.ActivationEnd;\n  constructor(snapshot) {\n    this.snapshot = snapshot;\n  }\n  toString() {\n    const path = this.snapshot.routeConfig && this.snapshot.routeConfig.path || '';\n    return `ActivationEnd(path: '${path}')`;\n  }\n}\nclass Scroll {\n  routerEvent;\n  position;\n  anchor;\n  type = EventType.Scroll;\n  constructor(routerEvent, position, anchor) {\n    this.routerEvent = routerEvent;\n    this.position = position;\n    this.anchor = anchor;\n  }\n  toString() {\n    const pos = this.position ? `${this.position[0]}, ${this.position[1]}` : null;\n    return `Scroll(anchor: '${this.anchor}', position: '${pos}')`;\n  }\n}\nclass BeforeActivateRoutes {}\nclass RedirectRequest {\n  url;\n  navigationBehaviorOptions;\n  constructor(url, navigationBehaviorOptions) {\n    this.url = url;\n    this.navigationBehaviorOptions = navigationBehaviorOptions;\n  }\n}\nfunction isPublicRouterEvent(e) {\n  return !(e instanceof BeforeActivateRoutes) && !(e instanceof RedirectRequest);\n}\nfunction stringifyEvent(routerEvent) {\n  switch (routerEvent.type) {\n    case EventType.ActivationEnd:\n      return `ActivationEnd(path: '${routerEvent.snapshot.routeConfig?.path || ''}')`;\n    case EventType.ActivationStart:\n      return `ActivationStart(path: '${routerEvent.snapshot.routeConfig?.path || ''}')`;\n    case EventType.ChildActivationEnd:\n      return `ChildActivationEnd(path: '${routerEvent.snapshot.routeConfig?.path || ''}')`;\n    case EventType.ChildActivationStart:\n      return `ChildActivationStart(path: '${routerEvent.snapshot.routeConfig?.path || ''}')`;\n    case EventType.GuardsCheckEnd:\n      return `GuardsCheckEnd(id: ${routerEvent.id}, url: '${routerEvent.url}', urlAfterRedirects: '${routerEvent.urlAfterRedirects}', state: ${routerEvent.state}, shouldActivate: ${routerEvent.shouldActivate})`;\n    case EventType.GuardsCheckStart:\n      return `GuardsCheckStart(id: ${routerEvent.id}, url: '${routerEvent.url}', urlAfterRedirects: '${routerEvent.urlAfterRedirects}', state: ${routerEvent.state})`;\n    case EventType.NavigationCancel:\n      return `NavigationCancel(id: ${routerEvent.id}, url: '${routerEvent.url}')`;\n    case EventType.NavigationSkipped:\n      return `NavigationSkipped(id: ${routerEvent.id}, url: '${routerEvent.url}')`;\n    case EventType.NavigationEnd:\n      return `NavigationEnd(id: ${routerEvent.id}, url: '${routerEvent.url}', urlAfterRedirects: '${routerEvent.urlAfterRedirects}')`;\n    case EventType.NavigationError:\n      return `NavigationError(id: ${routerEvent.id}, url: '${routerEvent.url}', error: ${routerEvent.error})`;\n    case EventType.NavigationStart:\n      return `NavigationStart(id: ${routerEvent.id}, url: '${routerEvent.url}')`;\n    case EventType.ResolveEnd:\n      return `ResolveEnd(id: ${routerEvent.id}, url: '${routerEvent.url}', urlAfterRedirects: '${routerEvent.urlAfterRedirects}', state: ${routerEvent.state})`;\n    case EventType.ResolveStart:\n      return `ResolveStart(id: ${routerEvent.id}, url: '${routerEvent.url}', urlAfterRedirects: '${routerEvent.urlAfterRedirects}', state: ${routerEvent.state})`;\n    case EventType.RouteConfigLoadEnd:\n      return `RouteConfigLoadEnd(path: ${routerEvent.route.path})`;\n    case EventType.RouteConfigLoadStart:\n      return `RouteConfigLoadStart(path: ${routerEvent.route.path})`;\n    case EventType.RoutesRecognized:\n      return `RoutesRecognized(id: ${routerEvent.id}, url: '${routerEvent.url}', urlAfterRedirects: '${routerEvent.urlAfterRedirects}', state: ${routerEvent.state})`;\n    case EventType.Scroll:\n      const pos = routerEvent.position ? `${routerEvent.position[0]}, ${routerEvent.position[1]}` : null;\n      return `Scroll(anchor: '${routerEvent.anchor}', position: '${pos}')`;\n  }\n}\nfunction getOrCreateRouteInjectorIfNeeded(route, currentInjector) {\n  if (route.providers && !route._injector) {\n    route._injector = createEnvironmentInjector(route.providers, currentInjector, `Route: ${route.path}`);\n  }\n  return route._injector ?? currentInjector;\n}\nfunction validateConfig(config, parentPath = '', requireStandaloneComponents = false) {\n  for (let i = 0; i < config.length; i++) {\n    const route = config[i];\n    const fullPath = getFullPath(parentPath, route);\n    validateNode(route, fullPath, requireStandaloneComponents);\n  }\n}\nfunction assertStandalone(fullPath, component) {\n  if (component && _isNgModule(component)) {\n    throw new _RuntimeError(4014, `Invalid configuration of route '${fullPath}'. You are using 'loadComponent' with a module, ` + `but it must be used with standalone components. Use 'loadChildren' instead.`);\n  } else if (component && !isStandalone(component)) {\n    throw new _RuntimeError(4014, `Invalid configuration of route '${fullPath}'. The component must be standalone.`);\n  }\n}\nfunction validateNode(route, fullPath, requireStandaloneComponents) {\n  if (typeof ngDevMode === 'undefined' || ngDevMode) {\n    if (!route) {\n      throw new _RuntimeError(4014, `\n      Invalid configuration of route '${fullPath}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);\n    }\n    if (Array.isArray(route)) {\n      throw new _RuntimeError(4014, `Invalid configuration of route '${fullPath}': Array cannot be specified`);\n    }\n    if (!route.redirectTo && !route.component && !route.loadComponent && !route.children && !route.loadChildren && route.outlet && route.outlet !== PRIMARY_OUTLET) {\n      throw new _RuntimeError(4014, `Invalid configuration of route '${fullPath}': a componentless route without children or loadChildren cannot have a named outlet set`);\n    }\n    if (route.redirectTo && route.children) {\n      throw new _RuntimeError(4014, `Invalid configuration of route '${fullPath}': redirectTo and children cannot be used together`);\n    }\n    if (route.redirectTo && route.loadChildren) {\n      throw new _RuntimeError(4014, `Invalid configuration of route '${fullPath}': redirectTo and loadChildren cannot be used together`);\n    }\n    if (route.children && route.loadChildren) {\n      throw new _RuntimeError(4014, `Invalid configuration of route '${fullPath}': children and loadChildren cannot be used together`);\n    }\n    if (route.component && route.loadComponent) {\n      throw new _RuntimeError(4014, `Invalid configuration of route '${fullPath}': component and loadComponent cannot be used together`);\n    }\n    if (route.redirectTo) {\n      if (route.component || route.loadComponent) {\n        throw new _RuntimeError(4014, `Invalid configuration of route '${fullPath}': redirectTo and component/loadComponent cannot be used together`);\n      }\n      if (route.canMatch || route.canActivate) {\n        throw new _RuntimeError(4014, `Invalid configuration of route '${fullPath}': redirectTo and ${route.canMatch ? 'canMatch' : 'canActivate'} cannot be used together.` + `Redirects happen before guards are executed.`);\n      }\n    }\n    if (route.path && route.matcher) {\n      throw new _RuntimeError(4014, `Invalid configuration of route '${fullPath}': path and matcher cannot be used together`);\n    }\n    if (route.redirectTo === void 0 && !route.component && !route.loadComponent && !route.children && !route.loadChildren) {\n      throw new _RuntimeError(4014, `Invalid configuration of route '${fullPath}'. One of the following must be provided: component, loadComponent, redirectTo, children or loadChildren`);\n    }\n    if (route.path === void 0 && route.matcher === void 0) {\n      throw new _RuntimeError(4014, `Invalid configuration of route '${fullPath}': routes must have either a path or a matcher specified`);\n    }\n    if (typeof route.path === 'string' && route.path.charAt(0) === '/') {\n      throw new _RuntimeError(4014, `Invalid configuration of route '${fullPath}': path cannot start with a slash`);\n    }\n    if (route.path === '' && route.redirectTo !== void 0 && route.pathMatch === void 0) {\n      const exp = `The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`;\n      throw new _RuntimeError(4014, `Invalid configuration of route '{path: \"${fullPath}\", redirectTo: \"${route.redirectTo}\"}': please provide 'pathMatch'. ${exp}`);\n    }\n    if (requireStandaloneComponents) {\n      assertStandalone(fullPath, route.component);\n    }\n  }\n  if (route.children) {\n    validateConfig(route.children, fullPath, requireStandaloneComponents);\n  }\n}\nfunction getFullPath(parentPath, currentRoute) {\n  if (!currentRoute) {\n    return parentPath;\n  }\n  if (!parentPath && !currentRoute.path) {\n    return '';\n  } else if (parentPath && !currentRoute.path) {\n    return `${parentPath}/`;\n  } else if (!parentPath && currentRoute.path) {\n    return currentRoute.path;\n  } else {\n    return `${parentPath}/${currentRoute.path}`;\n  }\n}\nfunction getOutlet(route) {\n  return route.outlet || PRIMARY_OUTLET;\n}\nfunction sortByMatchingOutlets(routes, outletName) {\n  const sortedConfig = routes.filter(r => getOutlet(r) === outletName);\n  sortedConfig.push(...routes.filter(r => getOutlet(r) !== outletName));\n  return sortedConfig;\n}\nfunction getClosestRouteInjector(snapshot) {\n  if (!snapshot) return null;\n  if (snapshot.routeConfig?._injector) {\n    return snapshot.routeConfig._injector;\n  }\n  for (let s = snapshot.parent; s; s = s.parent) {\n    const route = s.routeConfig;\n    if (route?._loadedInjector) return route._loadedInjector;\n    if (route?._injector) return route._injector;\n  }\n  return null;\n}\nclass OutletContext {\n  rootInjector;\n  outlet = null;\n  route = null;\n  children;\n  attachRef = null;\n  get injector() {\n    return getClosestRouteInjector(this.route?.snapshot) ?? this.rootInjector;\n  }\n  constructor(rootInjector) {\n    this.rootInjector = rootInjector;\n    this.children = new ChildrenOutletContexts(this.rootInjector);\n  }\n}\nlet ChildrenOutletContexts = /*#__PURE__*/(() => {\n  class ChildrenOutletContexts {\n    rootInjector;\n    contexts = new Map();\n    constructor(rootInjector) {\n      this.rootInjector = rootInjector;\n    }\n    onChildOutletCreated(childName, outlet) {\n      const context = this.getOrCreateContext(childName);\n      context.outlet = outlet;\n      this.contexts.set(childName, context);\n    }\n    onChildOutletDestroyed(childName) {\n      const context = this.getContext(childName);\n      if (context) {\n        context.outlet = null;\n        context.attachRef = null;\n      }\n    }\n    onOutletDeactivated() {\n      const contexts = this.contexts;\n      this.contexts = new Map();\n      return contexts;\n    }\n    onOutletReAttached(contexts) {\n      this.contexts = contexts;\n    }\n    getOrCreateContext(childName) {\n      let context = this.getContext(childName);\n      if (!context) {\n        context = new OutletContext(this.rootInjector);\n        this.contexts.set(childName, context);\n      }\n      return context;\n    }\n    getContext(childName) {\n      return this.contexts.get(childName) || null;\n    }\n    static ɵfac = function ChildrenOutletContexts_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || ChildrenOutletContexts)(i0.ɵɵinject(i0.EnvironmentInjector));\n    };\n    static ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n      token: ChildrenOutletContexts,\n      factory: ChildrenOutletContexts.ɵfac,\n      providedIn: 'root'\n    });\n  }\n  return ChildrenOutletContexts;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nclass Tree {\n  _root;\n  constructor(root) {\n    this._root = root;\n  }\n  get root() {\n    return this._root.value;\n  }\n  parent(t) {\n    const p = this.pathFromRoot(t);\n    return p.length > 1 ? p[p.length - 2] : null;\n  }\n  children(t) {\n    const n = findNode(t, this._root);\n    return n ? n.children.map(t => t.value) : [];\n  }\n  firstChild(t) {\n    const n = findNode(t, this._root);\n    return n && n.children.length > 0 ? n.children[0].value : null;\n  }\n  siblings(t) {\n    const p = findPath(t, this._root);\n    if (p.length < 2) return [];\n    const c = p[p.length - 2].children.map(c => c.value);\n    return c.filter(cc => cc !== t);\n  }\n  pathFromRoot(t) {\n    return findPath(t, this._root).map(s => s.value);\n  }\n}\nfunction findNode(value, node) {\n  if (value === node.value) return node;\n  for (const child of node.children) {\n    const node = findNode(value, child);\n    if (node) return node;\n  }\n  return null;\n}\nfunction findPath(value, node) {\n  if (value === node.value) return [node];\n  for (const child of node.children) {\n    const path = findPath(value, child);\n    if (path.length) {\n      path.unshift(node);\n      return path;\n    }\n  }\n  return [];\n}\nclass TreeNode {\n  value;\n  children;\n  constructor(value, children) {\n    this.value = value;\n    this.children = children;\n  }\n  toString() {\n    return `TreeNode(${this.value})`;\n  }\n}\nfunction nodeChildrenAsMap(node) {\n  const map = {};\n  if (node) {\n    node.children.forEach(child => map[child.value.outlet] = child);\n  }\n  return map;\n}\nclass RouterState extends Tree {\n  snapshot;\n  constructor(root, snapshot) {\n    super(root);\n    this.snapshot = snapshot;\n    setRouterState(this, root);\n  }\n  toString() {\n    return this.snapshot.toString();\n  }\n}\nfunction createEmptyState(rootComponent) {\n  const snapshot = createEmptyStateSnapshot(rootComponent);\n  const emptyUrl = new BehaviorSubject([new UrlSegment('', {})]);\n  const emptyParams = new BehaviorSubject({});\n  const emptyData = new BehaviorSubject({});\n  const emptyQueryParams = new BehaviorSubject({});\n  const fragment = new BehaviorSubject('');\n  const activated = new ActivatedRoute(emptyUrl, emptyParams, emptyQueryParams, fragment, emptyData, PRIMARY_OUTLET, rootComponent, snapshot.root);\n  activated.snapshot = snapshot.root;\n  return new RouterState(new TreeNode(activated, []), snapshot);\n}\nfunction createEmptyStateSnapshot(rootComponent) {\n  const emptyParams = {};\n  const emptyData = {};\n  const emptyQueryParams = {};\n  const fragment = '';\n  const activated = new ActivatedRouteSnapshot([], emptyParams, emptyQueryParams, fragment, emptyData, PRIMARY_OUTLET, rootComponent, null, {});\n  return new RouterStateSnapshot('', new TreeNode(activated, []));\n}\nclass ActivatedRoute {\n  urlSubject;\n  paramsSubject;\n  queryParamsSubject;\n  fragmentSubject;\n  dataSubject;\n  outlet;\n  component;\n  snapshot;\n  _futureSnapshot;\n  _routerState;\n  _paramMap;\n  _queryParamMap;\n  title;\n  url;\n  params;\n  queryParams;\n  fragment;\n  data;\n  constructor(urlSubject, paramsSubject, queryParamsSubject, fragmentSubject, dataSubject, outlet, component, futureSnapshot) {\n    this.urlSubject = urlSubject;\n    this.paramsSubject = paramsSubject;\n    this.queryParamsSubject = queryParamsSubject;\n    this.fragmentSubject = fragmentSubject;\n    this.dataSubject = dataSubject;\n    this.outlet = outlet;\n    this.component = component;\n    this._futureSnapshot = futureSnapshot;\n    this.title = this.dataSubject?.pipe(map(d => d[RouteTitleKey])) ?? of(undefined);\n    this.url = urlSubject;\n    this.params = paramsSubject;\n    this.queryParams = queryParamsSubject;\n    this.fragment = fragmentSubject;\n    this.data = dataSubject;\n  }\n  get routeConfig() {\n    return this._futureSnapshot.routeConfig;\n  }\n  get root() {\n    return this._routerState.root;\n  }\n  get parent() {\n    return this._routerState.parent(this);\n  }\n  get firstChild() {\n    return this._routerState.firstChild(this);\n  }\n  get children() {\n    return this._routerState.children(this);\n  }\n  get pathFromRoot() {\n    return this._routerState.pathFromRoot(this);\n  }\n  get paramMap() {\n    this._paramMap ??= this.params.pipe(map(p => convertToParamMap(p)));\n    return this._paramMap;\n  }\n  get queryParamMap() {\n    this._queryParamMap ??= this.queryParams.pipe(map(p => convertToParamMap(p)));\n    return this._queryParamMap;\n  }\n  toString() {\n    return this.snapshot ? this.snapshot.toString() : `Future(${this._futureSnapshot})`;\n  }\n}\nfunction getInherited(route, parent, paramsInheritanceStrategy = 'emptyOnly') {\n  let inherited;\n  const {\n    routeConfig\n  } = route;\n  if (parent !== null && (paramsInheritanceStrategy === 'always' || routeConfig?.path === '' || !parent.component && !parent.routeConfig?.loadComponent)) {\n    inherited = {\n      params: {\n        ...parent.params,\n        ...route.params\n      },\n      data: {\n        ...parent.data,\n        ...route.data\n      },\n      resolve: {\n        ...route.data,\n        ...parent.data,\n        ...routeConfig?.data,\n        ...route._resolvedData\n      }\n    };\n  } else {\n    inherited = {\n      params: {\n        ...route.params\n      },\n      data: {\n        ...route.data\n      },\n      resolve: {\n        ...route.data,\n        ...(route._resolvedData ?? {})\n      }\n    };\n  }\n  if (routeConfig && hasStaticTitle(routeConfig)) {\n    inherited.resolve[RouteTitleKey] = routeConfig.title;\n  }\n  return inherited;\n}\nclass ActivatedRouteSnapshot {\n  url;\n  params;\n  queryParams;\n  fragment;\n  data;\n  outlet;\n  component;\n  routeConfig;\n  _resolve;\n  _resolvedData;\n  _routerState;\n  _paramMap;\n  _queryParamMap;\n  get title() {\n    return this.data?.[RouteTitleKey];\n  }\n  constructor(url, params, queryParams, fragment, data, outlet, component, routeConfig, resolve) {\n    this.url = url;\n    this.params = params;\n    this.queryParams = queryParams;\n    this.fragment = fragment;\n    this.data = data;\n    this.outlet = outlet;\n    this.component = component;\n    this.routeConfig = routeConfig;\n    this._resolve = resolve;\n  }\n  get root() {\n    return this._routerState.root;\n  }\n  get parent() {\n    return this._routerState.parent(this);\n  }\n  get firstChild() {\n    return this._routerState.firstChild(this);\n  }\n  get children() {\n    return this._routerState.children(this);\n  }\n  get pathFromRoot() {\n    return this._routerState.pathFromRoot(this);\n  }\n  get paramMap() {\n    this._paramMap ??= convertToParamMap(this.params);\n    return this._paramMap;\n  }\n  get queryParamMap() {\n    this._queryParamMap ??= convertToParamMap(this.queryParams);\n    return this._queryParamMap;\n  }\n  toString() {\n    const url = this.url.map(segment => segment.toString()).join('/');\n    const matched = this.routeConfig ? this.routeConfig.path : '';\n    return `Route(url:'${url}', path:'${matched}')`;\n  }\n}\nclass RouterStateSnapshot extends Tree {\n  url;\n  constructor(url, root) {\n    super(root);\n    this.url = url;\n    setRouterState(this, root);\n  }\n  toString() {\n    return serializeNode(this._root);\n  }\n}\nfunction setRouterState(state, node) {\n  node.value._routerState = state;\n  node.children.forEach(c => setRouterState(state, c));\n}\nfunction serializeNode(node) {\n  const c = node.children.length > 0 ? ` { ${node.children.map(serializeNode).join(', ')} } ` : '';\n  return `${node.value}${c}`;\n}\nfunction advanceActivatedRoute(route) {\n  if (route.snapshot) {\n    const currentSnapshot = route.snapshot;\n    const nextSnapshot = route._futureSnapshot;\n    route.snapshot = nextSnapshot;\n    if (!shallowEqual(currentSnapshot.queryParams, nextSnapshot.queryParams)) {\n      route.queryParamsSubject.next(nextSnapshot.queryParams);\n    }\n    if (currentSnapshot.fragment !== nextSnapshot.fragment) {\n      route.fragmentSubject.next(nextSnapshot.fragment);\n    }\n    if (!shallowEqual(currentSnapshot.params, nextSnapshot.params)) {\n      route.paramsSubject.next(nextSnapshot.params);\n    }\n    if (!shallowEqualArrays(currentSnapshot.url, nextSnapshot.url)) {\n      route.urlSubject.next(nextSnapshot.url);\n    }\n    if (!shallowEqual(currentSnapshot.data, nextSnapshot.data)) {\n      route.dataSubject.next(nextSnapshot.data);\n    }\n  } else {\n    route.snapshot = route._futureSnapshot;\n    route.dataSubject.next(route._futureSnapshot.data);\n  }\n}\nfunction equalParamsAndUrlSegments(a, b) {\n  const equalUrlParams = shallowEqual(a.params, b.params) && equalSegments(a.url, b.url);\n  const parentsMismatch = !a.parent !== !b.parent;\n  return equalUrlParams && !parentsMismatch && (!a.parent || equalParamsAndUrlSegments(a.parent, b.parent));\n}\nfunction hasStaticTitle(config) {\n  return typeof config.title === 'string' || config.title === null;\n}\nconst ROUTER_OUTLET_DATA = /*#__PURE__*/new InjectionToken(typeof ngDevMode !== 'undefined' && ngDevMode ? 'RouterOutlet data' : '');\nlet RouterOutlet = /*#__PURE__*/(() => {\n  class RouterOutlet {\n    activated = null;\n    get activatedComponentRef() {\n      return this.activated;\n    }\n    _activatedRoute = null;\n    name = PRIMARY_OUTLET;\n    activateEvents = new EventEmitter();\n    deactivateEvents = new EventEmitter();\n    attachEvents = new EventEmitter();\n    detachEvents = new EventEmitter();\n    routerOutletData = input(...(ngDevMode ? [undefined, {\n      debugName: \"routerOutletData\"\n    }] : []));\n    parentContexts = inject(ChildrenOutletContexts);\n    location = inject(ViewContainerRef);\n    changeDetector = inject(ChangeDetectorRef);\n    inputBinder = inject(INPUT_BINDER, {\n      optional: true\n    });\n    supportsBindingToComponentInputs = true;\n    ngOnChanges(changes) {\n      if (changes['name']) {\n        const {\n          firstChange,\n          previousValue\n        } = changes['name'];\n        if (firstChange) {\n          return;\n        }\n        if (this.isTrackedInParentContexts(previousValue)) {\n          this.deactivate();\n          this.parentContexts.onChildOutletDestroyed(previousValue);\n        }\n        this.initializeOutletWithName();\n      }\n    }\n    ngOnDestroy() {\n      if (this.isTrackedInParentContexts(this.name)) {\n        this.parentContexts.onChildOutletDestroyed(this.name);\n      }\n      this.inputBinder?.unsubscribeFromRouteData(this);\n    }\n    isTrackedInParentContexts(outletName) {\n      return this.parentContexts.getContext(outletName)?.outlet === this;\n    }\n    ngOnInit() {\n      this.initializeOutletWithName();\n    }\n    initializeOutletWithName() {\n      this.parentContexts.onChildOutletCreated(this.name, this);\n      if (this.activated) {\n        return;\n      }\n      const context = this.parentContexts.getContext(this.name);\n      if (context?.route) {\n        if (context.attachRef) {\n          this.attach(context.attachRef, context.route);\n        } else {\n          this.activateWith(context.route, context.injector);\n        }\n      }\n    }\n    get isActivated() {\n      return !!this.activated;\n    }\n    get component() {\n      if (!this.activated) throw new _RuntimeError(4012, (typeof ngDevMode === 'undefined' || ngDevMode) && 'Outlet is not activated');\n      return this.activated.instance;\n    }\n    get activatedRoute() {\n      if (!this.activated) throw new _RuntimeError(4012, (typeof ngDevMode === 'undefined' || ngDevMode) && 'Outlet is not activated');\n      return this._activatedRoute;\n    }\n    get activatedRouteData() {\n      if (this._activatedRoute) {\n        return this._activatedRoute.snapshot.data;\n      }\n      return {};\n    }\n    detach() {\n      if (!this.activated) throw new _RuntimeError(4012, (typeof ngDevMode === 'undefined' || ngDevMode) && 'Outlet is not activated');\n      this.location.detach();\n      const cmp = this.activated;\n      this.activated = null;\n      this._activatedRoute = null;\n      this.detachEvents.emit(cmp.instance);\n      return cmp;\n    }\n    attach(ref, activatedRoute) {\n      this.activated = ref;\n      this._activatedRoute = activatedRoute;\n      this.location.insert(ref.hostView);\n      this.inputBinder?.bindActivatedRouteToOutletComponent(this);\n      this.attachEvents.emit(ref.instance);\n    }\n    deactivate() {\n      if (this.activated) {\n        const c = this.component;\n        this.activated.destroy();\n        this.activated = null;\n        this._activatedRoute = null;\n        this.deactivateEvents.emit(c);\n      }\n    }\n    activateWith(activatedRoute, environmentInjector) {\n      if (this.isActivated) {\n        throw new _RuntimeError(4013, (typeof ngDevMode === 'undefined' || ngDevMode) && 'Cannot activate an already activated outlet');\n      }\n      this._activatedRoute = activatedRoute;\n      const location = this.location;\n      const snapshot = activatedRoute.snapshot;\n      const component = snapshot.component;\n      const childContexts = this.parentContexts.getOrCreateContext(this.name).children;\n      const injector = new OutletInjector(activatedRoute, childContexts, location.injector, this.routerOutletData);\n      this.activated = location.createComponent(component, {\n        index: location.length,\n        injector,\n        environmentInjector: environmentInjector\n      });\n      this.changeDetector.markForCheck();\n      this.inputBinder?.bindActivatedRouteToOutletComponent(this);\n      this.activateEvents.emit(this.activated.instance);\n    }\n    static ɵfac = function RouterOutlet_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || RouterOutlet)();\n    };\n    static ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n      type: RouterOutlet,\n      selectors: [[\"router-outlet\"]],\n      inputs: {\n        name: \"name\",\n        routerOutletData: [1, \"routerOutletData\"]\n      },\n      outputs: {\n        activateEvents: \"activate\",\n        deactivateEvents: \"deactivate\",\n        attachEvents: \"attach\",\n        detachEvents: \"detach\"\n      },\n      exportAs: [\"outlet\"],\n      features: [i0.ɵɵNgOnChangesFeature]\n    });\n  }\n  return RouterOutlet;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nclass OutletInjector {\n  route;\n  childContexts;\n  parent;\n  outletData;\n  constructor(route, childContexts, parent, outletData) {\n    this.route = route;\n    this.childContexts = childContexts;\n    this.parent = parent;\n    this.outletData = outletData;\n  }\n  get(token, notFoundValue) {\n    if (token === ActivatedRoute) {\n      return this.route;\n    }\n    if (token === ChildrenOutletContexts) {\n      return this.childContexts;\n    }\n    if (token === ROUTER_OUTLET_DATA) {\n      return this.outletData;\n    }\n    return this.parent.get(token, notFoundValue);\n  }\n}\nconst INPUT_BINDER = /*#__PURE__*/new InjectionToken(typeof ngDevMode !== 'undefined' && ngDevMode ? 'Router Input Binder' : '');\nlet RoutedComponentInputBinder = /*#__PURE__*/(() => {\n  class RoutedComponentInputBinder {\n    outletDataSubscriptions = new Map();\n    bindActivatedRouteToOutletComponent(outlet) {\n      this.unsubscribeFromRouteData(outlet);\n      this.subscribeToRouteData(outlet);\n    }\n    unsubscribeFromRouteData(outlet) {\n      this.outletDataSubscriptions.get(outlet)?.unsubscribe();\n      this.outletDataSubscriptions.delete(outlet);\n    }\n    subscribeToRouteData(outlet) {\n      const {\n        activatedRoute\n      } = outlet;\n      const dataSubscription = combineLatest([activatedRoute.queryParams, activatedRoute.params, activatedRoute.data]).pipe(switchMap(([queryParams, params, data], index) => {\n        data = {\n          ...queryParams,\n          ...params,\n          ...data\n        };\n        if (index === 0) {\n          return of(data);\n        }\n        return Promise.resolve(data);\n      })).subscribe(data => {\n        if (!outlet.isActivated || !outlet.activatedComponentRef || outlet.activatedRoute !== activatedRoute || activatedRoute.component === null) {\n          this.unsubscribeFromRouteData(outlet);\n          return;\n        }\n        const mirror = reflectComponentType(activatedRoute.component);\n        if (!mirror) {\n          this.unsubscribeFromRouteData(outlet);\n          return;\n        }\n        for (const {\n          templateName\n        } of mirror.inputs) {\n          outlet.activatedComponentRef.setInput(templateName, data[templateName]);\n        }\n      });\n      this.outletDataSubscriptions.set(outlet, dataSubscription);\n    }\n    static ɵfac = function RoutedComponentInputBinder_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || RoutedComponentInputBinder)();\n    };\n    static ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n      token: RoutedComponentInputBinder,\n      factory: RoutedComponentInputBinder.ɵfac\n    });\n  }\n  return RoutedComponentInputBinder;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet ɵEmptyOutletComponent = /*#__PURE__*/(() => {\n  class ɵEmptyOutletComponent {\n    static ɵfac = function ɵEmptyOutletComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || ɵEmptyOutletComponent)();\n    };\n    static ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n      type: ɵEmptyOutletComponent,\n      selectors: [[\"ng-component\"]],\n      exportAs: [\"emptyRouterOutlet\"],\n      decls: 1,\n      vars: 0,\n      template: function _EmptyOutletComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelement(0, \"router-outlet\");\n        }\n      },\n      dependencies: [RouterOutlet],\n      encapsulation: 2\n    });\n  }\n  return ɵEmptyOutletComponent;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nfunction standardizeConfig(r) {\n  const children = r.children && r.children.map(standardizeConfig);\n  const c = children ? {\n    ...r,\n    children\n  } : {\n    ...r\n  };\n  if (!c.component && !c.loadComponent && (children || c.loadChildren) && c.outlet && c.outlet !== PRIMARY_OUTLET) {\n    c.component = ɵEmptyOutletComponent;\n  }\n  return c;\n}\nfunction createRouterState(routeReuseStrategy, curr, prevState) {\n  const root = createNode(routeReuseStrategy, curr._root, prevState ? prevState._root : undefined);\n  return new RouterState(root, curr);\n}\nfunction createNode(routeReuseStrategy, curr, prevState) {\n  if (prevState && routeReuseStrategy.shouldReuseRoute(curr.value, prevState.value.snapshot)) {\n    const value = prevState.value;\n    value._futureSnapshot = curr.value;\n    const children = createOrReuseChildren(routeReuseStrategy, curr, prevState);\n    return new TreeNode(value, children);\n  } else {\n    if (routeReuseStrategy.shouldAttach(curr.value)) {\n      const detachedRouteHandle = routeReuseStrategy.retrieve(curr.value);\n      if (detachedRouteHandle !== null) {\n        const tree = detachedRouteHandle.route;\n        tree.value._futureSnapshot = curr.value;\n        tree.children = curr.children.map(c => createNode(routeReuseStrategy, c));\n        return tree;\n      }\n    }\n    const value = createActivatedRoute(curr.value);\n    const children = curr.children.map(c => createNode(routeReuseStrategy, c));\n    return new TreeNode(value, children);\n  }\n}\nfunction createOrReuseChildren(routeReuseStrategy, curr, prevState) {\n  return curr.children.map(child => {\n    for (const p of prevState.children) {\n      if (routeReuseStrategy.shouldReuseRoute(child.value, p.value.snapshot)) {\n        return createNode(routeReuseStrategy, child, p);\n      }\n    }\n    return createNode(routeReuseStrategy, child);\n  });\n}\nfunction createActivatedRoute(c) {\n  return new ActivatedRoute(new BehaviorSubject(c.url), new BehaviorSubject(c.params), new BehaviorSubject(c.queryParams), new BehaviorSubject(c.fragment), new BehaviorSubject(c.data), c.outlet, c.component, c);\n}\nclass RedirectCommand {\n  redirectTo;\n  navigationBehaviorOptions;\n  constructor(redirectTo, navigationBehaviorOptions) {\n    this.redirectTo = redirectTo;\n    this.navigationBehaviorOptions = navigationBehaviorOptions;\n  }\n}\nconst NAVIGATION_CANCELING_ERROR = 'ngNavigationCancelingError';\nfunction redirectingNavigationError(urlSerializer, redirect) {\n  const {\n    redirectTo,\n    navigationBehaviorOptions\n  } = isUrlTree(redirect) ? {\n    redirectTo: redirect,\n    navigationBehaviorOptions: undefined\n  } : redirect;\n  const error = navigationCancelingError(ngDevMode && `Redirecting to \"${urlSerializer.serialize(redirectTo)}\"`, NavigationCancellationCode.Redirect);\n  error.url = redirectTo;\n  error.navigationBehaviorOptions = navigationBehaviorOptions;\n  return error;\n}\nfunction navigationCancelingError(message, code) {\n  const error = new Error(`NavigationCancelingError: ${message || ''}`);\n  error[NAVIGATION_CANCELING_ERROR] = true;\n  error.cancellationCode = code;\n  return error;\n}\nfunction isRedirectingNavigationCancelingError(error) {\n  return isNavigationCancelingError(error) && isUrlTree(error.url);\n}\nfunction isNavigationCancelingError(error) {\n  return !!error && error[NAVIGATION_CANCELING_ERROR];\n}\nlet warnedAboutUnsupportedInputBinding = false;\nconst activateRoutes = (rootContexts, routeReuseStrategy, forwardEvent, inputBindingEnabled) => map(t => {\n  new ActivateRoutes(routeReuseStrategy, t.targetRouterState, t.currentRouterState, forwardEvent, inputBindingEnabled).activate(rootContexts);\n  return t;\n});\nclass ActivateRoutes {\n  routeReuseStrategy;\n  futureState;\n  currState;\n  forwardEvent;\n  inputBindingEnabled;\n  constructor(routeReuseStrategy, futureState, currState, forwardEvent, inputBindingEnabled) {\n    this.routeReuseStrategy = routeReuseStrategy;\n    this.futureState = futureState;\n    this.currState = currState;\n    this.forwardEvent = forwardEvent;\n    this.inputBindingEnabled = inputBindingEnabled;\n  }\n  activate(parentContexts) {\n    const futureRoot = this.futureState._root;\n    const currRoot = this.currState ? this.currState._root : null;\n    this.deactivateChildRoutes(futureRoot, currRoot, parentContexts);\n    advanceActivatedRoute(this.futureState.root);\n    this.activateChildRoutes(futureRoot, currRoot, parentContexts);\n  }\n  deactivateChildRoutes(futureNode, currNode, contexts) {\n    const children = nodeChildrenAsMap(currNode);\n    futureNode.children.forEach(futureChild => {\n      const childOutletName = futureChild.value.outlet;\n      this.deactivateRoutes(futureChild, children[childOutletName], contexts);\n      delete children[childOutletName];\n    });\n    Object.values(children).forEach(v => {\n      this.deactivateRouteAndItsChildren(v, contexts);\n    });\n  }\n  deactivateRoutes(futureNode, currNode, parentContext) {\n    const future = futureNode.value;\n    const curr = currNode ? currNode.value : null;\n    if (future === curr) {\n      if (future.component) {\n        const context = parentContext.getContext(future.outlet);\n        if (context) {\n          this.deactivateChildRoutes(futureNode, currNode, context.children);\n        }\n      } else {\n        this.deactivateChildRoutes(futureNode, currNode, parentContext);\n      }\n    } else {\n      if (curr) {\n        this.deactivateRouteAndItsChildren(currNode, parentContext);\n      }\n    }\n  }\n  deactivateRouteAndItsChildren(route, parentContexts) {\n    if (route.value.component && this.routeReuseStrategy.shouldDetach(route.value.snapshot)) {\n      this.detachAndStoreRouteSubtree(route, parentContexts);\n    } else {\n      this.deactivateRouteAndOutlet(route, parentContexts);\n    }\n  }\n  detachAndStoreRouteSubtree(route, parentContexts) {\n    const context = parentContexts.getContext(route.value.outlet);\n    const contexts = context && route.value.component ? context.children : parentContexts;\n    const children = nodeChildrenAsMap(route);\n    for (const treeNode of Object.values(children)) {\n      this.deactivateRouteAndItsChildren(treeNode, contexts);\n    }\n    if (context && context.outlet) {\n      const componentRef = context.outlet.detach();\n      const contexts = context.children.onOutletDeactivated();\n      this.routeReuseStrategy.store(route.value.snapshot, {\n        componentRef,\n        route,\n        contexts\n      });\n    }\n  }\n  deactivateRouteAndOutlet(route, parentContexts) {\n    const context = parentContexts.getContext(route.value.outlet);\n    const contexts = context && route.value.component ? context.children : parentContexts;\n    const children = nodeChildrenAsMap(route);\n    for (const treeNode of Object.values(children)) {\n      this.deactivateRouteAndItsChildren(treeNode, contexts);\n    }\n    if (context) {\n      if (context.outlet) {\n        context.outlet.deactivate();\n        context.children.onOutletDeactivated();\n      }\n      context.attachRef = null;\n      context.route = null;\n    }\n  }\n  activateChildRoutes(futureNode, currNode, contexts) {\n    const children = nodeChildrenAsMap(currNode);\n    futureNode.children.forEach(c => {\n      this.activateRoutes(c, children[c.value.outlet], contexts);\n      this.forwardEvent(new ActivationEnd(c.value.snapshot));\n    });\n    if (futureNode.children.length) {\n      this.forwardEvent(new ChildActivationEnd(futureNode.value.snapshot));\n    }\n  }\n  activateRoutes(futureNode, currNode, parentContexts) {\n    const future = futureNode.value;\n    const curr = currNode ? currNode.value : null;\n    advanceActivatedRoute(future);\n    if (future === curr) {\n      if (future.component) {\n        const context = parentContexts.getOrCreateContext(future.outlet);\n        this.activateChildRoutes(futureNode, currNode, context.children);\n      } else {\n        this.activateChildRoutes(futureNode, currNode, parentContexts);\n      }\n    } else {\n      if (future.component) {\n        const context = parentContexts.getOrCreateContext(future.outlet);\n        if (this.routeReuseStrategy.shouldAttach(future.snapshot)) {\n          const stored = this.routeReuseStrategy.retrieve(future.snapshot);\n          this.routeReuseStrategy.store(future.snapshot, null);\n          context.children.onOutletReAttached(stored.contexts);\n          context.attachRef = stored.componentRef;\n          context.route = stored.route.value;\n          if (context.outlet) {\n            context.outlet.attach(stored.componentRef, stored.route.value);\n          }\n          advanceActivatedRoute(stored.route.value);\n          this.activateChildRoutes(futureNode, null, context.children);\n        } else {\n          context.attachRef = null;\n          context.route = future;\n          if (context.outlet) {\n            context.outlet.activateWith(future, context.injector);\n          }\n          this.activateChildRoutes(futureNode, null, context.children);\n        }\n      } else {\n        this.activateChildRoutes(futureNode, null, parentContexts);\n      }\n    }\n    if (typeof ngDevMode === 'undefined' || ngDevMode) {\n      const context = parentContexts.getOrCreateContext(future.outlet);\n      const outlet = context.outlet;\n      if (outlet && this.inputBindingEnabled && !outlet.supportsBindingToComponentInputs && !warnedAboutUnsupportedInputBinding) {\n        console.warn(`'withComponentInputBinding' feature is enabled but ` + `this application is using an outlet that may not support binding to component inputs.`);\n        warnedAboutUnsupportedInputBinding = true;\n      }\n    }\n  }\n}\nclass CanActivate {\n  path;\n  route;\n  constructor(path) {\n    this.path = path;\n    this.route = this.path[this.path.length - 1];\n  }\n}\nclass CanDeactivate {\n  component;\n  route;\n  constructor(component, route) {\n    this.component = component;\n    this.route = route;\n  }\n}\nfunction getAllRouteGuards(future, curr, parentContexts) {\n  const futureRoot = future._root;\n  const currRoot = curr ? curr._root : null;\n  return getChildRouteGuards(futureRoot, currRoot, parentContexts, [futureRoot.value]);\n}\nfunction getCanActivateChild(p) {\n  const canActivateChild = p.routeConfig ? p.routeConfig.canActivateChild : null;\n  if (!canActivateChild || canActivateChild.length === 0) return null;\n  return {\n    node: p,\n    guards: canActivateChild\n  };\n}\nfunction getTokenOrFunctionIdentity(tokenOrFunction, injector) {\n  const NOT_FOUND = Symbol();\n  const result = injector.get(tokenOrFunction, NOT_FOUND);\n  if (result === NOT_FOUND) {\n    if (typeof tokenOrFunction === 'function' && !_isInjectable(tokenOrFunction)) {\n      return tokenOrFunction;\n    } else {\n      return injector.get(tokenOrFunction);\n    }\n  }\n  return result;\n}\nfunction getChildRouteGuards(futureNode, currNode, contexts, futurePath, checks = {\n  canDeactivateChecks: [],\n  canActivateChecks: []\n}) {\n  const prevChildren = nodeChildrenAsMap(currNode);\n  futureNode.children.forEach(c => {\n    getRouteGuards(c, prevChildren[c.value.outlet], contexts, futurePath.concat([c.value]), checks);\n    delete prevChildren[c.value.outlet];\n  });\n  Object.entries(prevChildren).forEach(([k, v]) => deactivateRouteAndItsChildren(v, contexts.getContext(k), checks));\n  return checks;\n}\nfunction getRouteGuards(futureNode, currNode, parentContexts, futurePath, checks = {\n  canDeactivateChecks: [],\n  canActivateChecks: []\n}) {\n  const future = futureNode.value;\n  const curr = currNode ? currNode.value : null;\n  const context = parentContexts ? parentContexts.getContext(futureNode.value.outlet) : null;\n  if (curr && future.routeConfig === curr.routeConfig) {\n    const shouldRun = shouldRunGuardsAndResolvers(curr, future, future.routeConfig.runGuardsAndResolvers);\n    if (shouldRun) {\n      checks.canActivateChecks.push(new CanActivate(futurePath));\n    } else {\n      future.data = curr.data;\n      future._resolvedData = curr._resolvedData;\n    }\n    if (future.component) {\n      getChildRouteGuards(futureNode, currNode, context ? context.children : null, futurePath, checks);\n    } else {\n      getChildRouteGuards(futureNode, currNode, parentContexts, futurePath, checks);\n    }\n    if (shouldRun && context && context.outlet && context.outlet.isActivated) {\n      checks.canDeactivateChecks.push(new CanDeactivate(context.outlet.component, curr));\n    }\n  } else {\n    if (curr) {\n      deactivateRouteAndItsChildren(currNode, context, checks);\n    }\n    checks.canActivateChecks.push(new CanActivate(futurePath));\n    if (future.component) {\n      getChildRouteGuards(futureNode, null, context ? context.children : null, futurePath, checks);\n    } else {\n      getChildRouteGuards(futureNode, null, parentContexts, futurePath, checks);\n    }\n  }\n  return checks;\n}\nfunction shouldRunGuardsAndResolvers(curr, future, mode) {\n  if (typeof mode === 'function') {\n    return mode(curr, future);\n  }\n  switch (mode) {\n    case 'pathParamsChange':\n      return !equalPath(curr.url, future.url);\n    case 'pathParamsOrQueryParamsChange':\n      return !equalPath(curr.url, future.url) || !shallowEqual(curr.queryParams, future.queryParams);\n    case 'always':\n      return true;\n    case 'paramsOrQueryParamsChange':\n      return !equalParamsAndUrlSegments(curr, future) || !shallowEqual(curr.queryParams, future.queryParams);\n    case 'paramsChange':\n    default:\n      return !equalParamsAndUrlSegments(curr, future);\n  }\n}\nfunction deactivateRouteAndItsChildren(route, context, checks) {\n  const children = nodeChildrenAsMap(route);\n  const r = route.value;\n  Object.entries(children).forEach(([childName, node]) => {\n    if (!r.component) {\n      deactivateRouteAndItsChildren(node, context, checks);\n    } else if (context) {\n      deactivateRouteAndItsChildren(node, context.children.getContext(childName), checks);\n    } else {\n      deactivateRouteAndItsChildren(node, null, checks);\n    }\n  });\n  if (!r.component) {\n    checks.canDeactivateChecks.push(new CanDeactivate(null, r));\n  } else if (context && context.outlet && context.outlet.isActivated) {\n    checks.canDeactivateChecks.push(new CanDeactivate(context.outlet.component, r));\n  } else {\n    checks.canDeactivateChecks.push(new CanDeactivate(null, r));\n  }\n}\nfunction isFunction(v) {\n  return typeof v === 'function';\n}\nfunction isBoolean(v) {\n  return typeof v === 'boolean';\n}\nfunction isCanLoad(guard) {\n  return guard && isFunction(guard.canLoad);\n}\nfunction isCanActivate(guard) {\n  return guard && isFunction(guard.canActivate);\n}\nfunction isCanActivateChild(guard) {\n  return guard && isFunction(guard.canActivateChild);\n}\nfunction isCanDeactivate(guard) {\n  return guard && isFunction(guard.canDeactivate);\n}\nfunction isCanMatch(guard) {\n  return guard && isFunction(guard.canMatch);\n}\nfunction isEmptyError(e) {\n  return e instanceof EmptyError || e?.name === 'EmptyError';\n}\nconst INITIAL_VALUE = /* @__PURE__ */Symbol('INITIAL_VALUE');\nfunction prioritizedGuardValue() {\n  return switchMap(obs => {\n    return combineLatest(obs.map(o => o.pipe(take(1), startWith(INITIAL_VALUE)))).pipe(map(results => {\n      for (const result of results) {\n        if (result === true) {\n          continue;\n        } else if (result === INITIAL_VALUE) {\n          return INITIAL_VALUE;\n        } else if (result === false || isRedirect(result)) {\n          return result;\n        }\n      }\n      return true;\n    }), filter(item => item !== INITIAL_VALUE), take(1));\n  });\n}\nfunction isRedirect(val) {\n  return isUrlTree(val) || val instanceof RedirectCommand;\n}\nfunction abortSignalToObservable(signal) {\n  if (signal.aborted) {\n    return of(undefined).pipe(take(1));\n  }\n  return new Observable(subscriber => {\n    const handler = () => {\n      subscriber.next();\n      subscriber.complete();\n    };\n    signal.addEventListener('abort', handler);\n    return () => signal.removeEventListener('abort', handler);\n  });\n}\nfunction takeUntilAbort(signal) {\n  return takeUntil(abortSignalToObservable(signal));\n}\nfunction checkGuards(injector, forwardEvent) {\n  return mergeMap(t => {\n    const {\n      targetSnapshot,\n      currentSnapshot,\n      guards: {\n        canActivateChecks,\n        canDeactivateChecks\n      }\n    } = t;\n    if (canDeactivateChecks.length === 0 && canActivateChecks.length === 0) {\n      return of({\n        ...t,\n        guardsResult: true\n      });\n    }\n    return runCanDeactivateChecks(canDeactivateChecks, targetSnapshot, currentSnapshot, injector).pipe(mergeMap(canDeactivate => {\n      return canDeactivate && isBoolean(canDeactivate) ? runCanActivateChecks(targetSnapshot, canActivateChecks, injector, forwardEvent) : of(canDeactivate);\n    }), map(guardsResult => ({\n      ...t,\n      guardsResult\n    })));\n  });\n}\nfunction runCanDeactivateChecks(checks, futureRSS, currRSS, injector) {\n  return from(checks).pipe(mergeMap(check => runCanDeactivate(check.component, check.route, currRSS, futureRSS, injector)), first(result => {\n    return result !== true;\n  }, true));\n}\nfunction runCanActivateChecks(futureSnapshot, checks, injector, forwardEvent) {\n  return from(checks).pipe(concatMap(check => {\n    return concat(fireChildActivationStart(check.route.parent, forwardEvent), fireActivationStart(check.route, forwardEvent), runCanActivateChild(futureSnapshot, check.path, injector), runCanActivate(futureSnapshot, check.route, injector));\n  }), first(result => {\n    return result !== true;\n  }, true));\n}\nfunction fireActivationStart(snapshot, forwardEvent) {\n  if (snapshot !== null && forwardEvent) {\n    forwardEvent(new ActivationStart(snapshot));\n  }\n  return of(true);\n}\nfunction fireChildActivationStart(snapshot, forwardEvent) {\n  if (snapshot !== null && forwardEvent) {\n    forwardEvent(new ChildActivationStart(snapshot));\n  }\n  return of(true);\n}\nfunction runCanActivate(futureRSS, futureARS, injector) {\n  const canActivate = futureARS.routeConfig ? futureARS.routeConfig.canActivate : null;\n  if (!canActivate || canActivate.length === 0) return of(true);\n  const canActivateObservables = canActivate.map(canActivate => {\n    return defer(() => {\n      const closestInjector = getClosestRouteInjector(futureARS) ?? injector;\n      const guard = getTokenOrFunctionIdentity(canActivate, closestInjector);\n      const guardVal = isCanActivate(guard) ? guard.canActivate(futureARS, futureRSS) : runInInjectionContext(closestInjector, () => guard(futureARS, futureRSS));\n      return wrapIntoObservable(guardVal).pipe(first());\n    });\n  });\n  return of(canActivateObservables).pipe(prioritizedGuardValue());\n}\nfunction runCanActivateChild(futureRSS, path, injector) {\n  const futureARS = path[path.length - 1];\n  const canActivateChildGuards = path.slice(0, path.length - 1).reverse().map(p => getCanActivateChild(p)).filter(_ => _ !== null);\n  const canActivateChildGuardsMapped = canActivateChildGuards.map(d => {\n    return defer(() => {\n      const guardsMapped = d.guards.map(canActivateChild => {\n        const closestInjector = getClosestRouteInjector(d.node) ?? injector;\n        const guard = getTokenOrFunctionIdentity(canActivateChild, closestInjector);\n        const guardVal = isCanActivateChild(guard) ? guard.canActivateChild(futureARS, futureRSS) : runInInjectionContext(closestInjector, () => guard(futureARS, futureRSS));\n        return wrapIntoObservable(guardVal).pipe(first());\n      });\n      return of(guardsMapped).pipe(prioritizedGuardValue());\n    });\n  });\n  return of(canActivateChildGuardsMapped).pipe(prioritizedGuardValue());\n}\nfunction runCanDeactivate(component, currARS, currRSS, futureRSS, injector) {\n  const canDeactivate = currARS && currARS.routeConfig ? currARS.routeConfig.canDeactivate : null;\n  if (!canDeactivate || canDeactivate.length === 0) return of(true);\n  const canDeactivateObservables = canDeactivate.map(c => {\n    const closestInjector = getClosestRouteInjector(currARS) ?? injector;\n    const guard = getTokenOrFunctionIdentity(c, closestInjector);\n    const guardVal = isCanDeactivate(guard) ? guard.canDeactivate(component, currARS, currRSS, futureRSS) : runInInjectionContext(closestInjector, () => guard(component, currARS, currRSS, futureRSS));\n    return wrapIntoObservable(guardVal).pipe(first());\n  });\n  return of(canDeactivateObservables).pipe(prioritizedGuardValue());\n}\nfunction runCanLoadGuards(injector, route, segments, urlSerializer, abortSignal) {\n  const canLoad = route.canLoad;\n  if (canLoad === undefined || canLoad.length === 0) {\n    return of(true);\n  }\n  const canLoadObservables = canLoad.map(injectionToken => {\n    const guard = getTokenOrFunctionIdentity(injectionToken, injector);\n    const guardVal = isCanLoad(guard) ? guard.canLoad(route, segments) : runInInjectionContext(injector, () => guard(route, segments));\n    const obs$ = wrapIntoObservable(guardVal);\n    return abortSignal ? obs$.pipe(takeUntilAbort(abortSignal)) : obs$;\n  });\n  return of(canLoadObservables).pipe(prioritizedGuardValue(), redirectIfUrlTree(urlSerializer));\n}\nfunction redirectIfUrlTree(urlSerializer) {\n  return pipe(tap(result => {\n    if (typeof result === 'boolean') return;\n    throw redirectingNavigationError(urlSerializer, result);\n  }), map(result => result === true));\n}\nfunction runCanMatchGuards(injector, route, segments, urlSerializer, abortSignal) {\n  const canMatch = route.canMatch;\n  if (!canMatch || canMatch.length === 0) return of(true);\n  const canMatchObservables = canMatch.map(injectionToken => {\n    const guard = getTokenOrFunctionIdentity(injectionToken, injector);\n    const guardVal = isCanMatch(guard) ? guard.canMatch(route, segments) : runInInjectionContext(injector, () => guard(route, segments));\n    let obs$ = wrapIntoObservable(guardVal);\n    return abortSignal ? obs$.pipe(takeUntilAbort(abortSignal)) : obs$;\n  });\n  return of(canMatchObservables).pipe(prioritizedGuardValue(), redirectIfUrlTree(urlSerializer));\n}\nlet NoMatch$1 = class NoMatch extends Error {\n  segmentGroup;\n  constructor(segmentGroup) {\n    super();\n    this.segmentGroup = segmentGroup || null;\n    Object.setPrototypeOf(this, NoMatch.prototype);\n  }\n};\nlet AbsoluteRedirect$1 = class AbsoluteRedirect extends Error {\n  urlTree;\n  constructor(urlTree) {\n    super();\n    this.urlTree = urlTree;\n    Object.setPrototypeOf(this, AbsoluteRedirect.prototype);\n  }\n};\nfunction namedOutletsRedirect$1(redirectTo) {\n  throw new _RuntimeError(4000, (typeof ngDevMode === 'undefined' || ngDevMode) && `Only absolute redirects can have named outlets. redirectTo: '${redirectTo}'`);\n}\nfunction canLoadFails$1(route) {\n  throw navigationCancelingError((typeof ngDevMode === 'undefined' || ngDevMode) && `Cannot load children because the guard of the route \"path: '${route.path}'\" returned false`, NavigationCancellationCode.GuardRejected);\n}\nlet ApplyRedirects$1 = class ApplyRedirects {\n  urlSerializer;\n  urlTree;\n  constructor(urlSerializer, urlTree) {\n    this.urlSerializer = urlSerializer;\n    this.urlTree = urlTree;\n  }\n  lineralizeSegments(route, urlTree) {\n    return _asyncToGenerator(function* () {\n      let res = [];\n      let c = urlTree.root;\n      while (true) {\n        res = res.concat(c.segments);\n        if (c.numberOfChildren === 0) {\n          return res;\n        }\n        if (c.numberOfChildren > 1 || !c.children[PRIMARY_OUTLET]) {\n          throw namedOutletsRedirect$1(`${route.redirectTo}`);\n        }\n        c = c.children[PRIMARY_OUTLET];\n      }\n    })();\n  }\n  applyRedirectCommands(segments, redirectTo, posParams, currentSnapshot, injector) {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const redirect = yield getRedirectResult$1(redirectTo, currentSnapshot, injector);\n      if (redirect instanceof UrlTree) {\n        throw new AbsoluteRedirect$1(redirect);\n      }\n      const newTree = _this.applyRedirectCreateUrlTree(redirect, _this.urlSerializer.parse(redirect), segments, posParams);\n      if (redirect[0] === '/') {\n        throw new AbsoluteRedirect$1(newTree);\n      }\n      return newTree;\n    })();\n  }\n  applyRedirectCreateUrlTree(redirectTo, urlTree, segments, posParams) {\n    const newRoot = this.createSegmentGroup(redirectTo, urlTree.root, segments, posParams);\n    return new UrlTree(newRoot, this.createQueryParams(urlTree.queryParams, this.urlTree.queryParams), urlTree.fragment);\n  }\n  createQueryParams(redirectToParams, actualParams) {\n    const res = {};\n    Object.entries(redirectToParams).forEach(([k, v]) => {\n      const copySourceValue = typeof v === 'string' && v[0] === ':';\n      if (copySourceValue) {\n        const sourceName = v.substring(1);\n        res[k] = actualParams[sourceName];\n      } else {\n        res[k] = v;\n      }\n    });\n    return res;\n  }\n  createSegmentGroup(redirectTo, group, segments, posParams) {\n    const updatedSegments = this.createSegments(redirectTo, group.segments, segments, posParams);\n    let children = {};\n    Object.entries(group.children).forEach(([name, child]) => {\n      children[name] = this.createSegmentGroup(redirectTo, child, segments, posParams);\n    });\n    return new UrlSegmentGroup(updatedSegments, children);\n  }\n  createSegments(redirectTo, redirectToSegments, actualSegments, posParams) {\n    return redirectToSegments.map(s => s.path[0] === ':' ? this.findPosParam(redirectTo, s, posParams) : this.findOrReturn(s, actualSegments));\n  }\n  findPosParam(redirectTo, redirectToUrlSegment, posParams) {\n    const pos = posParams[redirectToUrlSegment.path.substring(1)];\n    if (!pos) throw new _RuntimeError(4001, (typeof ngDevMode === 'undefined' || ngDevMode) && `Cannot redirect to '${redirectTo}'. Cannot find '${redirectToUrlSegment.path}'.`);\n    return pos;\n  }\n  findOrReturn(redirectToUrlSegment, actualSegments) {\n    let idx = 0;\n    for (const s of actualSegments) {\n      if (s.path === redirectToUrlSegment.path) {\n        actualSegments.splice(idx);\n        return s;\n      }\n      idx++;\n    }\n    return redirectToUrlSegment;\n  }\n};\nfunction getRedirectResult$1(redirectTo, currentSnapshot, injector) {\n  if (typeof redirectTo === 'string') {\n    return Promise.resolve(redirectTo);\n  }\n  const redirectToFn = redirectTo;\n  const {\n    queryParams,\n    fragment,\n    routeConfig,\n    url,\n    outlet,\n    params,\n    data,\n    title\n  } = currentSnapshot;\n  return firstValueFrom(wrapIntoObservable(runInInjectionContext(injector, () => redirectToFn({\n    params,\n    data,\n    queryParams,\n    fragment,\n    routeConfig,\n    url,\n    outlet,\n    title\n  }))));\n}\nconst noMatch$1 = {\n  matched: false,\n  consumedSegments: [],\n  remainingSegments: [],\n  parameters: {},\n  positionalParamSegments: {}\n};\nfunction matchWithChecks(segmentGroup, route, segments, injector, urlSerializer, abortSignal) {\n  const result = match(segmentGroup, route, segments);\n  if (!result.matched) {\n    return of(result);\n  }\n  injector = getOrCreateRouteInjectorIfNeeded(route, injector);\n  return runCanMatchGuards(injector, route, segments, urlSerializer, abortSignal).pipe(map(v => v === true ? result : {\n    ...noMatch$1\n  }));\n}\nfunction match(segmentGroup, route, segments) {\n  if (route.path === '**') {\n    return createWildcardMatchResult(segments);\n  }\n  if (route.path === '') {\n    if (route.pathMatch === 'full' && (segmentGroup.hasChildren() || segments.length > 0)) {\n      return {\n        ...noMatch$1\n      };\n    }\n    return {\n      matched: true,\n      consumedSegments: [],\n      remainingSegments: segments,\n      parameters: {},\n      positionalParamSegments: {}\n    };\n  }\n  const matcher = route.matcher || defaultUrlMatcher;\n  const res = matcher(segments, segmentGroup, route);\n  if (!res) return {\n    ...noMatch$1\n  };\n  const posParams = {};\n  Object.entries(res.posParams ?? {}).forEach(([k, v]) => {\n    posParams[k] = v.path;\n  });\n  const parameters = res.consumed.length > 0 ? {\n    ...posParams,\n    ...res.consumed[res.consumed.length - 1].parameters\n  } : posParams;\n  return {\n    matched: true,\n    consumedSegments: res.consumed,\n    remainingSegments: segments.slice(res.consumed.length),\n    parameters,\n    positionalParamSegments: res.posParams ?? {}\n  };\n}\nfunction createWildcardMatchResult(segments) {\n  return {\n    matched: true,\n    parameters: segments.length > 0 ? last(segments).parameters : {},\n    consumedSegments: segments,\n    remainingSegments: [],\n    positionalParamSegments: {}\n  };\n}\nfunction split(segmentGroup, consumedSegments, slicedSegments, config) {\n  if (slicedSegments.length > 0 && containsEmptyPathMatchesWithNamedOutlets(segmentGroup, slicedSegments, config)) {\n    const s = new UrlSegmentGroup(consumedSegments, createChildrenForEmptyPaths(config, new UrlSegmentGroup(slicedSegments, segmentGroup.children)));\n    return {\n      segmentGroup: s,\n      slicedSegments: []\n    };\n  }\n  if (slicedSegments.length === 0 && containsEmptyPathMatches(segmentGroup, slicedSegments, config)) {\n    const s = new UrlSegmentGroup(segmentGroup.segments, addEmptyPathsToChildrenIfNeeded(segmentGroup, slicedSegments, config, segmentGroup.children));\n    return {\n      segmentGroup: s,\n      slicedSegments\n    };\n  }\n  const s = new UrlSegmentGroup(segmentGroup.segments, segmentGroup.children);\n  return {\n    segmentGroup: s,\n    slicedSegments\n  };\n}\nfunction addEmptyPathsToChildrenIfNeeded(segmentGroup, slicedSegments, routes, children) {\n  const res = {};\n  for (const r of routes) {\n    if (emptyPathMatch(segmentGroup, slicedSegments, r) && !children[getOutlet(r)]) {\n      const s = new UrlSegmentGroup([], {});\n      res[getOutlet(r)] = s;\n    }\n  }\n  return {\n    ...children,\n    ...res\n  };\n}\nfunction createChildrenForEmptyPaths(routes, primarySegment) {\n  const res = {};\n  res[PRIMARY_OUTLET] = primarySegment;\n  for (const r of routes) {\n    if (r.path === '' && getOutlet(r) !== PRIMARY_OUTLET) {\n      const s = new UrlSegmentGroup([], {});\n      res[getOutlet(r)] = s;\n    }\n  }\n  return res;\n}\nfunction containsEmptyPathMatchesWithNamedOutlets(segmentGroup, slicedSegments, routes) {\n  return routes.some(r => emptyPathMatch(segmentGroup, slicedSegments, r) && getOutlet(r) !== PRIMARY_OUTLET);\n}\nfunction containsEmptyPathMatches(segmentGroup, slicedSegments, routes) {\n  return routes.some(r => emptyPathMatch(segmentGroup, slicedSegments, r));\n}\nfunction emptyPathMatch(segmentGroup, slicedSegments, r) {\n  if ((segmentGroup.hasChildren() || slicedSegments.length > 0) && r.pathMatch === 'full') {\n    return false;\n  }\n  return r.path === '';\n}\nfunction noLeftoversInUrl(segmentGroup, segments, outlet) {\n  return segments.length === 0 && !segmentGroup.children[outlet];\n}\nlet NoLeftoversInUrl$1 = class NoLeftoversInUrl {};\nfunction recognize$2(_x, _x2, _x3, _x4, _x5, _x6) {\n  return _recognize$.apply(this, arguments);\n}\nfunction _recognize$() {\n  _recognize$ = _asyncToGenerator(function* (injector, configLoader, rootComponentType, config, urlTree, urlSerializer, paramsInheritanceStrategy = 'emptyOnly', abortSignal) {\n    return new Recognizer$1(injector, configLoader, rootComponentType, config, urlTree, paramsInheritanceStrategy, urlSerializer, abortSignal).recognize();\n  });\n  return _recognize$.apply(this, arguments);\n}\nconst MAX_ALLOWED_REDIRECTS$1 = 31;\nlet Recognizer$1 = class Recognizer {\n  injector;\n  configLoader;\n  rootComponentType;\n  config;\n  urlTree;\n  paramsInheritanceStrategy;\n  urlSerializer;\n  abortSignal;\n  applyRedirects;\n  absoluteRedirectCount = 0;\n  allowRedirects = true;\n  constructor(injector, configLoader, rootComponentType, config, urlTree, paramsInheritanceStrategy, urlSerializer, abortSignal) {\n    this.injector = injector;\n    this.configLoader = configLoader;\n    this.rootComponentType = rootComponentType;\n    this.config = config;\n    this.urlTree = urlTree;\n    this.paramsInheritanceStrategy = paramsInheritanceStrategy;\n    this.urlSerializer = urlSerializer;\n    this.abortSignal = abortSignal;\n    this.applyRedirects = new ApplyRedirects$1(this.urlSerializer, this.urlTree);\n  }\n  noMatchError(e) {\n    return new _RuntimeError(4002, typeof ngDevMode === 'undefined' || ngDevMode ? `Cannot match any routes. URL Segment: '${e.segmentGroup}'` : `'${e.segmentGroup}'`);\n  }\n  recognize() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      const rootSegmentGroup = split(_this2.urlTree.root, [], [], _this2.config).segmentGroup;\n      const {\n        children,\n        rootSnapshot\n      } = yield _this2.match(rootSegmentGroup);\n      const rootNode = new TreeNode(rootSnapshot, children);\n      const routeState = new RouterStateSnapshot('', rootNode);\n      const tree = createUrlTreeFromSnapshot(rootSnapshot, [], _this2.urlTree.queryParams, _this2.urlTree.fragment);\n      tree.queryParams = _this2.urlTree.queryParams;\n      routeState.url = _this2.urlSerializer.serialize(tree);\n      return {\n        state: routeState,\n        tree\n      };\n    })();\n  }\n  match(rootSegmentGroup) {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      const rootSnapshot = new ActivatedRouteSnapshot([], Object.freeze({}), Object.freeze({\n        ..._this3.urlTree.queryParams\n      }), _this3.urlTree.fragment, Object.freeze({}), PRIMARY_OUTLET, _this3.rootComponentType, null, {});\n      try {\n        const children = yield _this3.processSegmentGroup(_this3.injector, _this3.config, rootSegmentGroup, PRIMARY_OUTLET, rootSnapshot);\n        return {\n          children,\n          rootSnapshot\n        };\n      } catch (e) {\n        if (e instanceof AbsoluteRedirect$1) {\n          _this3.urlTree = e.urlTree;\n          return _this3.match(e.urlTree.root);\n        }\n        if (e instanceof NoMatch$1) {\n          throw _this3.noMatchError(e);\n        }\n        throw e;\n      }\n    })();\n  }\n  processSegmentGroup(injector, config, segmentGroup, outlet, parentRoute) {\n    var _this4 = this;\n    return _asyncToGenerator(function* () {\n      if (segmentGroup.segments.length === 0 && segmentGroup.hasChildren()) {\n        return _this4.processChildren(injector, config, segmentGroup, parentRoute);\n      }\n      const child = yield _this4.processSegment(injector, config, segmentGroup, segmentGroup.segments, outlet, true, parentRoute);\n      return child instanceof TreeNode ? [child] : [];\n    })();\n  }\n  processChildren(injector, config, segmentGroup, parentRoute) {\n    var _this5 = this;\n    return _asyncToGenerator(function* () {\n      const childOutlets = [];\n      for (const child of Object.keys(segmentGroup.children)) {\n        if (child === 'primary') {\n          childOutlets.unshift(child);\n        } else {\n          childOutlets.push(child);\n        }\n      }\n      let children = [];\n      for (const childOutlet of childOutlets) {\n        const child = segmentGroup.children[childOutlet];\n        const sortedConfig = sortByMatchingOutlets(config, childOutlet);\n        const outletChildren = yield _this5.processSegmentGroup(injector, sortedConfig, child, childOutlet, parentRoute);\n        children.push(...outletChildren);\n      }\n      const mergedChildren = mergeEmptyPathMatches$1(children);\n      if (typeof ngDevMode === 'undefined' || ngDevMode) {\n        checkOutletNameUniqueness$1(mergedChildren);\n      }\n      sortActivatedRouteSnapshots$1(mergedChildren);\n      return mergedChildren;\n    })();\n  }\n  processSegment(injector, routes, segmentGroup, segments, outlet, allowRedirects, parentRoute) {\n    var _this6 = this;\n    return _asyncToGenerator(function* () {\n      for (const r of routes) {\n        try {\n          return yield _this6.processSegmentAgainstRoute(r._injector ?? injector, routes, r, segmentGroup, segments, outlet, allowRedirects, parentRoute);\n        } catch (e) {\n          if (e instanceof NoMatch$1 || isEmptyError(e)) {\n            continue;\n          }\n          throw e;\n        }\n      }\n      if (noLeftoversInUrl(segmentGroup, segments, outlet)) {\n        return new NoLeftoversInUrl$1();\n      }\n      throw new NoMatch$1(segmentGroup);\n    })();\n  }\n  processSegmentAgainstRoute(injector, routes, route, rawSegment, segments, outlet, allowRedirects, parentRoute) {\n    var _this7 = this;\n    return _asyncToGenerator(function* () {\n      if (getOutlet(route) !== outlet && (outlet === PRIMARY_OUTLET || !emptyPathMatch(rawSegment, segments, route))) {\n        throw new NoMatch$1(rawSegment);\n      }\n      if (route.redirectTo === undefined) {\n        return _this7.matchSegmentAgainstRoute(injector, rawSegment, route, segments, outlet, parentRoute);\n      }\n      if (_this7.allowRedirects && allowRedirects) {\n        return _this7.expandSegmentAgainstRouteUsingRedirect(injector, rawSegment, routes, route, segments, outlet, parentRoute);\n      }\n      throw new NoMatch$1(rawSegment);\n    })();\n  }\n  expandSegmentAgainstRouteUsingRedirect(injector, segmentGroup, routes, route, segments, outlet, parentRoute) {\n    var _this8 = this;\n    return _asyncToGenerator(function* () {\n      const {\n        matched,\n        parameters,\n        consumedSegments,\n        positionalParamSegments,\n        remainingSegments\n      } = match(segmentGroup, route, segments);\n      if (!matched) throw new NoMatch$1(segmentGroup);\n      if (typeof route.redirectTo === 'string' && route.redirectTo[0] === '/') {\n        _this8.absoluteRedirectCount++;\n        if (_this8.absoluteRedirectCount > MAX_ALLOWED_REDIRECTS$1) {\n          if (ngDevMode) {\n            throw new _RuntimeError(4016, `Detected possible infinite redirect when redirecting from '${_this8.urlTree}' to '${route.redirectTo}'.\\n` + `This is currently a dev mode only error but will become a` + ` call stack size exceeded error in production in a future major version.`);\n          }\n          _this8.allowRedirects = false;\n        }\n      }\n      const currentSnapshot = new ActivatedRouteSnapshot(segments, parameters, Object.freeze({\n        ..._this8.urlTree.queryParams\n      }), _this8.urlTree.fragment, getData$1(route), getOutlet(route), route.component ?? route._loadedComponent ?? null, route, getResolve$1(route));\n      const inherited = getInherited(currentSnapshot, parentRoute, _this8.paramsInheritanceStrategy);\n      currentSnapshot.params = Object.freeze(inherited.params);\n      currentSnapshot.data = Object.freeze(inherited.data);\n      if (_this8.abortSignal.aborted) {\n        throw new Error(_this8.abortSignal.reason);\n      }\n      const newTree = yield _this8.applyRedirects.applyRedirectCommands(consumedSegments, route.redirectTo, positionalParamSegments, currentSnapshot, injector);\n      const newSegments = yield _this8.applyRedirects.lineralizeSegments(route, newTree);\n      return _this8.processSegment(injector, routes, segmentGroup, newSegments.concat(remainingSegments), outlet, false, parentRoute);\n    })();\n  }\n  matchSegmentAgainstRoute(injector, rawSegment, route, segments, outlet, parentRoute) {\n    var _this9 = this;\n    return _asyncToGenerator(function* () {\n      if (_this9.abortSignal.aborted) {\n        throw new Error(_this9.abortSignal.reason);\n      }\n      const result = yield firstValueFrom(matchWithChecks(rawSegment, route, segments, injector, _this9.urlSerializer, _this9.abortSignal));\n      if (route.path === '**') {\n        rawSegment.children = {};\n      }\n      if (!result?.matched) {\n        throw new NoMatch$1(rawSegment);\n      }\n      injector = route._injector ?? injector;\n      const {\n        routes: childConfig\n      } = yield _this9.getChildConfig(injector, route, segments);\n      const childInjector = route._loadedInjector ?? injector;\n      const {\n        parameters,\n        consumedSegments,\n        remainingSegments\n      } = result;\n      const snapshot = new ActivatedRouteSnapshot(consumedSegments, parameters, Object.freeze({\n        ..._this9.urlTree.queryParams\n      }), _this9.urlTree.fragment, getData$1(route), getOutlet(route), route.component ?? route._loadedComponent ?? null, route, getResolve$1(route));\n      const inherited = getInherited(snapshot, parentRoute, _this9.paramsInheritanceStrategy);\n      snapshot.params = Object.freeze(inherited.params);\n      snapshot.data = Object.freeze(inherited.data);\n      const {\n        segmentGroup,\n        slicedSegments\n      } = split(rawSegment, consumedSegments, remainingSegments, childConfig);\n      if (slicedSegments.length === 0 && segmentGroup.hasChildren()) {\n        const children = yield _this9.processChildren(childInjector, childConfig, segmentGroup, snapshot);\n        return new TreeNode(snapshot, children);\n      }\n      if (childConfig.length === 0 && slicedSegments.length === 0) {\n        return new TreeNode(snapshot, []);\n      }\n      const matchedOnOutlet = getOutlet(route) === outlet;\n      const child = yield _this9.processSegment(childInjector, childConfig, segmentGroup, slicedSegments, matchedOnOutlet ? PRIMARY_OUTLET : outlet, true, snapshot);\n      return new TreeNode(snapshot, child instanceof TreeNode ? [child] : []);\n    })();\n  }\n  getChildConfig(injector, route, segments) {\n    var _this0 = this;\n    return _asyncToGenerator(function* () {\n      if (route.children) {\n        return {\n          routes: route.children,\n          injector\n        };\n      }\n      if (route.loadChildren) {\n        if (route._loadedRoutes !== undefined) {\n          return {\n            routes: route._loadedRoutes,\n            injector: route._loadedInjector\n          };\n        }\n        if (_this0.abortSignal.aborted) {\n          throw new Error(_this0.abortSignal.reason);\n        }\n        const shouldLoadResult = yield firstValueFrom(runCanLoadGuards(injector, route, segments, _this0.urlSerializer, _this0.abortSignal));\n        if (shouldLoadResult) {\n          const cfg = yield _this0.configLoader.loadChildren(injector, route);\n          route._loadedRoutes = cfg.routes;\n          route._loadedInjector = cfg.injector;\n          return cfg;\n        }\n        throw canLoadFails$1(route);\n      }\n      return {\n        routes: [],\n        injector\n      };\n    })();\n  }\n};\nfunction sortActivatedRouteSnapshots$1(nodes) {\n  nodes.sort((a, b) => {\n    if (a.value.outlet === PRIMARY_OUTLET) return -1;\n    if (b.value.outlet === PRIMARY_OUTLET) return 1;\n    return a.value.outlet.localeCompare(b.value.outlet);\n  });\n}\nfunction hasEmptyPathConfig$1(node) {\n  const config = node.value.routeConfig;\n  return config && config.path === '';\n}\nfunction mergeEmptyPathMatches$1(nodes) {\n  const result = [];\n  const mergedNodes = new Set();\n  for (const node of nodes) {\n    if (!hasEmptyPathConfig$1(node)) {\n      result.push(node);\n      continue;\n    }\n    const duplicateEmptyPathNode = result.find(resultNode => node.value.routeConfig === resultNode.value.routeConfig);\n    if (duplicateEmptyPathNode !== undefined) {\n      duplicateEmptyPathNode.children.push(...node.children);\n      mergedNodes.add(duplicateEmptyPathNode);\n    } else {\n      result.push(node);\n    }\n  }\n  for (const mergedNode of mergedNodes) {\n    const mergedChildren = mergeEmptyPathMatches$1(mergedNode.children);\n    result.push(new TreeNode(mergedNode.value, mergedChildren));\n  }\n  return result.filter(n => !mergedNodes.has(n));\n}\nfunction checkOutletNameUniqueness$1(nodes) {\n  const names = {};\n  nodes.forEach(n => {\n    const routeWithSameOutletName = names[n.value.outlet];\n    if (routeWithSameOutletName) {\n      const p = routeWithSameOutletName.url.map(s => s.toString()).join('/');\n      const c = n.value.url.map(s => s.toString()).join('/');\n      throw new _RuntimeError(4006, (typeof ngDevMode === 'undefined' || ngDevMode) && `Two segments cannot have the same outlet name: '${p}' and '${c}'.`);\n    }\n    names[n.value.outlet] = n.value;\n  });\n}\nfunction getData$1(route) {\n  return route.data || {};\n}\nfunction getResolve$1(route) {\n  return route.resolve || {};\n}\nclass NoMatch {\n  segmentGroup;\n  constructor(segmentGroup) {\n    this.segmentGroup = segmentGroup || null;\n  }\n}\nclass AbsoluteRedirect extends Error {\n  urlTree;\n  constructor(urlTree) {\n    super();\n    this.urlTree = urlTree;\n  }\n}\nfunction noMatch(segmentGroup) {\n  return throwError(new NoMatch(segmentGroup));\n}\nfunction namedOutletsRedirect(redirectTo) {\n  return throwError(new _RuntimeError(4000, (typeof ngDevMode === 'undefined' || ngDevMode) && `Only absolute redirects can have named outlets. redirectTo: '${redirectTo}'`));\n}\nfunction canLoadFails(route) {\n  return throwError(navigationCancelingError((typeof ngDevMode === 'undefined' || ngDevMode) && `Cannot load children because the guard of the route \"path: '${route.path}'\" returned false`, NavigationCancellationCode.GuardRejected));\n}\nclass ApplyRedirects {\n  urlSerializer;\n  urlTree;\n  constructor(urlSerializer, urlTree) {\n    this.urlSerializer = urlSerializer;\n    this.urlTree = urlTree;\n  }\n  lineralizeSegments(route, urlTree) {\n    let res = [];\n    let c = urlTree.root;\n    while (true) {\n      res = res.concat(c.segments);\n      if (c.numberOfChildren === 0) {\n        return of(res);\n      }\n      if (c.numberOfChildren > 1 || !c.children[PRIMARY_OUTLET]) {\n        return namedOutletsRedirect(`${route.redirectTo}`);\n      }\n      c = c.children[PRIMARY_OUTLET];\n    }\n  }\n  applyRedirectCommands(segments, redirectTo, posParams, currentSnapshot, injector) {\n    return getRedirectResult(redirectTo, currentSnapshot, injector).pipe(map(redirect => {\n      if (redirect instanceof UrlTree) {\n        throw new AbsoluteRedirect(redirect);\n      }\n      const newTree = this.applyRedirectCreateUrlTree(redirect, this.urlSerializer.parse(redirect), segments, posParams);\n      if (redirect[0] === '/') {\n        throw new AbsoluteRedirect(newTree);\n      }\n      return newTree;\n    }));\n  }\n  applyRedirectCreateUrlTree(redirectTo, urlTree, segments, posParams) {\n    const newRoot = this.createSegmentGroup(redirectTo, urlTree.root, segments, posParams);\n    return new UrlTree(newRoot, this.createQueryParams(urlTree.queryParams, this.urlTree.queryParams), urlTree.fragment);\n  }\n  createQueryParams(redirectToParams, actualParams) {\n    const res = {};\n    Object.entries(redirectToParams).forEach(([k, v]) => {\n      const copySourceValue = typeof v === 'string' && v[0] === ':';\n      if (copySourceValue) {\n        const sourceName = v.substring(1);\n        res[k] = actualParams[sourceName];\n      } else {\n        res[k] = v;\n      }\n    });\n    return res;\n  }\n  createSegmentGroup(redirectTo, group, segments, posParams) {\n    const updatedSegments = this.createSegments(redirectTo, group.segments, segments, posParams);\n    let children = {};\n    Object.entries(group.children).forEach(([name, child]) => {\n      children[name] = this.createSegmentGroup(redirectTo, child, segments, posParams);\n    });\n    return new UrlSegmentGroup(updatedSegments, children);\n  }\n  createSegments(redirectTo, redirectToSegments, actualSegments, posParams) {\n    return redirectToSegments.map(s => s.path[0] === ':' ? this.findPosParam(redirectTo, s, posParams) : this.findOrReturn(s, actualSegments));\n  }\n  findPosParam(redirectTo, redirectToUrlSegment, posParams) {\n    const pos = posParams[redirectToUrlSegment.path.substring(1)];\n    if (!pos) throw new _RuntimeError(4001, (typeof ngDevMode === 'undefined' || ngDevMode) && `Cannot redirect to '${redirectTo}'. Cannot find '${redirectToUrlSegment.path}'.`);\n    return pos;\n  }\n  findOrReturn(redirectToUrlSegment, actualSegments) {\n    let idx = 0;\n    for (const s of actualSegments) {\n      if (s.path === redirectToUrlSegment.path) {\n        actualSegments.splice(idx);\n        return s;\n      }\n      idx++;\n    }\n    return redirectToUrlSegment;\n  }\n}\nfunction getRedirectResult(redirectTo, currentSnapshot, injector) {\n  if (typeof redirectTo === 'string') {\n    return of(redirectTo);\n  }\n  const redirectToFn = redirectTo;\n  const {\n    queryParams,\n    fragment,\n    routeConfig,\n    url,\n    outlet,\n    params,\n    data,\n    title\n  } = currentSnapshot;\n  return wrapIntoObservable(runInInjectionContext(injector, () => redirectToFn({\n    params,\n    data,\n    queryParams,\n    fragment,\n    routeConfig,\n    url,\n    outlet,\n    title\n  })));\n}\nclass NoLeftoversInUrl {}\nfunction recognize$1(injector, configLoader, rootComponentType, config, urlTree, urlSerializer, paramsInheritanceStrategy = 'emptyOnly', abortSignal) {\n  return new Recognizer(injector, configLoader, rootComponentType, config, urlTree, paramsInheritanceStrategy, urlSerializer).recognize();\n}\nconst MAX_ALLOWED_REDIRECTS = 31;\nclass Recognizer {\n  injector;\n  configLoader;\n  rootComponentType;\n  config;\n  urlTree;\n  paramsInheritanceStrategy;\n  urlSerializer;\n  applyRedirects;\n  absoluteRedirectCount = 0;\n  allowRedirects = true;\n  constructor(injector, configLoader, rootComponentType, config, urlTree, paramsInheritanceStrategy, urlSerializer) {\n    this.injector = injector;\n    this.configLoader = configLoader;\n    this.rootComponentType = rootComponentType;\n    this.config = config;\n    this.urlTree = urlTree;\n    this.paramsInheritanceStrategy = paramsInheritanceStrategy;\n    this.urlSerializer = urlSerializer;\n    this.applyRedirects = new ApplyRedirects(this.urlSerializer, this.urlTree);\n  }\n  noMatchError(e) {\n    return new _RuntimeError(4002, typeof ngDevMode === 'undefined' || ngDevMode ? `Cannot match any routes. URL Segment: '${e.segmentGroup}'` : `'${e.segmentGroup}'`);\n  }\n  recognize() {\n    const rootSegmentGroup = split(this.urlTree.root, [], [], this.config).segmentGroup;\n    return this.match(rootSegmentGroup).pipe(map(({\n      children,\n      rootSnapshot\n    }) => {\n      const rootNode = new TreeNode(rootSnapshot, children);\n      const routeState = new RouterStateSnapshot('', rootNode);\n      const tree = createUrlTreeFromSnapshot(rootSnapshot, [], this.urlTree.queryParams, this.urlTree.fragment);\n      tree.queryParams = this.urlTree.queryParams;\n      routeState.url = this.urlSerializer.serialize(tree);\n      return {\n        state: routeState,\n        tree\n      };\n    }));\n  }\n  match(rootSegmentGroup) {\n    const rootSnapshot = new ActivatedRouteSnapshot([], Object.freeze({}), Object.freeze({\n      ...this.urlTree.queryParams\n    }), this.urlTree.fragment, Object.freeze({}), PRIMARY_OUTLET, this.rootComponentType, null, {});\n    return this.processSegmentGroup(this.injector, this.config, rootSegmentGroup, PRIMARY_OUTLET, rootSnapshot).pipe(map(children => {\n      return {\n        children,\n        rootSnapshot\n      };\n    }), catchError(e => {\n      if (e instanceof AbsoluteRedirect) {\n        this.urlTree = e.urlTree;\n        return this.match(e.urlTree.root);\n      }\n      if (e instanceof NoMatch) {\n        throw this.noMatchError(e);\n      }\n      throw e;\n    }));\n  }\n  processSegmentGroup(injector, config, segmentGroup, outlet, parentRoute) {\n    if (segmentGroup.segments.length === 0 && segmentGroup.hasChildren()) {\n      return this.processChildren(injector, config, segmentGroup, parentRoute);\n    }\n    return this.processSegment(injector, config, segmentGroup, segmentGroup.segments, outlet, true, parentRoute).pipe(map(child => child instanceof TreeNode ? [child] : []));\n  }\n  processChildren(injector, config, segmentGroup, parentRoute) {\n    const childOutlets = [];\n    for (const child of Object.keys(segmentGroup.children)) {\n      if (child === 'primary') {\n        childOutlets.unshift(child);\n      } else {\n        childOutlets.push(child);\n      }\n    }\n    return from(childOutlets).pipe(concatMap(childOutlet => {\n      const child = segmentGroup.children[childOutlet];\n      const sortedConfig = sortByMatchingOutlets(config, childOutlet);\n      return this.processSegmentGroup(injector, sortedConfig, child, childOutlet, parentRoute);\n    }), scan((children, outletChildren) => {\n      children.push(...outletChildren);\n      return children;\n    }), defaultIfEmpty(null), last$1(), mergeMap(children => {\n      if (children === null) return noMatch(segmentGroup);\n      const mergedChildren = mergeEmptyPathMatches(children);\n      if (typeof ngDevMode === 'undefined' || ngDevMode) {\n        checkOutletNameUniqueness(mergedChildren);\n      }\n      sortActivatedRouteSnapshots(mergedChildren);\n      return of(mergedChildren);\n    }));\n  }\n  processSegment(injector, routes, segmentGroup, segments, outlet, allowRedirects, parentRoute) {\n    return from(routes).pipe(concatMap(r => {\n      return this.processSegmentAgainstRoute(r._injector ?? injector, routes, r, segmentGroup, segments, outlet, allowRedirects, parentRoute).pipe(catchError(e => {\n        if (e instanceof NoMatch) {\n          return of(null);\n        }\n        throw e;\n      }));\n    }), first(x => !!x), catchError(e => {\n      if (isEmptyError(e)) {\n        if (noLeftoversInUrl(segmentGroup, segments, outlet)) {\n          return of(new NoLeftoversInUrl());\n        }\n        return noMatch(segmentGroup);\n      }\n      throw e;\n    }));\n  }\n  processSegmentAgainstRoute(injector, routes, route, rawSegment, segments, outlet, allowRedirects, parentRoute) {\n    if (getOutlet(route) !== outlet && (outlet === PRIMARY_OUTLET || !emptyPathMatch(rawSegment, segments, route))) {\n      return noMatch(rawSegment);\n    }\n    if (route.redirectTo === undefined) {\n      return this.matchSegmentAgainstRoute(injector, rawSegment, route, segments, outlet, parentRoute);\n    }\n    if (this.allowRedirects && allowRedirects) {\n      return this.expandSegmentAgainstRouteUsingRedirect(injector, rawSegment, routes, route, segments, outlet, parentRoute);\n    }\n    return noMatch(rawSegment);\n  }\n  expandSegmentAgainstRouteUsingRedirect(injector, segmentGroup, routes, route, segments, outlet, parentRoute) {\n    const {\n      matched,\n      parameters,\n      consumedSegments,\n      positionalParamSegments,\n      remainingSegments\n    } = match(segmentGroup, route, segments);\n    if (!matched) return noMatch(segmentGroup);\n    if (typeof route.redirectTo === 'string' && route.redirectTo[0] === '/') {\n      this.absoluteRedirectCount++;\n      if (this.absoluteRedirectCount > MAX_ALLOWED_REDIRECTS) {\n        if (ngDevMode) {\n          throw new _RuntimeError(4016, `Detected possible infinite redirect when redirecting from '${this.urlTree}' to '${route.redirectTo}'.\\n` + `This is currently a dev mode only error but will become a` + ` call stack size exceeded error in production in a future major version.`);\n        }\n        this.allowRedirects = false;\n      }\n    }\n    const currentSnapshot = new ActivatedRouteSnapshot(segments, parameters, Object.freeze({\n      ...this.urlTree.queryParams\n    }), this.urlTree.fragment, getData(route), getOutlet(route), route.component ?? route._loadedComponent ?? null, route, getResolve(route));\n    const inherited = getInherited(currentSnapshot, parentRoute, this.paramsInheritanceStrategy);\n    currentSnapshot.params = Object.freeze(inherited.params);\n    currentSnapshot.data = Object.freeze(inherited.data);\n    const newTree$ = this.applyRedirects.applyRedirectCommands(consumedSegments, route.redirectTo, positionalParamSegments, currentSnapshot, injector);\n    return newTree$.pipe(switchMap(newTree => this.applyRedirects.lineralizeSegments(route, newTree)), mergeMap(newSegments => {\n      return this.processSegment(injector, routes, segmentGroup, newSegments.concat(remainingSegments), outlet, false, parentRoute);\n    }));\n  }\n  matchSegmentAgainstRoute(injector, rawSegment, route, segments, outlet, parentRoute) {\n    const matchResult = matchWithChecks(rawSegment, route, segments, injector, this.urlSerializer);\n    if (route.path === '**') {\n      rawSegment.children = {};\n    }\n    return matchResult.pipe(switchMap(result => {\n      if (!result.matched) {\n        return noMatch(rawSegment);\n      }\n      injector = route._injector ?? injector;\n      return this.getChildConfig(injector, route, segments).pipe(switchMap(({\n        routes: childConfig\n      }) => {\n        const childInjector = route._loadedInjector ?? injector;\n        const {\n          parameters,\n          consumedSegments,\n          remainingSegments\n        } = result;\n        const snapshot = new ActivatedRouteSnapshot(consumedSegments, parameters, Object.freeze({\n          ...this.urlTree.queryParams\n        }), this.urlTree.fragment, getData(route), getOutlet(route), route.component ?? route._loadedComponent ?? null, route, getResolve(route));\n        const inherited = getInherited(snapshot, parentRoute, this.paramsInheritanceStrategy);\n        snapshot.params = Object.freeze(inherited.params);\n        snapshot.data = Object.freeze(inherited.data);\n        const {\n          segmentGroup,\n          slicedSegments\n        } = split(rawSegment, consumedSegments, remainingSegments, childConfig);\n        if (slicedSegments.length === 0 && segmentGroup.hasChildren()) {\n          return this.processChildren(childInjector, childConfig, segmentGroup, snapshot).pipe(map(children => {\n            return new TreeNode(snapshot, children);\n          }));\n        }\n        if (childConfig.length === 0 && slicedSegments.length === 0) {\n          return of(new TreeNode(snapshot, []));\n        }\n        const matchedOnOutlet = getOutlet(route) === outlet;\n        return this.processSegment(childInjector, childConfig, segmentGroup, slicedSegments, matchedOnOutlet ? PRIMARY_OUTLET : outlet, true, snapshot).pipe(map(child => {\n          return new TreeNode(snapshot, child instanceof TreeNode ? [child] : []);\n        }));\n      }));\n    }));\n  }\n  getChildConfig(injector, route, segments) {\n    if (route.children) {\n      return of({\n        routes: route.children,\n        injector\n      });\n    }\n    if (route.loadChildren) {\n      if (route._loadedRoutes !== undefined) {\n        return of({\n          routes: route._loadedRoutes,\n          injector: route._loadedInjector\n        });\n      }\n      return runCanLoadGuards(injector, route, segments, this.urlSerializer).pipe(mergeMap(shouldLoadResult => {\n        if (shouldLoadResult) {\n          return from(this.configLoader.loadChildren(injector, route)).pipe(tap(cfg => {\n            route._loadedRoutes = cfg.routes;\n            route._loadedInjector = cfg.injector;\n          }));\n        }\n        return canLoadFails(route);\n      }));\n    }\n    return of({\n      routes: [],\n      injector\n    });\n  }\n}\nfunction sortActivatedRouteSnapshots(nodes) {\n  nodes.sort((a, b) => {\n    if (a.value.outlet === PRIMARY_OUTLET) return -1;\n    if (b.value.outlet === PRIMARY_OUTLET) return 1;\n    return a.value.outlet.localeCompare(b.value.outlet);\n  });\n}\nfunction hasEmptyPathConfig(node) {\n  const config = node.value.routeConfig;\n  return config && config.path === '';\n}\nfunction mergeEmptyPathMatches(nodes) {\n  const result = [];\n  const mergedNodes = new Set();\n  for (const node of nodes) {\n    if (!hasEmptyPathConfig(node)) {\n      result.push(node);\n      continue;\n    }\n    const duplicateEmptyPathNode = result.find(resultNode => node.value.routeConfig === resultNode.value.routeConfig);\n    if (duplicateEmptyPathNode !== undefined) {\n      duplicateEmptyPathNode.children.push(...node.children);\n      mergedNodes.add(duplicateEmptyPathNode);\n    } else {\n      result.push(node);\n    }\n  }\n  for (const mergedNode of mergedNodes) {\n    const mergedChildren = mergeEmptyPathMatches(mergedNode.children);\n    result.push(new TreeNode(mergedNode.value, mergedChildren));\n  }\n  return result.filter(n => !mergedNodes.has(n));\n}\nfunction checkOutletNameUniqueness(nodes) {\n  const names = {};\n  nodes.forEach(n => {\n    const routeWithSameOutletName = names[n.value.outlet];\n    if (routeWithSameOutletName) {\n      const p = routeWithSameOutletName.url.map(s => s.toString()).join('/');\n      const c = n.value.url.map(s => s.toString()).join('/');\n      throw new _RuntimeError(4006, (typeof ngDevMode === 'undefined' || ngDevMode) && `Two segments cannot have the same outlet name: '${p}' and '${c}'.`);\n    }\n    names[n.value.outlet] = n.value;\n  });\n}\nfunction getData(route) {\n  return route.data || {};\n}\nfunction getResolve(route) {\n  return route.resolve || {};\n}\nconst RECOGNIZE_IMPL = /*#__PURE__*/new InjectionToken(typeof ngDevMode !== 'undefined' && ngDevMode ? 'RECOGNIZE_IMPL' : '', {\n  factory: () => {\n    return recognize$2;\n  }\n});\nfunction provideSometimesSyncRecognize() {\n  return makeEnvironmentProviders([{\n    provide: RECOGNIZE_IMPL,\n    useValue: recognize$1\n  }]);\n}\nfunction recognize(injector, configLoader, rootComponentType, config, serializer, paramsInheritanceStrategy, abortSignal) {\n  const recognizeImpl = injector.get(RECOGNIZE_IMPL);\n  return mergeMap(t => of(t).pipe(switchMap(t => recognizeImpl(injector, configLoader, rootComponentType, config, t.extractedUrl, serializer, paramsInheritanceStrategy, abortSignal)), map(({\n    state: targetSnapshot,\n    tree: urlAfterRedirects\n  }) => {\n    return {\n      ...t,\n      targetSnapshot,\n      urlAfterRedirects\n    };\n  })));\n}\nfunction resolveData(paramsInheritanceStrategy, injector) {\n  return mergeMap(t => {\n    const {\n      targetSnapshot,\n      guards: {\n        canActivateChecks\n      }\n    } = t;\n    if (!canActivateChecks.length) {\n      return of(t);\n    }\n    const routesWithResolversToRun = new Set(canActivateChecks.map(check => check.route));\n    const routesNeedingDataUpdates = new Set();\n    for (const route of routesWithResolversToRun) {\n      if (routesNeedingDataUpdates.has(route)) {\n        continue;\n      }\n      for (const newRoute of flattenRouteTree(route)) {\n        routesNeedingDataUpdates.add(newRoute);\n      }\n    }\n    let routesProcessed = 0;\n    return from(routesNeedingDataUpdates).pipe(concatMap(route => {\n      if (routesWithResolversToRun.has(route)) {\n        return runResolve(route, targetSnapshot, paramsInheritanceStrategy, injector);\n      } else {\n        route.data = getInherited(route, route.parent, paramsInheritanceStrategy).resolve;\n        return of(void 0);\n      }\n    }), tap(() => routesProcessed++), takeLast(1), mergeMap(_ => routesProcessed === routesNeedingDataUpdates.size ? of(t) : EMPTY));\n  });\n}\nfunction flattenRouteTree(route) {\n  const descendants = route.children.map(child => flattenRouteTree(child)).flat();\n  return [route, ...descendants];\n}\nfunction runResolve(futureARS, futureRSS, paramsInheritanceStrategy, injector) {\n  const config = futureARS.routeConfig;\n  const resolve = futureARS._resolve;\n  if (config?.title !== undefined && !hasStaticTitle(config)) {\n    resolve[RouteTitleKey] = config.title;\n  }\n  return defer(() => {\n    futureARS.data = getInherited(futureARS, futureARS.parent, paramsInheritanceStrategy).resolve;\n    return resolveNode(resolve, futureARS, futureRSS, injector).pipe(map(resolvedData => {\n      futureARS._resolvedData = resolvedData;\n      futureARS.data = {\n        ...futureARS.data,\n        ...resolvedData\n      };\n      return null;\n    }));\n  });\n}\nfunction resolveNode(resolve, futureARS, futureRSS, injector) {\n  const keys = getDataKeys(resolve);\n  if (keys.length === 0) {\n    return of({});\n  }\n  const data = {};\n  return from(keys).pipe(mergeMap(key => getResolver(resolve[key], futureARS, futureRSS, injector).pipe(first(), tap(value => {\n    if (value instanceof RedirectCommand) {\n      throw redirectingNavigationError(new DefaultUrlSerializer(), value);\n    }\n    data[key] = value;\n  }))), takeLast(1), map(() => data), catchError(e => isEmptyError(e) ? EMPTY : throwError(e)));\n}\nfunction getResolver(injectionToken, futureARS, futureRSS, injector) {\n  const closestInjector = getClosestRouteInjector(futureARS) ?? injector;\n  const resolver = getTokenOrFunctionIdentity(injectionToken, closestInjector);\n  const resolverValue = resolver.resolve ? resolver.resolve(futureARS, futureRSS) : runInInjectionContext(closestInjector, () => resolver(futureARS, futureRSS));\n  return wrapIntoObservable(resolverValue);\n}\nfunction switchTap(next) {\n  return switchMap(v => {\n    const nextResult = next(v);\n    if (nextResult) {\n      return from(nextResult).pipe(map(() => v));\n    }\n    return of(v);\n  });\n}\nlet TitleStrategy = /*#__PURE__*/(() => {\n  class TitleStrategy {\n    buildTitle(snapshot) {\n      let pageTitle;\n      let route = snapshot.root;\n      while (route !== undefined) {\n        pageTitle = this.getResolvedTitleForRoute(route) ?? pageTitle;\n        route = route.children.find(child => child.outlet === PRIMARY_OUTLET);\n      }\n      return pageTitle;\n    }\n    getResolvedTitleForRoute(snapshot) {\n      return snapshot.data[RouteTitleKey];\n    }\n    static ɵfac = function TitleStrategy_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || TitleStrategy)();\n    };\n    static ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n      token: TitleStrategy,\n      factory: () => (() => inject(DefaultTitleStrategy))(),\n      providedIn: 'root'\n    });\n  }\n  return TitleStrategy;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet DefaultTitleStrategy = /*#__PURE__*/(() => {\n  class DefaultTitleStrategy extends TitleStrategy {\n    title;\n    constructor(title) {\n      super();\n      this.title = title;\n    }\n    updateTitle(snapshot) {\n      const title = this.buildTitle(snapshot);\n      if (title !== undefined) {\n        this.title.setTitle(title);\n      }\n    }\n    static ɵfac = function DefaultTitleStrategy_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || DefaultTitleStrategy)(i0.ɵɵinject(i1.Title));\n    };\n    static ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n      token: DefaultTitleStrategy,\n      factory: DefaultTitleStrategy.ɵfac,\n      providedIn: 'root'\n    });\n  }\n  return DefaultTitleStrategy;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst ROUTER_CONFIGURATION = /*#__PURE__*/new InjectionToken(typeof ngDevMode === 'undefined' || ngDevMode ? 'router config' : '', {\n  factory: () => ({})\n});\nconst ROUTES = /*#__PURE__*/new InjectionToken(typeof ngDevMode !== 'undefined' && ngDevMode ? 'ROUTES' : '');\nlet RouterConfigLoader = /*#__PURE__*/(() => {\n  class RouterConfigLoader {\n    componentLoaders = new WeakMap();\n    childrenLoaders = new WeakMap();\n    onLoadStartListener;\n    onLoadEndListener;\n    compiler = inject(Compiler);\n    loadComponent(injector, route) {\n      var _this1 = this;\n      return _asyncToGenerator(function* () {\n        if (_this1.componentLoaders.get(route)) {\n          return _this1.componentLoaders.get(route);\n        } else if (route._loadedComponent) {\n          return Promise.resolve(route._loadedComponent);\n        }\n        if (_this1.onLoadStartListener) {\n          _this1.onLoadStartListener(route);\n        }\n        const loader = _asyncToGenerator(function* () {\n          try {\n            const loaded = yield wrapIntoPromise(runInInjectionContext(injector, () => route.loadComponent()));\n            const component = yield maybeResolveResources(maybeUnwrapDefaultExport(loaded));\n            if (_this1.onLoadEndListener) {\n              _this1.onLoadEndListener(route);\n            }\n            (typeof ngDevMode === 'undefined' || ngDevMode) && assertStandalone(route.path ?? '', component);\n            route._loadedComponent = component;\n            return component;\n          } finally {\n            _this1.componentLoaders.delete(route);\n          }\n        })();\n        _this1.componentLoaders.set(route, loader);\n        return loader;\n      })();\n    }\n    loadChildren(parentInjector, route) {\n      var _this10 = this;\n      if (this.childrenLoaders.get(route)) {\n        return this.childrenLoaders.get(route);\n      } else if (route._loadedRoutes) {\n        return Promise.resolve({\n          routes: route._loadedRoutes,\n          injector: route._loadedInjector\n        });\n      }\n      if (this.onLoadStartListener) {\n        this.onLoadStartListener(route);\n      }\n      const loader = _asyncToGenerator(function* () {\n        try {\n          const result = yield loadChildren(route, _this10.compiler, parentInjector, _this10.onLoadEndListener);\n          route._loadedRoutes = result.routes;\n          route._loadedInjector = result.injector;\n          return result;\n        } finally {\n          _this10.childrenLoaders.delete(route);\n        }\n      })();\n      this.childrenLoaders.set(route, loader);\n      return loader;\n    }\n    static ɵfac = function RouterConfigLoader_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || RouterConfigLoader)();\n    };\n    static ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n      token: RouterConfigLoader,\n      factory: RouterConfigLoader.ɵfac,\n      providedIn: 'root'\n    });\n  }\n  return RouterConfigLoader;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nfunction loadChildren(_x7, _x8, _x9, _x0) {\n  return _loadChildren.apply(this, arguments);\n}\nfunction _loadChildren() {\n  _loadChildren = _asyncToGenerator(function* (route, compiler, parentInjector, onLoadEndListener) {\n    const loaded = yield wrapIntoPromise(runInInjectionContext(parentInjector, () => route.loadChildren()));\n    const t = yield maybeResolveResources(maybeUnwrapDefaultExport(loaded));\n    let factoryOrRoutes;\n    if (t instanceof NgModuleFactory || Array.isArray(t)) {\n      factoryOrRoutes = t;\n    } else {\n      factoryOrRoutes = yield compiler.compileModuleAsync(t);\n    }\n    if (onLoadEndListener) {\n      onLoadEndListener(route);\n    }\n    let injector;\n    let rawRoutes;\n    let requireStandaloneComponents = false;\n    if (Array.isArray(factoryOrRoutes)) {\n      rawRoutes = factoryOrRoutes;\n      requireStandaloneComponents = true;\n    } else {\n      injector = factoryOrRoutes.create(parentInjector).injector;\n      rawRoutes = injector.get(ROUTES, [], {\n        optional: true,\n        self: true\n      }).flat();\n    }\n    const routes = rawRoutes.map(standardizeConfig);\n    (typeof ngDevMode === 'undefined' || ngDevMode) && validateConfig(routes, route.path, requireStandaloneComponents);\n    return {\n      routes,\n      injector\n    };\n  });\n  return _loadChildren.apply(this, arguments);\n}\nfunction isWrappedDefaultExport(value) {\n  return value && typeof value === 'object' && 'default' in value;\n}\nfunction maybeUnwrapDefaultExport(input) {\n  return isWrappedDefaultExport(input) ? input['default'] : input;\n}\nfunction maybeResolveResources(_x1) {\n  return _maybeResolveResources.apply(this, arguments);\n}\nfunction _maybeResolveResources() {\n  _maybeResolveResources = _asyncToGenerator(function* (value) {\n    if ((typeof ngJitMode === 'undefined' || ngJitMode) && typeof fetch === 'function') {\n      try {\n        yield _resolveComponentResources(fetch);\n      } catch (error) {\n        console.error(error);\n      }\n    }\n    return value;\n  });\n  return _maybeResolveResources.apply(this, arguments);\n}\nlet UrlHandlingStrategy = /*#__PURE__*/(() => {\n  class UrlHandlingStrategy {\n    static ɵfac = function UrlHandlingStrategy_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || UrlHandlingStrategy)();\n    };\n    static ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n      token: UrlHandlingStrategy,\n      factory: () => (() => inject(DefaultUrlHandlingStrategy))(),\n      providedIn: 'root'\n    });\n  }\n  return UrlHandlingStrategy;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet DefaultUrlHandlingStrategy = /*#__PURE__*/(() => {\n  class DefaultUrlHandlingStrategy {\n    shouldProcessUrl(url) {\n      return true;\n    }\n    extract(url) {\n      return url;\n    }\n    merge(newUrlPart, wholeUrl) {\n      return newUrlPart;\n    }\n    static ɵfac = function DefaultUrlHandlingStrategy_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || DefaultUrlHandlingStrategy)();\n    };\n    static ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n      token: DefaultUrlHandlingStrategy,\n      factory: DefaultUrlHandlingStrategy.ɵfac,\n      providedIn: 'root'\n    });\n  }\n  return DefaultUrlHandlingStrategy;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst CREATE_VIEW_TRANSITION = /*#__PURE__*/new InjectionToken(typeof ngDevMode !== 'undefined' && ngDevMode ? 'view transition helper' : '');\nconst VIEW_TRANSITION_OPTIONS = /*#__PURE__*/new InjectionToken(typeof ngDevMode !== 'undefined' && ngDevMode ? 'view transition options' : '');\nfunction createViewTransition(injector, from, to) {\n  const transitionOptions = injector.get(VIEW_TRANSITION_OPTIONS);\n  const document = injector.get(DOCUMENT);\n  if (!document.startViewTransition || transitionOptions.skipNextTransition) {\n    transitionOptions.skipNextTransition = false;\n    return new Promise(resolve => setTimeout(resolve));\n  }\n  let resolveViewTransitionStarted;\n  const viewTransitionStarted = new Promise(resolve => {\n    resolveViewTransitionStarted = resolve;\n  });\n  const transition = document.startViewTransition(() => {\n    resolveViewTransitionStarted();\n    return createRenderPromise(injector);\n  });\n  transition.ready.catch(error => {\n    if (typeof ngDevMode === 'undefined' || ngDevMode) {\n      console.error(error);\n    }\n  });\n  transition.finished.catch(error => {\n    if (typeof ngDevMode === 'undefined' || ngDevMode) {\n      console.error(error);\n    }\n  });\n  const {\n    onViewTransitionCreated\n  } = transitionOptions;\n  if (onViewTransitionCreated) {\n    runInInjectionContext(injector, () => onViewTransitionCreated({\n      transition,\n      from,\n      to\n    }));\n  }\n  return viewTransitionStarted;\n}\nfunction createRenderPromise(injector) {\n  return new Promise(resolve => {\n    afterNextRender({\n      read: () => setTimeout(resolve)\n    }, {\n      injector\n    });\n  });\n}\nconst noop = () => {};\nconst NAVIGATION_ERROR_HANDLER = /*#__PURE__*/new InjectionToken(typeof ngDevMode === 'undefined' || ngDevMode ? 'navigation error handler' : '');\nlet NavigationTransitions = /*#__PURE__*/(() => {\n  class NavigationTransitions {\n    currentNavigation = signal(null, {\n      ...(ngDevMode ? {\n        debugName: \"currentNavigation\"\n      } : {}),\n      equal: () => false\n    });\n    currentTransition = null;\n    lastSuccessfulNavigation = signal(null, ...(ngDevMode ? [{\n      debugName: \"lastSuccessfulNavigation\"\n    }] : []));\n    events = new Subject();\n    transitionAbortWithErrorSubject = new Subject();\n    configLoader = inject(RouterConfigLoader);\n    environmentInjector = inject(EnvironmentInjector);\n    destroyRef = inject(DestroyRef);\n    urlSerializer = inject(UrlSerializer);\n    rootContexts = inject(ChildrenOutletContexts);\n    location = inject(Location);\n    inputBindingEnabled = inject(INPUT_BINDER, {\n      optional: true\n    }) !== null;\n    titleStrategy = inject(TitleStrategy);\n    options = inject(ROUTER_CONFIGURATION, {\n      optional: true\n    }) || {};\n    paramsInheritanceStrategy = this.options.paramsInheritanceStrategy || 'emptyOnly';\n    urlHandlingStrategy = inject(UrlHandlingStrategy);\n    createViewTransition = inject(CREATE_VIEW_TRANSITION, {\n      optional: true\n    });\n    navigationErrorHandler = inject(NAVIGATION_ERROR_HANDLER, {\n      optional: true\n    });\n    navigationId = 0;\n    get hasRequestedNavigation() {\n      return this.navigationId !== 0;\n    }\n    transitions;\n    afterPreactivation = () => of(void 0);\n    rootComponentType = null;\n    destroyed = false;\n    constructor() {\n      const onLoadStart = r => this.events.next(new RouteConfigLoadStart(r));\n      const onLoadEnd = r => this.events.next(new RouteConfigLoadEnd(r));\n      this.configLoader.onLoadEndListener = onLoadEnd;\n      this.configLoader.onLoadStartListener = onLoadStart;\n      this.destroyRef.onDestroy(() => {\n        this.destroyed = true;\n      });\n    }\n    complete() {\n      this.transitions?.complete();\n    }\n    handleNavigationRequest(request) {\n      const id = ++this.navigationId;\n      untracked(() => {\n        this.transitions?.next({\n          ...request,\n          extractedUrl: this.urlHandlingStrategy.extract(request.rawUrl),\n          targetSnapshot: null,\n          targetRouterState: null,\n          guards: {\n            canActivateChecks: [],\n            canDeactivateChecks: []\n          },\n          guardsResult: null,\n          id\n        });\n      });\n    }\n    setupNavigations(router) {\n      this.transitions = new BehaviorSubject(null);\n      return this.transitions.pipe(filter(t => t !== null), switchMap(overallTransitionState => {\n        let completedOrAborted = false;\n        const abortController = new AbortController();\n        return of(overallTransitionState).pipe(switchMap(t => {\n          if (this.navigationId > overallTransitionState.id) {\n            const cancellationReason = typeof ngDevMode === 'undefined' || ngDevMode ? `Navigation ID ${overallTransitionState.id} is not equal to the current navigation id ${this.navigationId}` : '';\n            this.cancelNavigationTransition(overallTransitionState, cancellationReason, NavigationCancellationCode.SupersededByNewNavigation);\n            return EMPTY;\n          }\n          this.currentTransition = overallTransitionState;\n          const lastSuccessfulNavigation = this.lastSuccessfulNavigation();\n          this.currentNavigation.set({\n            id: t.id,\n            initialUrl: t.rawUrl,\n            extractedUrl: t.extractedUrl,\n            targetBrowserUrl: typeof t.extras.browserUrl === 'string' ? this.urlSerializer.parse(t.extras.browserUrl) : t.extras.browserUrl,\n            trigger: t.source,\n            extras: t.extras,\n            previousNavigation: !lastSuccessfulNavigation ? null : {\n              ...lastSuccessfulNavigation,\n              previousNavigation: null\n            },\n            abort: () => abortController.abort()\n          });\n          const urlTransition = !router.navigated || this.isUpdatingInternalState() || this.isUpdatedBrowserUrl();\n          const onSameUrlNavigation = t.extras.onSameUrlNavigation ?? router.onSameUrlNavigation;\n          if (!urlTransition && onSameUrlNavigation !== 'reload') {\n            const reason = typeof ngDevMode === 'undefined' || ngDevMode ? `Navigation to ${t.rawUrl} was ignored because it is the same as the current Router URL.` : '';\n            this.events.next(new NavigationSkipped(t.id, this.urlSerializer.serialize(t.rawUrl), reason, NavigationSkippedCode.IgnoredSameUrlNavigation));\n            t.resolve(false);\n            return EMPTY;\n          }\n          if (this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl)) {\n            return of(t).pipe(switchMap(t => {\n              this.events.next(new NavigationStart(t.id, this.urlSerializer.serialize(t.extractedUrl), t.source, t.restoredState));\n              if (t.id !== this.navigationId) {\n                return EMPTY;\n              }\n              return Promise.resolve(t);\n            }), recognize(this.environmentInjector, this.configLoader, this.rootComponentType, router.config, this.urlSerializer, this.paramsInheritanceStrategy, abortController.signal), tap(t => {\n              overallTransitionState.targetSnapshot = t.targetSnapshot;\n              overallTransitionState.urlAfterRedirects = t.urlAfterRedirects;\n              this.currentNavigation.update(nav => {\n                nav.finalUrl = t.urlAfterRedirects;\n                return nav;\n              });\n              const routesRecognized = new RoutesRecognized(t.id, this.urlSerializer.serialize(t.extractedUrl), this.urlSerializer.serialize(t.urlAfterRedirects), t.targetSnapshot);\n              this.events.next(routesRecognized);\n            }));\n          } else if (urlTransition && this.urlHandlingStrategy.shouldProcessUrl(t.currentRawUrl)) {\n            const {\n              id,\n              extractedUrl,\n              source,\n              restoredState,\n              extras\n            } = t;\n            const navStart = new NavigationStart(id, this.urlSerializer.serialize(extractedUrl), source, restoredState);\n            this.events.next(navStart);\n            const targetSnapshot = createEmptyState(this.rootComponentType).snapshot;\n            this.currentTransition = overallTransitionState = {\n              ...t,\n              targetSnapshot,\n              urlAfterRedirects: extractedUrl,\n              extras: {\n                ...extras,\n                skipLocationChange: false,\n                replaceUrl: false\n              }\n            };\n            this.currentNavigation.update(nav => {\n              nav.finalUrl = extractedUrl;\n              return nav;\n            });\n            return of(overallTransitionState);\n          } else {\n            const reason = typeof ngDevMode === 'undefined' || ngDevMode ? `Navigation was ignored because the UrlHandlingStrategy` + ` indicated neither the current URL ${t.currentRawUrl} nor target URL ${t.rawUrl} should be processed.` : '';\n            this.events.next(new NavigationSkipped(t.id, this.urlSerializer.serialize(t.extractedUrl), reason, NavigationSkippedCode.IgnoredByUrlHandlingStrategy));\n            t.resolve(false);\n            return EMPTY;\n          }\n        }), tap(t => {\n          const guardsStart = new GuardsCheckStart(t.id, this.urlSerializer.serialize(t.extractedUrl), this.urlSerializer.serialize(t.urlAfterRedirects), t.targetSnapshot);\n          this.events.next(guardsStart);\n        }), map(t => {\n          this.currentTransition = overallTransitionState = {\n            ...t,\n            guards: getAllRouteGuards(t.targetSnapshot, t.currentSnapshot, this.rootContexts)\n          };\n          return overallTransitionState;\n        }), checkGuards(this.environmentInjector, evt => this.events.next(evt)), tap(t => {\n          overallTransitionState.guardsResult = t.guardsResult;\n          if (t.guardsResult && typeof t.guardsResult !== 'boolean') {\n            throw redirectingNavigationError(this.urlSerializer, t.guardsResult);\n          }\n          const guardsEnd = new GuardsCheckEnd(t.id, this.urlSerializer.serialize(t.extractedUrl), this.urlSerializer.serialize(t.urlAfterRedirects), t.targetSnapshot, !!t.guardsResult);\n          this.events.next(guardsEnd);\n        }), filter(t => {\n          if (!t.guardsResult) {\n            this.cancelNavigationTransition(t, '', NavigationCancellationCode.GuardRejected);\n            return false;\n          }\n          return true;\n        }), switchTap(t => {\n          if (t.guards.canActivateChecks.length === 0) {\n            return undefined;\n          }\n          return of(t).pipe(tap(t => {\n            const resolveStart = new ResolveStart(t.id, this.urlSerializer.serialize(t.extractedUrl), this.urlSerializer.serialize(t.urlAfterRedirects), t.targetSnapshot);\n            this.events.next(resolveStart);\n          }), switchMap(t => {\n            let dataResolved = false;\n            return of(t).pipe(resolveData(this.paramsInheritanceStrategy, this.environmentInjector), tap({\n              next: () => dataResolved = true,\n              complete: () => {\n                if (!dataResolved) {\n                  this.cancelNavigationTransition(t, typeof ngDevMode === 'undefined' || ngDevMode ? `At least one route resolver didn't emit any value.` : '', NavigationCancellationCode.NoDataFromResolver);\n                }\n              }\n            }));\n          }), tap(t => {\n            const resolveEnd = new ResolveEnd(t.id, this.urlSerializer.serialize(t.extractedUrl), this.urlSerializer.serialize(t.urlAfterRedirects), t.targetSnapshot);\n            this.events.next(resolveEnd);\n          }));\n        }), switchTap(t => {\n          const loadComponents = route => {\n            const loaders = [];\n            if (route.routeConfig?._loadedComponent) {\n              route.component = route.routeConfig?._loadedComponent;\n            } else if (route.routeConfig?.loadComponent) {\n              const injector = getClosestRouteInjector(route) ?? this.environmentInjector;\n              loaders.push(this.configLoader.loadComponent(injector, route.routeConfig).then(loadedComponent => {\n                route.component = loadedComponent;\n              }));\n            }\n            for (const child of route.children) {\n              loaders.push(...loadComponents(child));\n            }\n            return loaders;\n          };\n          const loaders = loadComponents(t.targetSnapshot.root);\n          return loaders.length === 0 ? of(t) : from(Promise.all(loaders).then(() => t));\n        }), switchTap(() => this.afterPreactivation()), switchMap(() => {\n          const {\n            currentSnapshot,\n            targetSnapshot\n          } = overallTransitionState;\n          const viewTransitionStarted = this.createViewTransition?.(this.environmentInjector, currentSnapshot.root, targetSnapshot.root);\n          return viewTransitionStarted ? from(viewTransitionStarted).pipe(map(() => overallTransitionState)) : of(overallTransitionState);\n        }), map(t => {\n          const targetRouterState = createRouterState(router.routeReuseStrategy, t.targetSnapshot, t.currentRouterState);\n          this.currentTransition = overallTransitionState = {\n            ...t,\n            targetRouterState\n          };\n          this.currentNavigation.update(nav => {\n            nav.targetRouterState = targetRouterState;\n            return nav;\n          });\n          return overallTransitionState;\n        }), tap(() => {\n          this.events.next(new BeforeActivateRoutes());\n        }), activateRoutes(this.rootContexts, router.routeReuseStrategy, evt => this.events.next(evt), this.inputBindingEnabled), take(1), takeUntil(abortSignalToObservable(abortController.signal).pipe(filter(() => !completedOrAborted && !overallTransitionState.targetRouterState), tap(() => {\n          this.cancelNavigationTransition(overallTransitionState, abortController.signal.reason + '', NavigationCancellationCode.Aborted);\n        }))), tap({\n          next: t => {\n            completedOrAborted = true;\n            this.currentNavigation.update(nav => {\n              nav.abort = noop;\n              return nav;\n            });\n            this.lastSuccessfulNavigation.set(untracked(this.currentNavigation));\n            this.events.next(new NavigationEnd(t.id, this.urlSerializer.serialize(t.extractedUrl), this.urlSerializer.serialize(t.urlAfterRedirects)));\n            this.titleStrategy?.updateTitle(t.targetRouterState.snapshot);\n            t.resolve(true);\n          },\n          complete: () => {\n            completedOrAborted = true;\n          }\n        }), takeUntil(this.transitionAbortWithErrorSubject.pipe(tap(err => {\n          throw err;\n        }))), finalize(() => {\n          abortController.abort();\n          if (!completedOrAborted) {\n            const cancelationReason = typeof ngDevMode === 'undefined' || ngDevMode ? `Navigation ID ${overallTransitionState.id} is not equal to the current navigation id ${this.navigationId}` : '';\n            this.cancelNavigationTransition(overallTransitionState, cancelationReason, NavigationCancellationCode.SupersededByNewNavigation);\n          }\n          if (this.currentTransition?.id === overallTransitionState.id) {\n            this.currentNavigation.set(null);\n            this.currentTransition = null;\n          }\n        }), catchError(e => {\n          if (this.destroyed) {\n            overallTransitionState.resolve(false);\n            return EMPTY;\n          }\n          completedOrAborted = true;\n          if (isNavigationCancelingError(e)) {\n            this.events.next(new NavigationCancel(overallTransitionState.id, this.urlSerializer.serialize(overallTransitionState.extractedUrl), e.message, e.cancellationCode));\n            if (!isRedirectingNavigationCancelingError(e)) {\n              overallTransitionState.resolve(false);\n            } else {\n              this.events.next(new RedirectRequest(e.url, e.navigationBehaviorOptions));\n            }\n          } else {\n            const navigationError = new NavigationError(overallTransitionState.id, this.urlSerializer.serialize(overallTransitionState.extractedUrl), e, overallTransitionState.targetSnapshot ?? undefined);\n            try {\n              const navigationErrorHandlerResult = runInInjectionContext(this.environmentInjector, () => this.navigationErrorHandler?.(navigationError));\n              if (navigationErrorHandlerResult instanceof RedirectCommand) {\n                const {\n                  message,\n                  cancellationCode\n                } = redirectingNavigationError(this.urlSerializer, navigationErrorHandlerResult);\n                this.events.next(new NavigationCancel(overallTransitionState.id, this.urlSerializer.serialize(overallTransitionState.extractedUrl), message, cancellationCode));\n                this.events.next(new RedirectRequest(navigationErrorHandlerResult.redirectTo, navigationErrorHandlerResult.navigationBehaviorOptions));\n              } else {\n                this.events.next(navigationError);\n                throw e;\n              }\n            } catch (ee) {\n              if (this.options.resolveNavigationPromiseOnError) {\n                overallTransitionState.resolve(false);\n              } else {\n                overallTransitionState.reject(ee);\n              }\n            }\n          }\n          return EMPTY;\n        }));\n      }));\n    }\n    cancelNavigationTransition(t, reason, code) {\n      const navCancel = new NavigationCancel(t.id, this.urlSerializer.serialize(t.extractedUrl), reason, code);\n      this.events.next(navCancel);\n      t.resolve(false);\n    }\n    isUpdatingInternalState() {\n      return this.currentTransition?.extractedUrl.toString() !== this.currentTransition?.currentUrlTree.toString();\n    }\n    isUpdatedBrowserUrl() {\n      const currentBrowserUrl = this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(true)));\n      const currentNavigation = untracked(this.currentNavigation);\n      const targetBrowserUrl = currentNavigation?.targetBrowserUrl ?? currentNavigation?.extractedUrl;\n      return currentBrowserUrl.toString() !== targetBrowserUrl?.toString() && !currentNavigation?.extras.skipLocationChange;\n    }\n    static ɵfac = function NavigationTransitions_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || NavigationTransitions)();\n    };\n    static ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n      token: NavigationTransitions,\n      factory: NavigationTransitions.ɵfac,\n      providedIn: 'root'\n    });\n  }\n  return NavigationTransitions;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nfunction isBrowserTriggeredNavigation(source) {\n  return source !== IMPERATIVE_NAVIGATION;\n}\nlet RouteReuseStrategy = /*#__PURE__*/(() => {\n  class RouteReuseStrategy {\n    static ɵfac = function RouteReuseStrategy_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || RouteReuseStrategy)();\n    };\n    static ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n      token: RouteReuseStrategy,\n      factory: () => (() => inject(DefaultRouteReuseStrategy))(),\n      providedIn: 'root'\n    });\n  }\n  return RouteReuseStrategy;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nclass BaseRouteReuseStrategy {\n  shouldDetach(route) {\n    return false;\n  }\n  store(route, detachedTree) {}\n  shouldAttach(route) {\n    return false;\n  }\n  retrieve(route) {\n    return null;\n  }\n  shouldReuseRoute(future, curr) {\n    return future.routeConfig === curr.routeConfig;\n  }\n}\nlet DefaultRouteReuseStrategy = /*#__PURE__*/(() => {\n  class DefaultRouteReuseStrategy extends BaseRouteReuseStrategy {\n    static ɵfac = /* @__PURE__ */(() => {\n      let ɵDefaultRouteReuseStrategy_BaseFactory;\n      return function DefaultRouteReuseStrategy_Factory(__ngFactoryType__) {\n        return (ɵDefaultRouteReuseStrategy_BaseFactory || (ɵDefaultRouteReuseStrategy_BaseFactory = i0.ɵɵgetInheritedFactory(DefaultRouteReuseStrategy)))(__ngFactoryType__ || DefaultRouteReuseStrategy);\n      };\n    })();\n    static ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n      token: DefaultRouteReuseStrategy,\n      factory: DefaultRouteReuseStrategy.ɵfac,\n      providedIn: 'root'\n    });\n  }\n  return DefaultRouteReuseStrategy;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet StateManager = /*#__PURE__*/(() => {\n  class StateManager {\n    urlSerializer = inject(UrlSerializer);\n    options = inject(ROUTER_CONFIGURATION, {\n      optional: true\n    }) || {};\n    canceledNavigationResolution = this.options.canceledNavigationResolution || 'replace';\n    location = inject(Location);\n    urlHandlingStrategy = inject(UrlHandlingStrategy);\n    urlUpdateStrategy = this.options.urlUpdateStrategy || 'deferred';\n    currentUrlTree = new UrlTree();\n    getCurrentUrlTree() {\n      return this.currentUrlTree;\n    }\n    rawUrlTree = this.currentUrlTree;\n    getRawUrlTree() {\n      return this.rawUrlTree;\n    }\n    createBrowserPath({\n      finalUrl,\n      initialUrl,\n      targetBrowserUrl\n    }) {\n      const rawUrl = finalUrl !== undefined ? this.urlHandlingStrategy.merge(finalUrl, initialUrl) : initialUrl;\n      const url = targetBrowserUrl ?? rawUrl;\n      const path = url instanceof UrlTree ? this.urlSerializer.serialize(url) : url;\n      return path;\n    }\n    commitTransition({\n      targetRouterState,\n      finalUrl,\n      initialUrl\n    }) {\n      if (finalUrl && targetRouterState) {\n        this.currentUrlTree = finalUrl;\n        this.rawUrlTree = this.urlHandlingStrategy.merge(finalUrl, initialUrl);\n        this.routerState = targetRouterState;\n      } else {\n        this.rawUrlTree = initialUrl;\n      }\n    }\n    routerState = createEmptyState(null);\n    getRouterState() {\n      return this.routerState;\n    }\n    stateMemento = this.createStateMemento();\n    updateStateMemento() {\n      this.stateMemento = this.createStateMemento();\n    }\n    createStateMemento() {\n      return {\n        rawUrlTree: this.rawUrlTree,\n        currentUrlTree: this.currentUrlTree,\n        routerState: this.routerState\n      };\n    }\n    resetInternalState({\n      finalUrl\n    }) {\n      this.routerState = this.stateMemento.routerState;\n      this.currentUrlTree = this.stateMemento.currentUrlTree;\n      this.rawUrlTree = this.urlHandlingStrategy.merge(this.currentUrlTree, finalUrl ?? this.rawUrlTree);\n    }\n    static ɵfac = function StateManager_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || StateManager)();\n    };\n    static ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n      token: StateManager,\n      factory: () => (() => inject(HistoryStateManager))(),\n      providedIn: 'root'\n    });\n  }\n  return StateManager;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet HistoryStateManager = /*#__PURE__*/(() => {\n  class HistoryStateManager extends StateManager {\n    currentPageId = 0;\n    lastSuccessfulId = -1;\n    restoredState() {\n      return this.location.getState();\n    }\n    get browserPageId() {\n      if (this.canceledNavigationResolution !== 'computed') {\n        return this.currentPageId;\n      }\n      return this.restoredState()?.ɵrouterPageId ?? this.currentPageId;\n    }\n    registerNonRouterCurrentEntryChangeListener(listener) {\n      return this.location.subscribe(event => {\n        if (event['type'] === 'popstate') {\n          setTimeout(() => {\n            listener(event['url'], event.state, 'popstate');\n          });\n        }\n      });\n    }\n    handleRouterEvent(e, currentTransition) {\n      if (e instanceof NavigationStart) {\n        this.updateStateMemento();\n      } else if (e instanceof NavigationSkipped) {\n        this.commitTransition(currentTransition);\n      } else if (e instanceof RoutesRecognized) {\n        if (this.urlUpdateStrategy === 'eager') {\n          if (!currentTransition.extras.skipLocationChange) {\n            this.setBrowserUrl(this.createBrowserPath(currentTransition), currentTransition);\n          }\n        }\n      } else if (e instanceof BeforeActivateRoutes) {\n        this.commitTransition(currentTransition);\n        if (this.urlUpdateStrategy === 'deferred' && !currentTransition.extras.skipLocationChange) {\n          this.setBrowserUrl(this.createBrowserPath(currentTransition), currentTransition);\n        }\n      } else if (e instanceof NavigationCancel && e.code !== NavigationCancellationCode.SupersededByNewNavigation && e.code !== NavigationCancellationCode.Redirect) {\n        this.restoreHistory(currentTransition);\n      } else if (e instanceof NavigationError) {\n        this.restoreHistory(currentTransition, true);\n      } else if (e instanceof NavigationEnd) {\n        this.lastSuccessfulId = e.id;\n        this.currentPageId = this.browserPageId;\n      }\n    }\n    setBrowserUrl(path, {\n      extras,\n      id\n    }) {\n      const {\n        replaceUrl,\n        state\n      } = extras;\n      if (this.location.isCurrentPathEqualTo(path) || !!replaceUrl) {\n        const currentBrowserPageId = this.browserPageId;\n        const newState = {\n          ...state,\n          ...this.generateNgRouterState(id, currentBrowserPageId)\n        };\n        this.location.replaceState(path, '', newState);\n      } else {\n        const newState = {\n          ...state,\n          ...this.generateNgRouterState(id, this.browserPageId + 1)\n        };\n        this.location.go(path, '', newState);\n      }\n    }\n    restoreHistory(navigation, restoringFromCaughtError = false) {\n      if (this.canceledNavigationResolution === 'computed') {\n        const currentBrowserPageId = this.browserPageId;\n        const targetPagePosition = this.currentPageId - currentBrowserPageId;\n        if (targetPagePosition !== 0) {\n          this.location.historyGo(targetPagePosition);\n        } else if (this.getCurrentUrlTree() === navigation.finalUrl && targetPagePosition === 0) {\n          this.resetInternalState(navigation);\n          this.resetUrlToCurrentUrlTree();\n        } else ;\n      } else if (this.canceledNavigationResolution === 'replace') {\n        if (restoringFromCaughtError) {\n          this.resetInternalState(navigation);\n        }\n        this.resetUrlToCurrentUrlTree();\n      }\n    }\n    resetUrlToCurrentUrlTree() {\n      this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()), '', this.generateNgRouterState(this.lastSuccessfulId, this.currentPageId));\n    }\n    generateNgRouterState(navigationId, routerPageId) {\n      if (this.canceledNavigationResolution === 'computed') {\n        return {\n          navigationId,\n          ɵrouterPageId: routerPageId\n        };\n      }\n      return {\n        navigationId\n      };\n    }\n    static ɵfac = /* @__PURE__ */(() => {\n      let ɵHistoryStateManager_BaseFactory;\n      return function HistoryStateManager_Factory(__ngFactoryType__) {\n        return (ɵHistoryStateManager_BaseFactory || (ɵHistoryStateManager_BaseFactory = i0.ɵɵgetInheritedFactory(HistoryStateManager)))(__ngFactoryType__ || HistoryStateManager);\n      };\n    })();\n    static ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n      token: HistoryStateManager,\n      factory: HistoryStateManager.ɵfac,\n      providedIn: 'root'\n    });\n  }\n  return HistoryStateManager;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nfunction afterNextNavigation(router, action) {\n  router.events.pipe(filter(e => e instanceof NavigationEnd || e instanceof NavigationCancel || e instanceof NavigationError || e instanceof NavigationSkipped), map(e => {\n    if (e instanceof NavigationEnd || e instanceof NavigationSkipped) {\n      return 0;\n    }\n    const redirecting = e instanceof NavigationCancel ? e.code === NavigationCancellationCode.Redirect || e.code === NavigationCancellationCode.SupersededByNewNavigation : false;\n    return redirecting ? 2 : 1;\n  }), filter(result => result !== 2), take(1)).subscribe(() => {\n    action();\n  });\n}\nconst exactMatchOptions = {\n  paths: 'exact',\n  fragment: 'ignored',\n  matrixParams: 'ignored',\n  queryParams: 'exact'\n};\nconst subsetMatchOptions = {\n  paths: 'subset',\n  fragment: 'ignored',\n  matrixParams: 'ignored',\n  queryParams: 'subset'\n};\nlet Router = /*#__PURE__*/(() => {\n  class Router {\n    get currentUrlTree() {\n      return this.stateManager.getCurrentUrlTree();\n    }\n    get rawUrlTree() {\n      return this.stateManager.getRawUrlTree();\n    }\n    disposed = false;\n    nonRouterCurrentEntryChangeSubscription;\n    console = inject(_Console);\n    stateManager = inject(StateManager);\n    options = inject(ROUTER_CONFIGURATION, {\n      optional: true\n    }) || {};\n    pendingTasks = inject(_PendingTasksInternal);\n    urlUpdateStrategy = this.options.urlUpdateStrategy || 'deferred';\n    navigationTransitions = inject(NavigationTransitions);\n    urlSerializer = inject(UrlSerializer);\n    location = inject(Location);\n    urlHandlingStrategy = inject(UrlHandlingStrategy);\n    injector = inject(EnvironmentInjector);\n    _events = new Subject();\n    get events() {\n      return this._events;\n    }\n    get routerState() {\n      return this.stateManager.getRouterState();\n    }\n    navigated = false;\n    routeReuseStrategy = inject(RouteReuseStrategy);\n    onSameUrlNavigation = this.options.onSameUrlNavigation || 'ignore';\n    config = inject(ROUTES, {\n      optional: true\n    })?.flat() ?? [];\n    componentInputBindingEnabled = !!inject(INPUT_BINDER, {\n      optional: true\n    });\n    currentNavigation = this.navigationTransitions.currentNavigation.asReadonly();\n    constructor() {\n      this.resetConfig(this.config);\n      this.navigationTransitions.setupNavigations(this).subscribe({\n        error: e => {\n          this.console.warn(ngDevMode ? `Unhandled Navigation Error: ${e}` : e);\n        }\n      });\n      this.subscribeToNavigationEvents();\n    }\n    eventsSubscription = new Subscription();\n    subscribeToNavigationEvents() {\n      const subscription = this.navigationTransitions.events.subscribe(e => {\n        try {\n          const currentTransition = this.navigationTransitions.currentTransition;\n          const currentNavigation = untracked(this.navigationTransitions.currentNavigation);\n          if (currentTransition !== null && currentNavigation !== null) {\n            this.stateManager.handleRouterEvent(e, currentNavigation);\n            if (e instanceof NavigationCancel && e.code !== NavigationCancellationCode.Redirect && e.code !== NavigationCancellationCode.SupersededByNewNavigation) {\n              this.navigated = true;\n            } else if (e instanceof NavigationEnd) {\n              this.navigated = true;\n            } else if (e instanceof RedirectRequest) {\n              const opts = e.navigationBehaviorOptions;\n              const mergedTree = this.urlHandlingStrategy.merge(e.url, currentTransition.currentRawUrl);\n              const extras = {\n                browserUrl: currentTransition.extras.browserUrl,\n                info: currentTransition.extras.info,\n                skipLocationChange: currentTransition.extras.skipLocationChange,\n                replaceUrl: currentTransition.extras.replaceUrl || this.urlUpdateStrategy === 'eager' || isBrowserTriggeredNavigation(currentTransition.source),\n                ...opts\n              };\n              this.scheduleNavigation(mergedTree, IMPERATIVE_NAVIGATION, null, extras, {\n                resolve: currentTransition.resolve,\n                reject: currentTransition.reject,\n                promise: currentTransition.promise\n              });\n            }\n          }\n          if (isPublicRouterEvent(e)) {\n            this._events.next(e);\n          }\n        } catch (e) {\n          this.navigationTransitions.transitionAbortWithErrorSubject.next(e);\n        }\n      });\n      this.eventsSubscription.add(subscription);\n    }\n    resetRootComponentType(rootComponentType) {\n      this.routerState.root.component = rootComponentType;\n      this.navigationTransitions.rootComponentType = rootComponentType;\n    }\n    initialNavigation() {\n      this.setUpLocationChangeListener();\n      if (!this.navigationTransitions.hasRequestedNavigation) {\n        this.navigateToSyncWithBrowser(this.location.path(true), IMPERATIVE_NAVIGATION, this.stateManager.restoredState());\n      }\n    }\n    setUpLocationChangeListener() {\n      this.nonRouterCurrentEntryChangeSubscription ??= this.stateManager.registerNonRouterCurrentEntryChangeListener((url, state, source) => {\n        this.navigateToSyncWithBrowser(url, source, state);\n      });\n    }\n    navigateToSyncWithBrowser(url, source, state) {\n      const extras = {\n        replaceUrl: true\n      };\n      const restoredState = state?.navigationId ? state : null;\n      if (state) {\n        const stateCopy = {\n          ...state\n        };\n        delete stateCopy.navigationId;\n        delete stateCopy.ɵrouterPageId;\n        if (Object.keys(stateCopy).length !== 0) {\n          extras.state = stateCopy;\n        }\n      }\n      const urlTree = this.parseUrl(url);\n      this.scheduleNavigation(urlTree, source, restoredState, extras).catch(e => {\n        if (this.disposed) {\n          return;\n        }\n        this.injector.get(_INTERNAL_APPLICATION_ERROR_HANDLER)(e);\n      });\n    }\n    get url() {\n      return this.serializeUrl(this.currentUrlTree);\n    }\n    getCurrentNavigation() {\n      return untracked(this.navigationTransitions.currentNavigation);\n    }\n    get lastSuccessfulNavigation() {\n      return this.navigationTransitions.lastSuccessfulNavigation;\n    }\n    resetConfig(config) {\n      (typeof ngDevMode === 'undefined' || ngDevMode) && validateConfig(config);\n      this.config = config.map(standardizeConfig);\n      this.navigated = false;\n    }\n    ngOnDestroy() {\n      this.dispose();\n    }\n    dispose() {\n      this._events.unsubscribe();\n      this.navigationTransitions.complete();\n      if (this.nonRouterCurrentEntryChangeSubscription) {\n        this.nonRouterCurrentEntryChangeSubscription.unsubscribe();\n        this.nonRouterCurrentEntryChangeSubscription = undefined;\n      }\n      this.disposed = true;\n      this.eventsSubscription.unsubscribe();\n    }\n    createUrlTree(commands, navigationExtras = {}) {\n      const {\n        relativeTo,\n        queryParams,\n        fragment,\n        queryParamsHandling,\n        preserveFragment\n      } = navigationExtras;\n      const f = preserveFragment ? this.currentUrlTree.fragment : fragment;\n      let q = null;\n      switch (queryParamsHandling ?? this.options.defaultQueryParamsHandling) {\n        case 'merge':\n          q = {\n            ...this.currentUrlTree.queryParams,\n            ...queryParams\n          };\n          break;\n        case 'preserve':\n          q = this.currentUrlTree.queryParams;\n          break;\n        default:\n          q = queryParams || null;\n      }\n      if (q !== null) {\n        q = this.removeEmptyProps(q);\n      }\n      let relativeToUrlSegmentGroup;\n      try {\n        const relativeToSnapshot = relativeTo ? relativeTo.snapshot : this.routerState.snapshot.root;\n        relativeToUrlSegmentGroup = createSegmentGroupFromRoute(relativeToSnapshot);\n      } catch (e) {\n        if (typeof commands[0] !== 'string' || commands[0][0] !== '/') {\n          commands = [];\n        }\n        relativeToUrlSegmentGroup = this.currentUrlTree.root;\n      }\n      return createUrlTreeFromSegmentGroup(relativeToUrlSegmentGroup, commands, q, f ?? null, this.urlSerializer);\n    }\n    navigateByUrl(url, extras = {\n      skipLocationChange: false\n    }) {\n      const urlTree = isUrlTree(url) ? url : this.parseUrl(url);\n      const mergedTree = this.urlHandlingStrategy.merge(urlTree, this.rawUrlTree);\n      return this.scheduleNavigation(mergedTree, IMPERATIVE_NAVIGATION, null, extras);\n    }\n    navigate(commands, extras = {\n      skipLocationChange: false\n    }) {\n      validateCommands(commands);\n      return this.navigateByUrl(this.createUrlTree(commands, extras), extras);\n    }\n    serializeUrl(url) {\n      return this.urlSerializer.serialize(url);\n    }\n    parseUrl(url) {\n      try {\n        return this.urlSerializer.parse(url);\n      } catch (e) {\n        this.console.warn(_formatRuntimeError(4018, ngDevMode && `Error parsing URL ${url}. Falling back to '/' instead. \\n` + e));\n        return this.urlSerializer.parse('/');\n      }\n    }\n    isActive(url, matchOptions) {\n      let options;\n      if (matchOptions === true) {\n        options = {\n          ...exactMatchOptions\n        };\n      } else if (matchOptions === false) {\n        options = {\n          ...subsetMatchOptions\n        };\n      } else {\n        options = matchOptions;\n      }\n      if (isUrlTree(url)) {\n        return containsTree(this.currentUrlTree, url, options);\n      }\n      const urlTree = this.parseUrl(url);\n      return containsTree(this.currentUrlTree, urlTree, options);\n    }\n    removeEmptyProps(params) {\n      return Object.entries(params).reduce((result, [key, value]) => {\n        if (value !== null && value !== undefined) {\n          result[key] = value;\n        }\n        return result;\n      }, {});\n    }\n    scheduleNavigation(rawUrl, source, restoredState, extras, priorPromise) {\n      if (this.disposed) {\n        return Promise.resolve(false);\n      }\n      let resolve;\n      let reject;\n      let promise;\n      if (priorPromise) {\n        resolve = priorPromise.resolve;\n        reject = priorPromise.reject;\n        promise = priorPromise.promise;\n      } else {\n        promise = new Promise((res, rej) => {\n          resolve = res;\n          reject = rej;\n        });\n      }\n      const taskId = this.pendingTasks.add();\n      afterNextNavigation(this, () => {\n        queueMicrotask(() => this.pendingTasks.remove(taskId));\n      });\n      this.navigationTransitions.handleNavigationRequest({\n        source,\n        restoredState,\n        currentUrlTree: this.currentUrlTree,\n        currentRawUrl: this.currentUrlTree,\n        rawUrl,\n        extras,\n        resolve: resolve,\n        reject: reject,\n        promise,\n        currentSnapshot: this.routerState.snapshot,\n        currentRouterState: this.routerState\n      });\n      return promise.catch(e => {\n        return Promise.reject(e);\n      });\n    }\n    static ɵfac = function Router_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || Router)();\n    };\n    static ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n      token: Router,\n      factory: Router.ɵfac,\n      providedIn: 'root'\n    });\n  }\n  return Router;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nfunction validateCommands(commands) {\n  for (let i = 0; i < commands.length; i++) {\n    const cmd = commands[i];\n    if (cmd == null) {\n      throw new _RuntimeError(4008, (typeof ngDevMode === 'undefined' || ngDevMode) && `The requested path contains ${cmd} segment at index ${i}`);\n    }\n  }\n}\nexport { ActivatedRoute, ActivatedRouteSnapshot, ActivationEnd, ActivationStart, BaseRouteReuseStrategy, CREATE_VIEW_TRANSITION, ChildActivationEnd, ChildActivationStart, ChildrenOutletContexts, DefaultTitleStrategy, DefaultUrlSerializer, EventType, GuardsCheckEnd, GuardsCheckStart, HistoryStateManager, IMPERATIVE_NAVIGATION, INPUT_BINDER, NAVIGATION_ERROR_HANDLER, NavigationCancel, NavigationCancellationCode, NavigationEnd, NavigationError, NavigationSkipped, NavigationSkippedCode, NavigationStart, NavigationTransitions, OutletContext, PRIMARY_OUTLET, ROUTER_CONFIGURATION, ROUTER_OUTLET_DATA, ROUTES, RedirectCommand, ResolveEnd, ResolveStart, RouteConfigLoadEnd, RouteConfigLoadStart, RouteReuseStrategy, RoutedComponentInputBinder, Router, RouterConfigLoader, RouterEvent, RouterOutlet, RouterState, RouterStateSnapshot, RoutesRecognized, Scroll, StateManager, TitleStrategy, UrlHandlingStrategy, UrlSegment, UrlSegmentGroup, UrlSerializer, UrlTree, VIEW_TRANSITION_OPTIONS, afterNextNavigation, convertToParamMap, createUrlTreeFromSnapshot, createViewTransition, defaultUrlMatcher, isUrlTree, loadChildren, provideSometimesSyncRecognize, stringifyEvent, ɵEmptyOutletComponent };","map":{"version":3,"names":["DOCUMENT","Location","i0","ɵisPromise","_isPromise","ɵRuntimeError","_RuntimeError","Injectable","ɵisNgModule","_isNgModule","isStandalone","createEnvironmentInjector","InjectionToken","EventEmitter","input","inject","ViewContainerRef","ChangeDetectorRef","Directive","Input","Output","reflectComponentType","Component","ɵisInjectable","_isInjectable","runInInjectionContext","makeEnvironmentProviders","Compiler","NgModuleFactory","ɵresolveComponentResources","_resolveComponentResources","afterNextRender","signal","EnvironmentInjector","DestroyRef","untracked","ɵConsole","_Console","ɵPendingTasksInternal","_PendingTasksInternal","ɵINTERNAL_APPLICATION_ERROR_HANDLER","_INTERNAL_APPLICATION_ERROR_HANDLER","ɵformatRuntimeError","_formatRuntimeError","isObservable","from","of","BehaviorSubject","combineLatest","EmptyError","Observable","concat","defer","pipe","throwError","EMPTY","Subject","Subscription","first","map","switchMap","take","startWith","filter","takeUntil","mergeMap","concatMap","tap","catchError","scan","defaultIfEmpty","last","last$1","takeLast","finalize","i1","PRIMARY_OUTLET","RouteTitleKey","Symbol","ParamsAsMap","params","constructor","has","name","Object","prototype","hasOwnProperty","call","get","v","Array","isArray","getAll","keys","convertToParamMap","defaultUrlMatcher","segments","segmentGroup","route","parts","path","split","length","pathMatch","hasChildren","posParams","index","part","segment","isParameter","substring","consumed","slice","firstValueFrom","source","Promise","resolve","reject","subscribe","next","value","error","err","shallowEqualArrays","a","b","i","shallowEqual","k1","getDataKeys","undefined","k2","key","equalArraysOrString","obj","getOwnPropertySymbols","aSorted","sort","bSorted","every","val","wrapIntoObservable","wrapIntoPromise","pathCompareMap","equalSegmentGroups","containsSegmentGroup","paramCompareMap","equalParams","containsParams","ignored","containsTree","container","containee","options","paths","root","matrixParams","queryParams","fragment","equalPath","matrixParamsMatch","numberOfChildren","c","children","containsSegmentGroupHelper","containeePaths","current","containerPaths","containeeSegment","parameters","UrlTree","_queryParamMap","UrlSegmentGroup","ngDevMode","queryParamMap","toString","DEFAULT_SERIALIZER","serialize","parent","values","forEach","serializePaths","UrlSegment","_parameterMap","parameterMap","serializePath","equalSegments","as","bs","mapChildrenIntoArray","fn","res","entries","childOutlet","child","UrlSerializer","ɵfac","UrlSerializer_Factory","__ngFactoryType__","ɵprov","ɵɵdefineInjectable","token","factory","DefaultUrlSerializer","providedIn","parse","url","p","UrlParser","parseRootSegment","parseQueryParams","parseFragment","tree","serializeSegment","query","serializeQueryParams","encodeUriFragment","join","primary","k","push","encodeUriString","s","encodeURIComponent","replace","encodeUriQuery","encodeURI","encodeUriSegment","decode","decodeURIComponent","decodeQuery","serializeMatrixParams","strParams","SEGMENT_RE","matchSegments","str","match","MATRIX_PARAM_SEGMENT_RE","matchMatrixKeySegments","QUERY_PARAM_RE","matchQueryParams","QUERY_PARAM_VALUE_RE","matchUrlQueryParamValue","remaining","consumeOptional","peekStartsWith","parseChildren","parseQueryParam","parseSegment","capture","parseParens","parseMatrixParams","parseParam","valueMatch","decodedKey","decodedVal","currentVal","allowPrimary","outletName","indexOf","startsWith","createRoot","rootCandidate","squashSegmentGroup","newChildren","childCandidate","grandChildOutlet","grandChild","mergeTrivialChildren","isUrlTree","createUrlTreeFromSnapshot","relativeTo","commands","urlSerializer","relativeToUrlSegmentGroup","createSegmentGroupFromRoute","createUrlTreeFromSegmentGroup","targetGroup","createSegmentGroupFromRouteRecursive","currentRoute","childOutlets","childSnapshot","outlet","rootSegmentGroup","nav","computeNavigation","toRoot","position","findStartingPositionForTargetGroup","newSegmentGroup","processChildren","updateSegmentGroupChildren","updateSegmentGroup","isMatrixParams","command","outlets","segmentPath","isCommandWithOutlets","normalizeQueryParams","oldRoot","oldSegmentGroup","qp","replaceSegment","newRoot","oldSegment","newSegment","Navigation","isAbsolute","numberOfDoubleDots","cmdWithOutlet","find","reduce","cmd","cmdIdx","urlPart","partIndex","Position","target","NaN","modifier","createPositionApplyingDoubleDots","group","g","ci","dd","getOutlets","startIndex","m","prefixedWith","slicedCommands","commandIndex","pathIndex","createNewSegmentGroup","some","o","childrenOfEmptyChild","currentCommandIndex","currentPathIndex","noMatch","curr","compare","createNewSegmentChildren","stringify","IMPERATIVE_NAVIGATION","EventType","RouterEvent","id","NavigationStart","type","navigationTrigger","restoredState","NavigationEnd","urlAfterRedirects","NavigationCancellationCode","NavigationSkippedCode","NavigationCancel","reason","code","NavigationSkipped","NavigationError","RoutesRecognized","state","GuardsCheckStart","GuardsCheckEnd","shouldActivate","ResolveStart","ResolveEnd","RouteConfigLoadStart","RouteConfigLoadEnd","ChildActivationStart","snapshot","routeConfig","ChildActivationEnd","ActivationStart","ActivationEnd","Scroll","routerEvent","anchor","pos","BeforeActivateRoutes","RedirectRequest","navigationBehaviorOptions","isPublicRouterEvent","e","stringifyEvent","getOrCreateRouteInjectorIfNeeded","currentInjector","providers","_injector","validateConfig","config","parentPath","requireStandaloneComponents","fullPath","getFullPath","validateNode","assertStandalone","component","redirectTo","loadComponent","loadChildren","canMatch","canActivate","matcher","charAt","exp","getOutlet","sortByMatchingOutlets","routes","sortedConfig","r","getClosestRouteInjector","_loadedInjector","OutletContext","rootInjector","attachRef","injector","ChildrenOutletContexts","contexts","Map","onChildOutletCreated","childName","context","getOrCreateContext","set","onChildOutletDestroyed","getContext","onOutletDeactivated","onOutletReAttached","ChildrenOutletContexts_Factory","ɵɵinject","Tree","_root","t","pathFromRoot","n","findNode","firstChild","siblings","findPath","cc","node","unshift","TreeNode","nodeChildrenAsMap","RouterState","setRouterState","createEmptyState","rootComponent","createEmptyStateSnapshot","emptyUrl","emptyParams","emptyData","emptyQueryParams","activated","ActivatedRoute","ActivatedRouteSnapshot","RouterStateSnapshot","urlSubject","paramsSubject","queryParamsSubject","fragmentSubject","dataSubject","_futureSnapshot","_routerState","_paramMap","title","data","futureSnapshot","d","paramMap","getInherited","paramsInheritanceStrategy","inherited","_resolvedData","hasStaticTitle","_resolve","matched","serializeNode","advanceActivatedRoute","currentSnapshot","nextSnapshot","equalParamsAndUrlSegments","equalUrlParams","parentsMismatch","ROUTER_OUTLET_DATA","RouterOutlet","activatedComponentRef","_activatedRoute","activateEvents","deactivateEvents","attachEvents","detachEvents","routerOutletData","debugName","parentContexts","location","changeDetector","inputBinder","INPUT_BINDER","optional","supportsBindingToComponentInputs","ngOnChanges","changes","firstChange","previousValue","isTrackedInParentContexts","deactivate","initializeOutletWithName","ngOnDestroy","unsubscribeFromRouteData","ngOnInit","attach","activateWith","isActivated","instance","activatedRoute","activatedRouteData","detach","cmp","emit","ref","insert","hostView","bindActivatedRouteToOutletComponent","destroy","environmentInjector","childContexts","OutletInjector","createComponent","markForCheck","RouterOutlet_Factory","ɵdir","ɵɵdefineDirective","selectors","inputs","outputs","exportAs","features","ɵɵNgOnChangesFeature","outletData","notFoundValue","RoutedComponentInputBinder","outletDataSubscriptions","subscribeToRouteData","unsubscribe","delete","dataSubscription","mirror","templateName","setInput","RoutedComponentInputBinder_Factory","ɵEmptyOutletComponent","ɵEmptyOutletComponent_Factory","ɵcmp","ɵɵdefineComponent","decls","vars","template","_EmptyOutletComponent_Template","rf","ctx","ɵɵelement","dependencies","encapsulation","standardizeConfig","createRouterState","routeReuseStrategy","prevState","createNode","shouldReuseRoute","createOrReuseChildren","shouldAttach","detachedRouteHandle","retrieve","createActivatedRoute","RedirectCommand","NAVIGATION_CANCELING_ERROR","redirectingNavigationError","redirect","navigationCancelingError","Redirect","message","Error","cancellationCode","isRedirectingNavigationCancelingError","isNavigationCancelingError","warnedAboutUnsupportedInputBinding","activateRoutes","rootContexts","forwardEvent","inputBindingEnabled","ActivateRoutes","targetRouterState","currentRouterState","activate","futureState","currState","futureRoot","currRoot","deactivateChildRoutes","activateChildRoutes","futureNode","currNode","futureChild","childOutletName","deactivateRoutes","deactivateRouteAndItsChildren","parentContext","future","shouldDetach","detachAndStoreRouteSubtree","deactivateRouteAndOutlet","treeNode","componentRef","store","stored","console","warn","CanActivate","CanDeactivate","getAllRouteGuards","getChildRouteGuards","getCanActivateChild","canActivateChild","guards","getTokenOrFunctionIdentity","tokenOrFunction","NOT_FOUND","result","futurePath","checks","canDeactivateChecks","canActivateChecks","prevChildren","getRouteGuards","shouldRun","shouldRunGuardsAndResolvers","runGuardsAndResolvers","mode","isFunction","isBoolean","isCanLoad","guard","canLoad","isCanActivate","isCanActivateChild","isCanDeactivate","canDeactivate","isCanMatch","isEmptyError","INITIAL_VALUE","prioritizedGuardValue","obs","results","isRedirect","item","abortSignalToObservable","aborted","subscriber","handler","complete","addEventListener","removeEventListener","takeUntilAbort","checkGuards","targetSnapshot","guardsResult","runCanDeactivateChecks","runCanActivateChecks","futureRSS","currRSS","check","runCanDeactivate","fireChildActivationStart","fireActivationStart","runCanActivateChild","runCanActivate","futureARS","canActivateObservables","closestInjector","guardVal","canActivateChildGuards","reverse","_","canActivateChildGuardsMapped","guardsMapped","currARS","canDeactivateObservables","runCanLoadGuards","abortSignal","canLoadObservables","injectionToken","obs$","redirectIfUrlTree","runCanMatchGuards","canMatchObservables","NoMatch$1","NoMatch","setPrototypeOf","AbsoluteRedirect$1","AbsoluteRedirect","urlTree","namedOutletsRedirect$1","canLoadFails$1","GuardRejected","ApplyRedirects$1","ApplyRedirects","lineralizeSegments","_asyncToGenerator","applyRedirectCommands","_this","getRedirectResult$1","newTree","applyRedirectCreateUrlTree","createSegmentGroup","createQueryParams","redirectToParams","actualParams","copySourceValue","sourceName","updatedSegments","createSegments","redirectToSegments","actualSegments","findPosParam","findOrReturn","redirectToUrlSegment","idx","splice","redirectToFn","noMatch$1","consumedSegments","remainingSegments","positionalParamSegments","matchWithChecks","createWildcardMatchResult","slicedSegments","containsEmptyPathMatchesWithNamedOutlets","createChildrenForEmptyPaths","containsEmptyPathMatches","addEmptyPathsToChildrenIfNeeded","emptyPathMatch","primarySegment","noLeftoversInUrl","NoLeftoversInUrl$1","NoLeftoversInUrl","recognize$2","_x","_x2","_x3","_x4","_x5","_x6","_recognize$","apply","arguments","configLoader","rootComponentType","Recognizer$1","recognize","MAX_ALLOWED_REDIRECTS$1","Recognizer","applyRedirects","absoluteRedirectCount","allowRedirects","noMatchError","_this2","rootSnapshot","rootNode","routeState","_this3","freeze","processSegmentGroup","parentRoute","_this4","processSegment","_this5","outletChildren","mergedChildren","mergeEmptyPathMatches$1","checkOutletNameUniqueness$1","sortActivatedRouteSnapshots$1","_this6","processSegmentAgainstRoute","rawSegment","_this7","matchSegmentAgainstRoute","expandSegmentAgainstRouteUsingRedirect","_this8","getData$1","_loadedComponent","getResolve$1","newSegments","_this9","childConfig","getChildConfig","childInjector","matchedOnOutlet","_this0","_loadedRoutes","shouldLoadResult","cfg","nodes","localeCompare","hasEmptyPathConfig$1","mergedNodes","Set","duplicateEmptyPathNode","resultNode","add","mergedNode","names","routeWithSameOutletName","namedOutletsRedirect","canLoadFails","getRedirectResult","recognize$1","MAX_ALLOWED_REDIRECTS","mergeEmptyPathMatches","checkOutletNameUniqueness","sortActivatedRouteSnapshots","x","getData","getResolve","newTree$","matchResult","hasEmptyPathConfig","RECOGNIZE_IMPL","provideSometimesSyncRecognize","provide","useValue","serializer","recognizeImpl","extractedUrl","resolveData","routesWithResolversToRun","routesNeedingDataUpdates","newRoute","flattenRouteTree","routesProcessed","runResolve","size","descendants","flat","resolveNode","resolvedData","getResolver","resolver","resolverValue","switchTap","nextResult","TitleStrategy","buildTitle","pageTitle","getResolvedTitleForRoute","TitleStrategy_Factory","DefaultTitleStrategy","updateTitle","setTitle","DefaultTitleStrategy_Factory","Title","ROUTER_CONFIGURATION","ROUTES","RouterConfigLoader","componentLoaders","WeakMap","childrenLoaders","onLoadStartListener","onLoadEndListener","compiler","_this1","loader","loaded","maybeResolveResources","maybeUnwrapDefaultExport","parentInjector","_this10","RouterConfigLoader_Factory","_x7","_x8","_x9","_x0","_loadChildren","factoryOrRoutes","compileModuleAsync","rawRoutes","create","self","isWrappedDefaultExport","_x1","_maybeResolveResources","ngJitMode","fetch","UrlHandlingStrategy","UrlHandlingStrategy_Factory","DefaultUrlHandlingStrategy","shouldProcessUrl","extract","merge","newUrlPart","wholeUrl","DefaultUrlHandlingStrategy_Factory","CREATE_VIEW_TRANSITION","VIEW_TRANSITION_OPTIONS","createViewTransition","to","transitionOptions","document","startViewTransition","skipNextTransition","setTimeout","resolveViewTransitionStarted","viewTransitionStarted","transition","createRenderPromise","ready","catch","finished","onViewTransitionCreated","read","noop","NAVIGATION_ERROR_HANDLER","NavigationTransitions","currentNavigation","equal","currentTransition","lastSuccessfulNavigation","events","transitionAbortWithErrorSubject","destroyRef","titleStrategy","urlHandlingStrategy","navigationErrorHandler","navigationId","hasRequestedNavigation","transitions","afterPreactivation","destroyed","onLoadStart","onLoadEnd","onDestroy","handleNavigationRequest","request","rawUrl","setupNavigations","router","overallTransitionState","completedOrAborted","abortController","AbortController","cancellationReason","cancelNavigationTransition","SupersededByNewNavigation","initialUrl","targetBrowserUrl","extras","browserUrl","trigger","previousNavigation","abort","urlTransition","navigated","isUpdatingInternalState","isUpdatedBrowserUrl","onSameUrlNavigation","IgnoredSameUrlNavigation","update","finalUrl","routesRecognized","currentRawUrl","navStart","skipLocationChange","replaceUrl","IgnoredByUrlHandlingStrategy","guardsStart","evt","guardsEnd","resolveStart","dataResolved","NoDataFromResolver","resolveEnd","loadComponents","loaders","then","loadedComponent","all","Aborted","cancelationReason","navigationError","navigationErrorHandlerResult","ee","resolveNavigationPromiseOnError","navCancel","currentUrlTree","currentBrowserUrl","NavigationTransitions_Factory","isBrowserTriggeredNavigation","RouteReuseStrategy","RouteReuseStrategy_Factory","DefaultRouteReuseStrategy","BaseRouteReuseStrategy","detachedTree","ɵDefaultRouteReuseStrategy_BaseFactory","DefaultRouteReuseStrategy_Factory","ɵɵgetInheritedFactory","StateManager","canceledNavigationResolution","urlUpdateStrategy","getCurrentUrlTree","rawUrlTree","getRawUrlTree","createBrowserPath","commitTransition","routerState","getRouterState","stateMemento","createStateMemento","updateStateMemento","resetInternalState","StateManager_Factory","HistoryStateManager","currentPageId","lastSuccessfulId","getState","browserPageId","ɵrouterPageId","registerNonRouterCurrentEntryChangeListener","listener","event","handleRouterEvent","setBrowserUrl","restoreHistory","isCurrentPathEqualTo","currentBrowserPageId","newState","generateNgRouterState","replaceState","go","navigation","restoringFromCaughtError","targetPagePosition","historyGo","resetUrlToCurrentUrlTree","routerPageId","ɵHistoryStateManager_BaseFactory","HistoryStateManager_Factory","afterNextNavigation","action","redirecting","exactMatchOptions","subsetMatchOptions","Router","stateManager","disposed","nonRouterCurrentEntryChangeSubscription","pendingTasks","navigationTransitions","_events","componentInputBindingEnabled","asReadonly","resetConfig","subscribeToNavigationEvents","eventsSubscription","subscription","opts","mergedTree","info","scheduleNavigation","promise","resetRootComponentType","initialNavigation","setUpLocationChangeListener","navigateToSyncWithBrowser","stateCopy","parseUrl","serializeUrl","getCurrentNavigation","dispose","createUrlTree","navigationExtras","queryParamsHandling","preserveFragment","f","q","defaultQueryParamsHandling","removeEmptyProps","relativeToSnapshot","navigateByUrl","navigate","validateCommands","isActive","matchOptions","priorPromise","rej","taskId","queueMicrotask","remove","Router_Factory"],"sources":["/Users/ariez/Downloads/crud/node_modules/@angular/router/fesm2022/_router-chunk.mjs"],"sourcesContent":["/**\n * @license Angular v21.0.6\n * (c) 2010-2025 Google LLC. https://angular.dev/\n * License: MIT\n */\n\nimport { DOCUMENT, Location } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { ɵisPromise as _isPromise, ɵRuntimeError as _RuntimeError, Injectable, ɵisNgModule as _isNgModule, isStandalone, createEnvironmentInjector, InjectionToken, EventEmitter, input, inject, ViewContainerRef, ChangeDetectorRef, Directive, Input, Output, reflectComponentType, Component, ɵisInjectable as _isInjectable, runInInjectionContext, makeEnvironmentProviders, Compiler, NgModuleFactory, ɵresolveComponentResources as _resolveComponentResources, afterNextRender, signal, EnvironmentInjector, DestroyRef, untracked, ɵConsole as _Console, ɵPendingTasksInternal as _PendingTasksInternal, ɵINTERNAL_APPLICATION_ERROR_HANDLER as _INTERNAL_APPLICATION_ERROR_HANDLER, ɵformatRuntimeError as _formatRuntimeError } from '@angular/core';\nimport { isObservable, from, of, BehaviorSubject, combineLatest, EmptyError, Observable, concat, defer, pipe, throwError, EMPTY, Subject, Subscription } from 'rxjs';\nimport { first, map, switchMap, take, startWith, filter, takeUntil, mergeMap, concatMap, tap, catchError, scan, defaultIfEmpty, last as last$1, takeLast, finalize } from 'rxjs/operators';\nimport * as i1 from '@angular/platform-browser';\n\nconst PRIMARY_OUTLET = 'primary';\nconst RouteTitleKey = /* @__PURE__ */Symbol('RouteTitle');\nclass ParamsAsMap {\n  params;\n  constructor(params) {\n    this.params = params || {};\n  }\n  has(name) {\n    return Object.prototype.hasOwnProperty.call(this.params, name);\n  }\n  get(name) {\n    if (this.has(name)) {\n      const v = this.params[name];\n      return Array.isArray(v) ? v[0] : v;\n    }\n    return null;\n  }\n  getAll(name) {\n    if (this.has(name)) {\n      const v = this.params[name];\n      return Array.isArray(v) ? v : [v];\n    }\n    return [];\n  }\n  get keys() {\n    return Object.keys(this.params);\n  }\n}\nfunction convertToParamMap(params) {\n  return new ParamsAsMap(params);\n}\nfunction defaultUrlMatcher(segments, segmentGroup, route) {\n  const parts = route.path.split('/');\n  if (parts.length > segments.length) {\n    return null;\n  }\n  if (route.pathMatch === 'full' && (segmentGroup.hasChildren() || parts.length < segments.length)) {\n    return null;\n  }\n  const posParams = {};\n  for (let index = 0; index < parts.length; index++) {\n    const part = parts[index];\n    const segment = segments[index];\n    const isParameter = part[0] === ':';\n    if (isParameter) {\n      posParams[part.substring(1)] = segment;\n    } else if (part !== segment.path) {\n      return null;\n    }\n  }\n  return {\n    consumed: segments.slice(0, parts.length),\n    posParams\n  };\n}\n\nfunction firstValueFrom(source) {\n  return new Promise((resolve, reject) => {\n    source.pipe(first()).subscribe({\n      next: value => resolve(value),\n      error: err => reject(err)\n    });\n  });\n}\n\nfunction shallowEqualArrays(a, b) {\n  if (a.length !== b.length) return false;\n  for (let i = 0; i < a.length; ++i) {\n    if (!shallowEqual(a[i], b[i])) return false;\n  }\n  return true;\n}\nfunction shallowEqual(a, b) {\n  const k1 = a ? getDataKeys(a) : undefined;\n  const k2 = b ? getDataKeys(b) : undefined;\n  if (!k1 || !k2 || k1.length != k2.length) {\n    return false;\n  }\n  let key;\n  for (let i = 0; i < k1.length; i++) {\n    key = k1[i];\n    if (!equalArraysOrString(a[key], b[key])) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction getDataKeys(obj) {\n  return [...Object.keys(obj), ...Object.getOwnPropertySymbols(obj)];\n}\nfunction equalArraysOrString(a, b) {\n  if (Array.isArray(a) && Array.isArray(b)) {\n    if (a.length !== b.length) return false;\n    const aSorted = [...a].sort();\n    const bSorted = [...b].sort();\n    return aSorted.every((val, index) => bSorted[index] === val);\n  } else {\n    return a === b;\n  }\n}\nfunction last(a) {\n  return a.length > 0 ? a[a.length - 1] : null;\n}\nfunction wrapIntoObservable(value) {\n  if (isObservable(value)) {\n    return value;\n  }\n  if (_isPromise(value)) {\n    return from(Promise.resolve(value));\n  }\n  return of(value);\n}\nfunction wrapIntoPromise(value) {\n  if (isObservable(value)) {\n    return firstValueFrom(value);\n  }\n  return Promise.resolve(value);\n}\n\nconst pathCompareMap = {\n  'exact': equalSegmentGroups,\n  'subset': containsSegmentGroup\n};\nconst paramCompareMap = {\n  'exact': equalParams,\n  'subset': containsParams,\n  'ignored': () => true\n};\nfunction containsTree(container, containee, options) {\n  return pathCompareMap[options.paths](container.root, containee.root, options.matrixParams) && paramCompareMap[options.queryParams](container.queryParams, containee.queryParams) && !(options.fragment === 'exact' && container.fragment !== containee.fragment);\n}\nfunction equalParams(container, containee) {\n  return shallowEqual(container, containee);\n}\nfunction equalSegmentGroups(container, containee, matrixParams) {\n  if (!equalPath(container.segments, containee.segments)) return false;\n  if (!matrixParamsMatch(container.segments, containee.segments, matrixParams)) {\n    return false;\n  }\n  if (container.numberOfChildren !== containee.numberOfChildren) return false;\n  for (const c in containee.children) {\n    if (!container.children[c]) return false;\n    if (!equalSegmentGroups(container.children[c], containee.children[c], matrixParams)) return false;\n  }\n  return true;\n}\nfunction containsParams(container, containee) {\n  return Object.keys(containee).length <= Object.keys(container).length && Object.keys(containee).every(key => equalArraysOrString(container[key], containee[key]));\n}\nfunction containsSegmentGroup(container, containee, matrixParams) {\n  return containsSegmentGroupHelper(container, containee, containee.segments, matrixParams);\n}\nfunction containsSegmentGroupHelper(container, containee, containeePaths, matrixParams) {\n  if (container.segments.length > containeePaths.length) {\n    const current = container.segments.slice(0, containeePaths.length);\n    if (!equalPath(current, containeePaths)) return false;\n    if (containee.hasChildren()) return false;\n    if (!matrixParamsMatch(current, containeePaths, matrixParams)) return false;\n    return true;\n  } else if (container.segments.length === containeePaths.length) {\n    if (!equalPath(container.segments, containeePaths)) return false;\n    if (!matrixParamsMatch(container.segments, containeePaths, matrixParams)) return false;\n    for (const c in containee.children) {\n      if (!container.children[c]) return false;\n      if (!containsSegmentGroup(container.children[c], containee.children[c], matrixParams)) {\n        return false;\n      }\n    }\n    return true;\n  } else {\n    const current = containeePaths.slice(0, container.segments.length);\n    const next = containeePaths.slice(container.segments.length);\n    if (!equalPath(container.segments, current)) return false;\n    if (!matrixParamsMatch(container.segments, current, matrixParams)) return false;\n    if (!container.children[PRIMARY_OUTLET]) return false;\n    return containsSegmentGroupHelper(container.children[PRIMARY_OUTLET], containee, next, matrixParams);\n  }\n}\nfunction matrixParamsMatch(containerPaths, containeePaths, options) {\n  return containeePaths.every((containeeSegment, i) => {\n    return paramCompareMap[options](containerPaths[i].parameters, containeeSegment.parameters);\n  });\n}\nclass UrlTree {\n  root;\n  queryParams;\n  fragment;\n  _queryParamMap;\n  constructor(root = new UrlSegmentGroup([], {}), queryParams = {}, fragment = null) {\n    this.root = root;\n    this.queryParams = queryParams;\n    this.fragment = fragment;\n    if (typeof ngDevMode === 'undefined' || ngDevMode) {\n      if (root.segments.length > 0) {\n        throw new _RuntimeError(4015, 'The root `UrlSegmentGroup` should not contain `segments`. ' + 'Instead, these segments belong in the `children` so they can be associated with a named outlet.');\n      }\n    }\n  }\n  get queryParamMap() {\n    this._queryParamMap ??= convertToParamMap(this.queryParams);\n    return this._queryParamMap;\n  }\n  toString() {\n    return DEFAULT_SERIALIZER.serialize(this);\n  }\n}\nclass UrlSegmentGroup {\n  segments;\n  children;\n  parent = null;\n  constructor(segments, children) {\n    this.segments = segments;\n    this.children = children;\n    Object.values(children).forEach(v => v.parent = this);\n  }\n  hasChildren() {\n    return this.numberOfChildren > 0;\n  }\n  get numberOfChildren() {\n    return Object.keys(this.children).length;\n  }\n  toString() {\n    return serializePaths(this);\n  }\n}\nclass UrlSegment {\n  path;\n  parameters;\n  _parameterMap;\n  constructor(path, parameters) {\n    this.path = path;\n    this.parameters = parameters;\n  }\n  get parameterMap() {\n    this._parameterMap ??= convertToParamMap(this.parameters);\n    return this._parameterMap;\n  }\n  toString() {\n    return serializePath(this);\n  }\n}\nfunction equalSegments(as, bs) {\n  return equalPath(as, bs) && as.every((a, i) => shallowEqual(a.parameters, bs[i].parameters));\n}\nfunction equalPath(as, bs) {\n  if (as.length !== bs.length) return false;\n  return as.every((a, i) => a.path === bs[i].path);\n}\nfunction mapChildrenIntoArray(segment, fn) {\n  let res = [];\n  Object.entries(segment.children).forEach(([childOutlet, child]) => {\n    if (childOutlet === PRIMARY_OUTLET) {\n      res = res.concat(fn(child, childOutlet));\n    }\n  });\n  Object.entries(segment.children).forEach(([childOutlet, child]) => {\n    if (childOutlet !== PRIMARY_OUTLET) {\n      res = res.concat(fn(child, childOutlet));\n    }\n  });\n  return res;\n}\nclass UrlSerializer {\n  static ɵfac = i0.ɵɵngDeclareFactory({\n    minVersion: \"12.0.0\",\n    version: \"21.0.6\",\n    ngImport: i0,\n    type: UrlSerializer,\n    deps: [],\n    target: i0.ɵɵFactoryTarget.Injectable\n  });\n  static ɵprov = i0.ɵɵngDeclareInjectable({\n    minVersion: \"12.0.0\",\n    version: \"21.0.6\",\n    ngImport: i0,\n    type: UrlSerializer,\n    providedIn: 'root',\n    useFactory: () => new DefaultUrlSerializer()\n  });\n}\ni0.ɵɵngDeclareClassMetadata({\n  minVersion: \"12.0.0\",\n  version: \"21.0.6\",\n  ngImport: i0,\n  type: UrlSerializer,\n  decorators: [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root',\n      useFactory: () => new DefaultUrlSerializer()\n    }]\n  }]\n});\nclass DefaultUrlSerializer {\n  parse(url) {\n    const p = new UrlParser(url);\n    return new UrlTree(p.parseRootSegment(), p.parseQueryParams(), p.parseFragment());\n  }\n  serialize(tree) {\n    const segment = `/${serializeSegment(tree.root, true)}`;\n    const query = serializeQueryParams(tree.queryParams);\n    const fragment = typeof tree.fragment === `string` ? `#${encodeUriFragment(tree.fragment)}` : '';\n    return `${segment}${query}${fragment}`;\n  }\n}\nconst DEFAULT_SERIALIZER = new DefaultUrlSerializer();\nfunction serializePaths(segment) {\n  return segment.segments.map(p => serializePath(p)).join('/');\n}\nfunction serializeSegment(segment, root) {\n  if (!segment.hasChildren()) {\n    return serializePaths(segment);\n  }\n  if (root) {\n    const primary = segment.children[PRIMARY_OUTLET] ? serializeSegment(segment.children[PRIMARY_OUTLET], false) : '';\n    const children = [];\n    Object.entries(segment.children).forEach(([k, v]) => {\n      if (k !== PRIMARY_OUTLET) {\n        children.push(`${k}:${serializeSegment(v, false)}`);\n      }\n    });\n    return children.length > 0 ? `${primary}(${children.join('//')})` : primary;\n  } else {\n    const children = mapChildrenIntoArray(segment, (v, k) => {\n      if (k === PRIMARY_OUTLET) {\n        return [serializeSegment(segment.children[PRIMARY_OUTLET], false)];\n      }\n      return [`${k}:${serializeSegment(v, false)}`];\n    });\n    if (Object.keys(segment.children).length === 1 && segment.children[PRIMARY_OUTLET] != null) {\n      return `${serializePaths(segment)}/${children[0]}`;\n    }\n    return `${serializePaths(segment)}/(${children.join('//')})`;\n  }\n}\nfunction encodeUriString(s) {\n  return encodeURIComponent(s).replace(/%40/g, '@').replace(/%3A/gi, ':').replace(/%24/g, '$').replace(/%2C/gi, ',');\n}\nfunction encodeUriQuery(s) {\n  return encodeUriString(s).replace(/%3B/gi, ';');\n}\nfunction encodeUriFragment(s) {\n  return encodeURI(s);\n}\nfunction encodeUriSegment(s) {\n  return encodeUriString(s).replace(/\\(/g, '%28').replace(/\\)/g, '%29').replace(/%26/gi, '&');\n}\nfunction decode(s) {\n  return decodeURIComponent(s);\n}\nfunction decodeQuery(s) {\n  return decode(s.replace(/\\+/g, '%20'));\n}\nfunction serializePath(path) {\n  return `${encodeUriSegment(path.path)}${serializeMatrixParams(path.parameters)}`;\n}\nfunction serializeMatrixParams(params) {\n  return Object.entries(params).map(([key, value]) => `;${encodeUriSegment(key)}=${encodeUriSegment(value)}`).join('');\n}\nfunction serializeQueryParams(params) {\n  const strParams = Object.entries(params).map(([name, value]) => {\n    return Array.isArray(value) ? value.map(v => `${encodeUriQuery(name)}=${encodeUriQuery(v)}`).join('&') : `${encodeUriQuery(name)}=${encodeUriQuery(value)}`;\n  }).filter(s => s);\n  return strParams.length ? `?${strParams.join('&')}` : '';\n}\nconst SEGMENT_RE = /^[^\\/()?;#]+/;\nfunction matchSegments(str) {\n  const match = str.match(SEGMENT_RE);\n  return match ? match[0] : '';\n}\nconst MATRIX_PARAM_SEGMENT_RE = /^[^\\/()?;=#]+/;\nfunction matchMatrixKeySegments(str) {\n  const match = str.match(MATRIX_PARAM_SEGMENT_RE);\n  return match ? match[0] : '';\n}\nconst QUERY_PARAM_RE = /^[^=?&#]+/;\nfunction matchQueryParams(str) {\n  const match = str.match(QUERY_PARAM_RE);\n  return match ? match[0] : '';\n}\nconst QUERY_PARAM_VALUE_RE = /^[^&#]+/;\nfunction matchUrlQueryParamValue(str) {\n  const match = str.match(QUERY_PARAM_VALUE_RE);\n  return match ? match[0] : '';\n}\nclass UrlParser {\n  url;\n  remaining;\n  constructor(url) {\n    this.url = url;\n    this.remaining = url;\n  }\n  parseRootSegment() {\n    this.consumeOptional('/');\n    if (this.remaining === '' || this.peekStartsWith('?') || this.peekStartsWith('#')) {\n      return new UrlSegmentGroup([], {});\n    }\n    return new UrlSegmentGroup([], this.parseChildren());\n  }\n  parseQueryParams() {\n    const params = {};\n    if (this.consumeOptional('?')) {\n      do {\n        this.parseQueryParam(params);\n      } while (this.consumeOptional('&'));\n    }\n    return params;\n  }\n  parseFragment() {\n    return this.consumeOptional('#') ? decodeURIComponent(this.remaining) : null;\n  }\n  parseChildren() {\n    if (this.remaining === '') {\n      return {};\n    }\n    this.consumeOptional('/');\n    const segments = [];\n    if (!this.peekStartsWith('(')) {\n      segments.push(this.parseSegment());\n    }\n    while (this.peekStartsWith('/') && !this.peekStartsWith('//') && !this.peekStartsWith('/(')) {\n      this.capture('/');\n      segments.push(this.parseSegment());\n    }\n    let children = {};\n    if (this.peekStartsWith('/(')) {\n      this.capture('/');\n      children = this.parseParens(true);\n    }\n    let res = {};\n    if (this.peekStartsWith('(')) {\n      res = this.parseParens(false);\n    }\n    if (segments.length > 0 || Object.keys(children).length > 0) {\n      res[PRIMARY_OUTLET] = new UrlSegmentGroup(segments, children);\n    }\n    return res;\n  }\n  parseSegment() {\n    const path = matchSegments(this.remaining);\n    if (path === '' && this.peekStartsWith(';')) {\n      throw new _RuntimeError(4009, (typeof ngDevMode === 'undefined' || ngDevMode) && `Empty path url segment cannot have parameters: '${this.remaining}'.`);\n    }\n    this.capture(path);\n    return new UrlSegment(decode(path), this.parseMatrixParams());\n  }\n  parseMatrixParams() {\n    const params = {};\n    while (this.consumeOptional(';')) {\n      this.parseParam(params);\n    }\n    return params;\n  }\n  parseParam(params) {\n    const key = matchMatrixKeySegments(this.remaining);\n    if (!key) {\n      return;\n    }\n    this.capture(key);\n    let value = '';\n    if (this.consumeOptional('=')) {\n      const valueMatch = matchSegments(this.remaining);\n      if (valueMatch) {\n        value = valueMatch;\n        this.capture(value);\n      }\n    }\n    params[decode(key)] = decode(value);\n  }\n  parseQueryParam(params) {\n    const key = matchQueryParams(this.remaining);\n    if (!key) {\n      return;\n    }\n    this.capture(key);\n    let value = '';\n    if (this.consumeOptional('=')) {\n      const valueMatch = matchUrlQueryParamValue(this.remaining);\n      if (valueMatch) {\n        value = valueMatch;\n        this.capture(value);\n      }\n    }\n    const decodedKey = decodeQuery(key);\n    const decodedVal = decodeQuery(value);\n    if (params.hasOwnProperty(decodedKey)) {\n      let currentVal = params[decodedKey];\n      if (!Array.isArray(currentVal)) {\n        currentVal = [currentVal];\n        params[decodedKey] = currentVal;\n      }\n      currentVal.push(decodedVal);\n    } else {\n      params[decodedKey] = decodedVal;\n    }\n  }\n  parseParens(allowPrimary) {\n    const segments = {};\n    this.capture('(');\n    while (!this.consumeOptional(')') && this.remaining.length > 0) {\n      const path = matchSegments(this.remaining);\n      const next = this.remaining[path.length];\n      if (next !== '/' && next !== ')' && next !== ';') {\n        throw new _RuntimeError(4010, (typeof ngDevMode === 'undefined' || ngDevMode) && `Cannot parse url '${this.url}'`);\n      }\n      let outletName;\n      if (path.indexOf(':') > -1) {\n        outletName = path.slice(0, path.indexOf(':'));\n        this.capture(outletName);\n        this.capture(':');\n      } else if (allowPrimary) {\n        outletName = PRIMARY_OUTLET;\n      }\n      const children = this.parseChildren();\n      segments[outletName ?? PRIMARY_OUTLET] = Object.keys(children).length === 1 && children[PRIMARY_OUTLET] ? children[PRIMARY_OUTLET] : new UrlSegmentGroup([], children);\n      this.consumeOptional('//');\n    }\n    return segments;\n  }\n  peekStartsWith(str) {\n    return this.remaining.startsWith(str);\n  }\n  consumeOptional(str) {\n    if (this.peekStartsWith(str)) {\n      this.remaining = this.remaining.substring(str.length);\n      return true;\n    }\n    return false;\n  }\n  capture(str) {\n    if (!this.consumeOptional(str)) {\n      throw new _RuntimeError(4011, (typeof ngDevMode === 'undefined' || ngDevMode) && `Expected \"${str}\".`);\n    }\n  }\n}\nfunction createRoot(rootCandidate) {\n  return rootCandidate.segments.length > 0 ? new UrlSegmentGroup([], {\n    [PRIMARY_OUTLET]: rootCandidate\n  }) : rootCandidate;\n}\nfunction squashSegmentGroup(segmentGroup) {\n  const newChildren = {};\n  for (const [childOutlet, child] of Object.entries(segmentGroup.children)) {\n    const childCandidate = squashSegmentGroup(child);\n    if (childOutlet === PRIMARY_OUTLET && childCandidate.segments.length === 0 && childCandidate.hasChildren()) {\n      for (const [grandChildOutlet, grandChild] of Object.entries(childCandidate.children)) {\n        newChildren[grandChildOutlet] = grandChild;\n      }\n    } else if (childCandidate.segments.length > 0 || childCandidate.hasChildren()) {\n      newChildren[childOutlet] = childCandidate;\n    }\n  }\n  const s = new UrlSegmentGroup(segmentGroup.segments, newChildren);\n  return mergeTrivialChildren(s);\n}\nfunction mergeTrivialChildren(s) {\n  if (s.numberOfChildren === 1 && s.children[PRIMARY_OUTLET]) {\n    const c = s.children[PRIMARY_OUTLET];\n    return new UrlSegmentGroup(s.segments.concat(c.segments), c.children);\n  }\n  return s;\n}\nfunction isUrlTree(v) {\n  return v instanceof UrlTree;\n}\n\nfunction createUrlTreeFromSnapshot(relativeTo, commands, queryParams = null, fragment = null, urlSerializer = new DefaultUrlSerializer()) {\n  const relativeToUrlSegmentGroup = createSegmentGroupFromRoute(relativeTo);\n  return createUrlTreeFromSegmentGroup(relativeToUrlSegmentGroup, commands, queryParams, fragment, urlSerializer);\n}\nfunction createSegmentGroupFromRoute(route) {\n  let targetGroup;\n  function createSegmentGroupFromRouteRecursive(currentRoute) {\n    const childOutlets = {};\n    for (const childSnapshot of currentRoute.children) {\n      const root = createSegmentGroupFromRouteRecursive(childSnapshot);\n      childOutlets[childSnapshot.outlet] = root;\n    }\n    const segmentGroup = new UrlSegmentGroup(currentRoute.url, childOutlets);\n    if (currentRoute === route) {\n      targetGroup = segmentGroup;\n    }\n    return segmentGroup;\n  }\n  const rootCandidate = createSegmentGroupFromRouteRecursive(route.root);\n  const rootSegmentGroup = createRoot(rootCandidate);\n  return targetGroup ?? rootSegmentGroup;\n}\nfunction createUrlTreeFromSegmentGroup(relativeTo, commands, queryParams, fragment, urlSerializer) {\n  let root = relativeTo;\n  while (root.parent) {\n    root = root.parent;\n  }\n  if (commands.length === 0) {\n    return tree(root, root, root, queryParams, fragment, urlSerializer);\n  }\n  const nav = computeNavigation(commands);\n  if (nav.toRoot()) {\n    return tree(root, root, new UrlSegmentGroup([], {}), queryParams, fragment, urlSerializer);\n  }\n  const position = findStartingPositionForTargetGroup(nav, root, relativeTo);\n  const newSegmentGroup = position.processChildren ? updateSegmentGroupChildren(position.segmentGroup, position.index, nav.commands) : updateSegmentGroup(position.segmentGroup, position.index, nav.commands);\n  return tree(root, position.segmentGroup, newSegmentGroup, queryParams, fragment, urlSerializer);\n}\nfunction isMatrixParams(command) {\n  return typeof command === 'object' && command != null && !command.outlets && !command.segmentPath;\n}\nfunction isCommandWithOutlets(command) {\n  return typeof command === 'object' && command != null && command.outlets;\n}\nfunction normalizeQueryParams(k, v, urlSerializer) {\n  k ||= 'ɵ';\n  const tree = new UrlTree();\n  tree.queryParams = {\n    [k]: v\n  };\n  return urlSerializer.parse(urlSerializer.serialize(tree)).queryParams[k];\n}\nfunction tree(oldRoot, oldSegmentGroup, newSegmentGroup, queryParams, fragment, urlSerializer) {\n  const qp = {};\n  for (const [key, value] of Object.entries(queryParams ?? {})) {\n    qp[key] = Array.isArray(value) ? value.map(v => normalizeQueryParams(key, v, urlSerializer)) : normalizeQueryParams(key, value, urlSerializer);\n  }\n  let rootCandidate;\n  if (oldRoot === oldSegmentGroup) {\n    rootCandidate = newSegmentGroup;\n  } else {\n    rootCandidate = replaceSegment(oldRoot, oldSegmentGroup, newSegmentGroup);\n  }\n  const newRoot = createRoot(squashSegmentGroup(rootCandidate));\n  return new UrlTree(newRoot, qp, fragment);\n}\nfunction replaceSegment(current, oldSegment, newSegment) {\n  const children = {};\n  Object.entries(current.children).forEach(([outletName, c]) => {\n    if (c === oldSegment) {\n      children[outletName] = newSegment;\n    } else {\n      children[outletName] = replaceSegment(c, oldSegment, newSegment);\n    }\n  });\n  return new UrlSegmentGroup(current.segments, children);\n}\nclass Navigation {\n  isAbsolute;\n  numberOfDoubleDots;\n  commands;\n  constructor(isAbsolute, numberOfDoubleDots, commands) {\n    this.isAbsolute = isAbsolute;\n    this.numberOfDoubleDots = numberOfDoubleDots;\n    this.commands = commands;\n    if (isAbsolute && commands.length > 0 && isMatrixParams(commands[0])) {\n      throw new _RuntimeError(4003, (typeof ngDevMode === 'undefined' || ngDevMode) && 'Root segment cannot have matrix parameters');\n    }\n    const cmdWithOutlet = commands.find(isCommandWithOutlets);\n    if (cmdWithOutlet && cmdWithOutlet !== last(commands)) {\n      throw new _RuntimeError(4004, (typeof ngDevMode === 'undefined' || ngDevMode) && '{outlets:{}} has to be the last command');\n    }\n  }\n  toRoot() {\n    return this.isAbsolute && this.commands.length === 1 && this.commands[0] == '/';\n  }\n}\nfunction computeNavigation(commands) {\n  if (typeof commands[0] === 'string' && commands.length === 1 && commands[0] === '/') {\n    return new Navigation(true, 0, commands);\n  }\n  let numberOfDoubleDots = 0;\n  let isAbsolute = false;\n  const res = commands.reduce((res, cmd, cmdIdx) => {\n    if (typeof cmd === 'object' && cmd != null) {\n      if (cmd.outlets) {\n        const outlets = {};\n        Object.entries(cmd.outlets).forEach(([name, commands]) => {\n          outlets[name] = typeof commands === 'string' ? commands.split('/') : commands;\n        });\n        return [...res, {\n          outlets\n        }];\n      }\n      if (cmd.segmentPath) {\n        return [...res, cmd.segmentPath];\n      }\n    }\n    if (!(typeof cmd === 'string')) {\n      return [...res, cmd];\n    }\n    if (cmdIdx === 0) {\n      cmd.split('/').forEach((urlPart, partIndex) => {\n        if (partIndex == 0 && urlPart === '.') ; else if (partIndex == 0 && urlPart === '') {\n          isAbsolute = true;\n        } else if (urlPart === '..') {\n          numberOfDoubleDots++;\n        } else if (urlPart != '') {\n          res.push(urlPart);\n        }\n      });\n      return res;\n    }\n    return [...res, cmd];\n  }, []);\n  return new Navigation(isAbsolute, numberOfDoubleDots, res);\n}\nclass Position {\n  segmentGroup;\n  processChildren;\n  index;\n  constructor(segmentGroup, processChildren, index) {\n    this.segmentGroup = segmentGroup;\n    this.processChildren = processChildren;\n    this.index = index;\n  }\n}\nfunction findStartingPositionForTargetGroup(nav, root, target) {\n  if (nav.isAbsolute) {\n    return new Position(root, true, 0);\n  }\n  if (!target) {\n    return new Position(root, false, NaN);\n  }\n  if (target.parent === null) {\n    return new Position(target, true, 0);\n  }\n  const modifier = isMatrixParams(nav.commands[0]) ? 0 : 1;\n  const index = target.segments.length - 1 + modifier;\n  return createPositionApplyingDoubleDots(target, index, nav.numberOfDoubleDots);\n}\nfunction createPositionApplyingDoubleDots(group, index, numberOfDoubleDots) {\n  let g = group;\n  let ci = index;\n  let dd = numberOfDoubleDots;\n  while (dd > ci) {\n    dd -= ci;\n    g = g.parent;\n    if (!g) {\n      throw new _RuntimeError(4005, (typeof ngDevMode === 'undefined' || ngDevMode) && \"Invalid number of '../'\");\n    }\n    ci = g.segments.length;\n  }\n  return new Position(g, false, ci - dd);\n}\nfunction getOutlets(commands) {\n  if (isCommandWithOutlets(commands[0])) {\n    return commands[0].outlets;\n  }\n  return {\n    [PRIMARY_OUTLET]: commands\n  };\n}\nfunction updateSegmentGroup(segmentGroup, startIndex, commands) {\n  segmentGroup ??= new UrlSegmentGroup([], {});\n  if (segmentGroup.segments.length === 0 && segmentGroup.hasChildren()) {\n    return updateSegmentGroupChildren(segmentGroup, startIndex, commands);\n  }\n  const m = prefixedWith(segmentGroup, startIndex, commands);\n  const slicedCommands = commands.slice(m.commandIndex);\n  if (m.match && m.pathIndex < segmentGroup.segments.length) {\n    const g = new UrlSegmentGroup(segmentGroup.segments.slice(0, m.pathIndex), {});\n    g.children[PRIMARY_OUTLET] = new UrlSegmentGroup(segmentGroup.segments.slice(m.pathIndex), segmentGroup.children);\n    return updateSegmentGroupChildren(g, 0, slicedCommands);\n  } else if (m.match && slicedCommands.length === 0) {\n    return new UrlSegmentGroup(segmentGroup.segments, {});\n  } else if (m.match && !segmentGroup.hasChildren()) {\n    return createNewSegmentGroup(segmentGroup, startIndex, commands);\n  } else if (m.match) {\n    return updateSegmentGroupChildren(segmentGroup, 0, slicedCommands);\n  } else {\n    return createNewSegmentGroup(segmentGroup, startIndex, commands);\n  }\n}\nfunction updateSegmentGroupChildren(segmentGroup, startIndex, commands) {\n  if (commands.length === 0) {\n    return new UrlSegmentGroup(segmentGroup.segments, {});\n  } else {\n    const outlets = getOutlets(commands);\n    const children = {};\n    if (Object.keys(outlets).some(o => o !== PRIMARY_OUTLET) && segmentGroup.children[PRIMARY_OUTLET] && segmentGroup.numberOfChildren === 1 && segmentGroup.children[PRIMARY_OUTLET].segments.length === 0) {\n      const childrenOfEmptyChild = updateSegmentGroupChildren(segmentGroup.children[PRIMARY_OUTLET], startIndex, commands);\n      return new UrlSegmentGroup(segmentGroup.segments, childrenOfEmptyChild.children);\n    }\n    Object.entries(outlets).forEach(([outlet, commands]) => {\n      if (typeof commands === 'string') {\n        commands = [commands];\n      }\n      if (commands !== null) {\n        children[outlet] = updateSegmentGroup(segmentGroup.children[outlet], startIndex, commands);\n      }\n    });\n    Object.entries(segmentGroup.children).forEach(([childOutlet, child]) => {\n      if (outlets[childOutlet] === undefined) {\n        children[childOutlet] = child;\n      }\n    });\n    return new UrlSegmentGroup(segmentGroup.segments, children);\n  }\n}\nfunction prefixedWith(segmentGroup, startIndex, commands) {\n  let currentCommandIndex = 0;\n  let currentPathIndex = startIndex;\n  const noMatch = {\n    match: false,\n    pathIndex: 0,\n    commandIndex: 0\n  };\n  while (currentPathIndex < segmentGroup.segments.length) {\n    if (currentCommandIndex >= commands.length) return noMatch;\n    const path = segmentGroup.segments[currentPathIndex];\n    const command = commands[currentCommandIndex];\n    if (isCommandWithOutlets(command)) {\n      break;\n    }\n    const curr = `${command}`;\n    const next = currentCommandIndex < commands.length - 1 ? commands[currentCommandIndex + 1] : null;\n    if (currentPathIndex > 0 && curr === undefined) break;\n    if (curr && next && typeof next === 'object' && next.outlets === undefined) {\n      if (!compare(curr, next, path)) return noMatch;\n      currentCommandIndex += 2;\n    } else {\n      if (!compare(curr, {}, path)) return noMatch;\n      currentCommandIndex++;\n    }\n    currentPathIndex++;\n  }\n  return {\n    match: true,\n    pathIndex: currentPathIndex,\n    commandIndex: currentCommandIndex\n  };\n}\nfunction createNewSegmentGroup(segmentGroup, startIndex, commands) {\n  const paths = segmentGroup.segments.slice(0, startIndex);\n  let i = 0;\n  while (i < commands.length) {\n    const command = commands[i];\n    if (isCommandWithOutlets(command)) {\n      const children = createNewSegmentChildren(command.outlets);\n      return new UrlSegmentGroup(paths, children);\n    }\n    if (i === 0 && isMatrixParams(commands[0])) {\n      const p = segmentGroup.segments[startIndex];\n      paths.push(new UrlSegment(p.path, stringify(commands[0])));\n      i++;\n      continue;\n    }\n    const curr = isCommandWithOutlets(command) ? command.outlets[PRIMARY_OUTLET] : `${command}`;\n    const next = i < commands.length - 1 ? commands[i + 1] : null;\n    if (curr && next && isMatrixParams(next)) {\n      paths.push(new UrlSegment(curr, stringify(next)));\n      i += 2;\n    } else {\n      paths.push(new UrlSegment(curr, {}));\n      i++;\n    }\n  }\n  return new UrlSegmentGroup(paths, {});\n}\nfunction createNewSegmentChildren(outlets) {\n  const children = {};\n  Object.entries(outlets).forEach(([outlet, commands]) => {\n    if (typeof commands === 'string') {\n      commands = [commands];\n    }\n    if (commands !== null) {\n      children[outlet] = createNewSegmentGroup(new UrlSegmentGroup([], {}), 0, commands);\n    }\n  });\n  return children;\n}\nfunction stringify(params) {\n  const res = {};\n  Object.entries(params).forEach(([k, v]) => res[k] = `${v}`);\n  return res;\n}\nfunction compare(path, params, segment) {\n  return path == segment.path && shallowEqual(params, segment.parameters);\n}\n\nconst IMPERATIVE_NAVIGATION = 'imperative';\nvar EventType;\n(function (EventType) {\n  EventType[EventType[\"NavigationStart\"] = 0] = \"NavigationStart\";\n  EventType[EventType[\"NavigationEnd\"] = 1] = \"NavigationEnd\";\n  EventType[EventType[\"NavigationCancel\"] = 2] = \"NavigationCancel\";\n  EventType[EventType[\"NavigationError\"] = 3] = \"NavigationError\";\n  EventType[EventType[\"RoutesRecognized\"] = 4] = \"RoutesRecognized\";\n  EventType[EventType[\"ResolveStart\"] = 5] = \"ResolveStart\";\n  EventType[EventType[\"ResolveEnd\"] = 6] = \"ResolveEnd\";\n  EventType[EventType[\"GuardsCheckStart\"] = 7] = \"GuardsCheckStart\";\n  EventType[EventType[\"GuardsCheckEnd\"] = 8] = \"GuardsCheckEnd\";\n  EventType[EventType[\"RouteConfigLoadStart\"] = 9] = \"RouteConfigLoadStart\";\n  EventType[EventType[\"RouteConfigLoadEnd\"] = 10] = \"RouteConfigLoadEnd\";\n  EventType[EventType[\"ChildActivationStart\"] = 11] = \"ChildActivationStart\";\n  EventType[EventType[\"ChildActivationEnd\"] = 12] = \"ChildActivationEnd\";\n  EventType[EventType[\"ActivationStart\"] = 13] = \"ActivationStart\";\n  EventType[EventType[\"ActivationEnd\"] = 14] = \"ActivationEnd\";\n  EventType[EventType[\"Scroll\"] = 15] = \"Scroll\";\n  EventType[EventType[\"NavigationSkipped\"] = 16] = \"NavigationSkipped\";\n})(EventType || (EventType = {}));\nclass RouterEvent {\n  id;\n  url;\n  constructor(id, url) {\n    this.id = id;\n    this.url = url;\n  }\n}\nclass NavigationStart extends RouterEvent {\n  type = EventType.NavigationStart;\n  navigationTrigger;\n  restoredState;\n  constructor(id, url, navigationTrigger = 'imperative', restoredState = null) {\n    super(id, url);\n    this.navigationTrigger = navigationTrigger;\n    this.restoredState = restoredState;\n  }\n  toString() {\n    return `NavigationStart(id: ${this.id}, url: '${this.url}')`;\n  }\n}\nclass NavigationEnd extends RouterEvent {\n  urlAfterRedirects;\n  type = EventType.NavigationEnd;\n  constructor(id, url, urlAfterRedirects) {\n    super(id, url);\n    this.urlAfterRedirects = urlAfterRedirects;\n  }\n  toString() {\n    return `NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`;\n  }\n}\nvar NavigationCancellationCode;\n(function (NavigationCancellationCode) {\n  NavigationCancellationCode[NavigationCancellationCode[\"Redirect\"] = 0] = \"Redirect\";\n  NavigationCancellationCode[NavigationCancellationCode[\"SupersededByNewNavigation\"] = 1] = \"SupersededByNewNavigation\";\n  NavigationCancellationCode[NavigationCancellationCode[\"NoDataFromResolver\"] = 2] = \"NoDataFromResolver\";\n  NavigationCancellationCode[NavigationCancellationCode[\"GuardRejected\"] = 3] = \"GuardRejected\";\n  NavigationCancellationCode[NavigationCancellationCode[\"Aborted\"] = 4] = \"Aborted\";\n})(NavigationCancellationCode || (NavigationCancellationCode = {}));\nvar NavigationSkippedCode;\n(function (NavigationSkippedCode) {\n  NavigationSkippedCode[NavigationSkippedCode[\"IgnoredSameUrlNavigation\"] = 0] = \"IgnoredSameUrlNavigation\";\n  NavigationSkippedCode[NavigationSkippedCode[\"IgnoredByUrlHandlingStrategy\"] = 1] = \"IgnoredByUrlHandlingStrategy\";\n})(NavigationSkippedCode || (NavigationSkippedCode = {}));\nclass NavigationCancel extends RouterEvent {\n  reason;\n  code;\n  type = EventType.NavigationCancel;\n  constructor(id, url, reason, code) {\n    super(id, url);\n    this.reason = reason;\n    this.code = code;\n  }\n  toString() {\n    return `NavigationCancel(id: ${this.id}, url: '${this.url}')`;\n  }\n}\nclass NavigationSkipped extends RouterEvent {\n  reason;\n  code;\n  type = EventType.NavigationSkipped;\n  constructor(id, url, reason, code) {\n    super(id, url);\n    this.reason = reason;\n    this.code = code;\n  }\n}\nclass NavigationError extends RouterEvent {\n  error;\n  target;\n  type = EventType.NavigationError;\n  constructor(id, url, error, target) {\n    super(id, url);\n    this.error = error;\n    this.target = target;\n  }\n  toString() {\n    return `NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`;\n  }\n}\nclass RoutesRecognized extends RouterEvent {\n  urlAfterRedirects;\n  state;\n  type = EventType.RoutesRecognized;\n  constructor(id, url, urlAfterRedirects, state) {\n    super(id, url);\n    this.urlAfterRedirects = urlAfterRedirects;\n    this.state = state;\n  }\n  toString() {\n    return `RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`;\n  }\n}\nclass GuardsCheckStart extends RouterEvent {\n  urlAfterRedirects;\n  state;\n  type = EventType.GuardsCheckStart;\n  constructor(id, url, urlAfterRedirects, state) {\n    super(id, url);\n    this.urlAfterRedirects = urlAfterRedirects;\n    this.state = state;\n  }\n  toString() {\n    return `GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`;\n  }\n}\nclass GuardsCheckEnd extends RouterEvent {\n  urlAfterRedirects;\n  state;\n  shouldActivate;\n  type = EventType.GuardsCheckEnd;\n  constructor(id, url, urlAfterRedirects, state, shouldActivate) {\n    super(id, url);\n    this.urlAfterRedirects = urlAfterRedirects;\n    this.state = state;\n    this.shouldActivate = shouldActivate;\n  }\n  toString() {\n    return `GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`;\n  }\n}\nclass ResolveStart extends RouterEvent {\n  urlAfterRedirects;\n  state;\n  type = EventType.ResolveStart;\n  constructor(id, url, urlAfterRedirects, state) {\n    super(id, url);\n    this.urlAfterRedirects = urlAfterRedirects;\n    this.state = state;\n  }\n  toString() {\n    return `ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`;\n  }\n}\nclass ResolveEnd extends RouterEvent {\n  urlAfterRedirects;\n  state;\n  type = EventType.ResolveEnd;\n  constructor(id, url, urlAfterRedirects, state) {\n    super(id, url);\n    this.urlAfterRedirects = urlAfterRedirects;\n    this.state = state;\n  }\n  toString() {\n    return `ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`;\n  }\n}\nclass RouteConfigLoadStart {\n  route;\n  type = EventType.RouteConfigLoadStart;\n  constructor(route) {\n    this.route = route;\n  }\n  toString() {\n    return `RouteConfigLoadStart(path: ${this.route.path})`;\n  }\n}\nclass RouteConfigLoadEnd {\n  route;\n  type = EventType.RouteConfigLoadEnd;\n  constructor(route) {\n    this.route = route;\n  }\n  toString() {\n    return `RouteConfigLoadEnd(path: ${this.route.path})`;\n  }\n}\nclass ChildActivationStart {\n  snapshot;\n  type = EventType.ChildActivationStart;\n  constructor(snapshot) {\n    this.snapshot = snapshot;\n  }\n  toString() {\n    const path = this.snapshot.routeConfig && this.snapshot.routeConfig.path || '';\n    return `ChildActivationStart(path: '${path}')`;\n  }\n}\nclass ChildActivationEnd {\n  snapshot;\n  type = EventType.ChildActivationEnd;\n  constructor(snapshot) {\n    this.snapshot = snapshot;\n  }\n  toString() {\n    const path = this.snapshot.routeConfig && this.snapshot.routeConfig.path || '';\n    return `ChildActivationEnd(path: '${path}')`;\n  }\n}\nclass ActivationStart {\n  snapshot;\n  type = EventType.ActivationStart;\n  constructor(snapshot) {\n    this.snapshot = snapshot;\n  }\n  toString() {\n    const path = this.snapshot.routeConfig && this.snapshot.routeConfig.path || '';\n    return `ActivationStart(path: '${path}')`;\n  }\n}\nclass ActivationEnd {\n  snapshot;\n  type = EventType.ActivationEnd;\n  constructor(snapshot) {\n    this.snapshot = snapshot;\n  }\n  toString() {\n    const path = this.snapshot.routeConfig && this.snapshot.routeConfig.path || '';\n    return `ActivationEnd(path: '${path}')`;\n  }\n}\nclass Scroll {\n  routerEvent;\n  position;\n  anchor;\n  type = EventType.Scroll;\n  constructor(routerEvent, position, anchor) {\n    this.routerEvent = routerEvent;\n    this.position = position;\n    this.anchor = anchor;\n  }\n  toString() {\n    const pos = this.position ? `${this.position[0]}, ${this.position[1]}` : null;\n    return `Scroll(anchor: '${this.anchor}', position: '${pos}')`;\n  }\n}\nclass BeforeActivateRoutes {}\nclass RedirectRequest {\n  url;\n  navigationBehaviorOptions;\n  constructor(url, navigationBehaviorOptions) {\n    this.url = url;\n    this.navigationBehaviorOptions = navigationBehaviorOptions;\n  }\n}\nfunction isPublicRouterEvent(e) {\n  return !(e instanceof BeforeActivateRoutes) && !(e instanceof RedirectRequest);\n}\nfunction stringifyEvent(routerEvent) {\n  switch (routerEvent.type) {\n    case EventType.ActivationEnd:\n      return `ActivationEnd(path: '${routerEvent.snapshot.routeConfig?.path || ''}')`;\n    case EventType.ActivationStart:\n      return `ActivationStart(path: '${routerEvent.snapshot.routeConfig?.path || ''}')`;\n    case EventType.ChildActivationEnd:\n      return `ChildActivationEnd(path: '${routerEvent.snapshot.routeConfig?.path || ''}')`;\n    case EventType.ChildActivationStart:\n      return `ChildActivationStart(path: '${routerEvent.snapshot.routeConfig?.path || ''}')`;\n    case EventType.GuardsCheckEnd:\n      return `GuardsCheckEnd(id: ${routerEvent.id}, url: '${routerEvent.url}', urlAfterRedirects: '${routerEvent.urlAfterRedirects}', state: ${routerEvent.state}, shouldActivate: ${routerEvent.shouldActivate})`;\n    case EventType.GuardsCheckStart:\n      return `GuardsCheckStart(id: ${routerEvent.id}, url: '${routerEvent.url}', urlAfterRedirects: '${routerEvent.urlAfterRedirects}', state: ${routerEvent.state})`;\n    case EventType.NavigationCancel:\n      return `NavigationCancel(id: ${routerEvent.id}, url: '${routerEvent.url}')`;\n    case EventType.NavigationSkipped:\n      return `NavigationSkipped(id: ${routerEvent.id}, url: '${routerEvent.url}')`;\n    case EventType.NavigationEnd:\n      return `NavigationEnd(id: ${routerEvent.id}, url: '${routerEvent.url}', urlAfterRedirects: '${routerEvent.urlAfterRedirects}')`;\n    case EventType.NavigationError:\n      return `NavigationError(id: ${routerEvent.id}, url: '${routerEvent.url}', error: ${routerEvent.error})`;\n    case EventType.NavigationStart:\n      return `NavigationStart(id: ${routerEvent.id}, url: '${routerEvent.url}')`;\n    case EventType.ResolveEnd:\n      return `ResolveEnd(id: ${routerEvent.id}, url: '${routerEvent.url}', urlAfterRedirects: '${routerEvent.urlAfterRedirects}', state: ${routerEvent.state})`;\n    case EventType.ResolveStart:\n      return `ResolveStart(id: ${routerEvent.id}, url: '${routerEvent.url}', urlAfterRedirects: '${routerEvent.urlAfterRedirects}', state: ${routerEvent.state})`;\n    case EventType.RouteConfigLoadEnd:\n      return `RouteConfigLoadEnd(path: ${routerEvent.route.path})`;\n    case EventType.RouteConfigLoadStart:\n      return `RouteConfigLoadStart(path: ${routerEvent.route.path})`;\n    case EventType.RoutesRecognized:\n      return `RoutesRecognized(id: ${routerEvent.id}, url: '${routerEvent.url}', urlAfterRedirects: '${routerEvent.urlAfterRedirects}', state: ${routerEvent.state})`;\n    case EventType.Scroll:\n      const pos = routerEvent.position ? `${routerEvent.position[0]}, ${routerEvent.position[1]}` : null;\n      return `Scroll(anchor: '${routerEvent.anchor}', position: '${pos}')`;\n  }\n}\n\nfunction getOrCreateRouteInjectorIfNeeded(route, currentInjector) {\n  if (route.providers && !route._injector) {\n    route._injector = createEnvironmentInjector(route.providers, currentInjector, `Route: ${route.path}`);\n  }\n  return route._injector ?? currentInjector;\n}\nfunction validateConfig(config, parentPath = '', requireStandaloneComponents = false) {\n  for (let i = 0; i < config.length; i++) {\n    const route = config[i];\n    const fullPath = getFullPath(parentPath, route);\n    validateNode(route, fullPath, requireStandaloneComponents);\n  }\n}\nfunction assertStandalone(fullPath, component) {\n  if (component && _isNgModule(component)) {\n    throw new _RuntimeError(4014, `Invalid configuration of route '${fullPath}'. You are using 'loadComponent' with a module, ` + `but it must be used with standalone components. Use 'loadChildren' instead.`);\n  } else if (component && !isStandalone(component)) {\n    throw new _RuntimeError(4014, `Invalid configuration of route '${fullPath}'. The component must be standalone.`);\n  }\n}\nfunction validateNode(route, fullPath, requireStandaloneComponents) {\n  if (typeof ngDevMode === 'undefined' || ngDevMode) {\n    if (!route) {\n      throw new _RuntimeError(4014, `\n      Invalid configuration of route '${fullPath}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);\n    }\n    if (Array.isArray(route)) {\n      throw new _RuntimeError(4014, `Invalid configuration of route '${fullPath}': Array cannot be specified`);\n    }\n    if (!route.redirectTo && !route.component && !route.loadComponent && !route.children && !route.loadChildren && route.outlet && route.outlet !== PRIMARY_OUTLET) {\n      throw new _RuntimeError(4014, `Invalid configuration of route '${fullPath}': a componentless route without children or loadChildren cannot have a named outlet set`);\n    }\n    if (route.redirectTo && route.children) {\n      throw new _RuntimeError(4014, `Invalid configuration of route '${fullPath}': redirectTo and children cannot be used together`);\n    }\n    if (route.redirectTo && route.loadChildren) {\n      throw new _RuntimeError(4014, `Invalid configuration of route '${fullPath}': redirectTo and loadChildren cannot be used together`);\n    }\n    if (route.children && route.loadChildren) {\n      throw new _RuntimeError(4014, `Invalid configuration of route '${fullPath}': children and loadChildren cannot be used together`);\n    }\n    if (route.component && route.loadComponent) {\n      throw new _RuntimeError(4014, `Invalid configuration of route '${fullPath}': component and loadComponent cannot be used together`);\n    }\n    if (route.redirectTo) {\n      if (route.component || route.loadComponent) {\n        throw new _RuntimeError(4014, `Invalid configuration of route '${fullPath}': redirectTo and component/loadComponent cannot be used together`);\n      }\n      if (route.canMatch || route.canActivate) {\n        throw new _RuntimeError(4014, `Invalid configuration of route '${fullPath}': redirectTo and ${route.canMatch ? 'canMatch' : 'canActivate'} cannot be used together.` + `Redirects happen before guards are executed.`);\n      }\n    }\n    if (route.path && route.matcher) {\n      throw new _RuntimeError(4014, `Invalid configuration of route '${fullPath}': path and matcher cannot be used together`);\n    }\n    if (route.redirectTo === void 0 && !route.component && !route.loadComponent && !route.children && !route.loadChildren) {\n      throw new _RuntimeError(4014, `Invalid configuration of route '${fullPath}'. One of the following must be provided: component, loadComponent, redirectTo, children or loadChildren`);\n    }\n    if (route.path === void 0 && route.matcher === void 0) {\n      throw new _RuntimeError(4014, `Invalid configuration of route '${fullPath}': routes must have either a path or a matcher specified`);\n    }\n    if (typeof route.path === 'string' && route.path.charAt(0) === '/') {\n      throw new _RuntimeError(4014, `Invalid configuration of route '${fullPath}': path cannot start with a slash`);\n    }\n    if (route.path === '' && route.redirectTo !== void 0 && route.pathMatch === void 0) {\n      const exp = `The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`;\n      throw new _RuntimeError(4014, `Invalid configuration of route '{path: \"${fullPath}\", redirectTo: \"${route.redirectTo}\"}': please provide 'pathMatch'. ${exp}`);\n    }\n    if (requireStandaloneComponents) {\n      assertStandalone(fullPath, route.component);\n    }\n  }\n  if (route.children) {\n    validateConfig(route.children, fullPath, requireStandaloneComponents);\n  }\n}\nfunction getFullPath(parentPath, currentRoute) {\n  if (!currentRoute) {\n    return parentPath;\n  }\n  if (!parentPath && !currentRoute.path) {\n    return '';\n  } else if (parentPath && !currentRoute.path) {\n    return `${parentPath}/`;\n  } else if (!parentPath && currentRoute.path) {\n    return currentRoute.path;\n  } else {\n    return `${parentPath}/${currentRoute.path}`;\n  }\n}\nfunction getOutlet(route) {\n  return route.outlet || PRIMARY_OUTLET;\n}\nfunction sortByMatchingOutlets(routes, outletName) {\n  const sortedConfig = routes.filter(r => getOutlet(r) === outletName);\n  sortedConfig.push(...routes.filter(r => getOutlet(r) !== outletName));\n  return sortedConfig;\n}\nfunction getClosestRouteInjector(snapshot) {\n  if (!snapshot) return null;\n  if (snapshot.routeConfig?._injector) {\n    return snapshot.routeConfig._injector;\n  }\n  for (let s = snapshot.parent; s; s = s.parent) {\n    const route = s.routeConfig;\n    if (route?._loadedInjector) return route._loadedInjector;\n    if (route?._injector) return route._injector;\n  }\n  return null;\n}\n\nclass OutletContext {\n  rootInjector;\n  outlet = null;\n  route = null;\n  children;\n  attachRef = null;\n  get injector() {\n    return getClosestRouteInjector(this.route?.snapshot) ?? this.rootInjector;\n  }\n  constructor(rootInjector) {\n    this.rootInjector = rootInjector;\n    this.children = new ChildrenOutletContexts(this.rootInjector);\n  }\n}\nclass ChildrenOutletContexts {\n  rootInjector;\n  contexts = new Map();\n  constructor(rootInjector) {\n    this.rootInjector = rootInjector;\n  }\n  onChildOutletCreated(childName, outlet) {\n    const context = this.getOrCreateContext(childName);\n    context.outlet = outlet;\n    this.contexts.set(childName, context);\n  }\n  onChildOutletDestroyed(childName) {\n    const context = this.getContext(childName);\n    if (context) {\n      context.outlet = null;\n      context.attachRef = null;\n    }\n  }\n  onOutletDeactivated() {\n    const contexts = this.contexts;\n    this.contexts = new Map();\n    return contexts;\n  }\n  onOutletReAttached(contexts) {\n    this.contexts = contexts;\n  }\n  getOrCreateContext(childName) {\n    let context = this.getContext(childName);\n    if (!context) {\n      context = new OutletContext(this.rootInjector);\n      this.contexts.set(childName, context);\n    }\n    return context;\n  }\n  getContext(childName) {\n    return this.contexts.get(childName) || null;\n  }\n  static ɵfac = i0.ɵɵngDeclareFactory({\n    minVersion: \"12.0.0\",\n    version: \"21.0.6\",\n    ngImport: i0,\n    type: ChildrenOutletContexts,\n    deps: [{\n      token: i0.EnvironmentInjector\n    }],\n    target: i0.ɵɵFactoryTarget.Injectable\n  });\n  static ɵprov = i0.ɵɵngDeclareInjectable({\n    minVersion: \"12.0.0\",\n    version: \"21.0.6\",\n    ngImport: i0,\n    type: ChildrenOutletContexts,\n    providedIn: 'root'\n  });\n}\ni0.ɵɵngDeclareClassMetadata({\n  minVersion: \"12.0.0\",\n  version: \"21.0.6\",\n  ngImport: i0,\n  type: ChildrenOutletContexts,\n  decorators: [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }],\n  ctorParameters: () => [{\n    type: i0.EnvironmentInjector\n  }]\n});\n\nclass Tree {\n  _root;\n  constructor(root) {\n    this._root = root;\n  }\n  get root() {\n    return this._root.value;\n  }\n  parent(t) {\n    const p = this.pathFromRoot(t);\n    return p.length > 1 ? p[p.length - 2] : null;\n  }\n  children(t) {\n    const n = findNode(t, this._root);\n    return n ? n.children.map(t => t.value) : [];\n  }\n  firstChild(t) {\n    const n = findNode(t, this._root);\n    return n && n.children.length > 0 ? n.children[0].value : null;\n  }\n  siblings(t) {\n    const p = findPath(t, this._root);\n    if (p.length < 2) return [];\n    const c = p[p.length - 2].children.map(c => c.value);\n    return c.filter(cc => cc !== t);\n  }\n  pathFromRoot(t) {\n    return findPath(t, this._root).map(s => s.value);\n  }\n}\nfunction findNode(value, node) {\n  if (value === node.value) return node;\n  for (const child of node.children) {\n    const node = findNode(value, child);\n    if (node) return node;\n  }\n  return null;\n}\nfunction findPath(value, node) {\n  if (value === node.value) return [node];\n  for (const child of node.children) {\n    const path = findPath(value, child);\n    if (path.length) {\n      path.unshift(node);\n      return path;\n    }\n  }\n  return [];\n}\nclass TreeNode {\n  value;\n  children;\n  constructor(value, children) {\n    this.value = value;\n    this.children = children;\n  }\n  toString() {\n    return `TreeNode(${this.value})`;\n  }\n}\nfunction nodeChildrenAsMap(node) {\n  const map = {};\n  if (node) {\n    node.children.forEach(child => map[child.value.outlet] = child);\n  }\n  return map;\n}\n\nclass RouterState extends Tree {\n  snapshot;\n  constructor(root, snapshot) {\n    super(root);\n    this.snapshot = snapshot;\n    setRouterState(this, root);\n  }\n  toString() {\n    return this.snapshot.toString();\n  }\n}\nfunction createEmptyState(rootComponent) {\n  const snapshot = createEmptyStateSnapshot(rootComponent);\n  const emptyUrl = new BehaviorSubject([new UrlSegment('', {})]);\n  const emptyParams = new BehaviorSubject({});\n  const emptyData = new BehaviorSubject({});\n  const emptyQueryParams = new BehaviorSubject({});\n  const fragment = new BehaviorSubject('');\n  const activated = new ActivatedRoute(emptyUrl, emptyParams, emptyQueryParams, fragment, emptyData, PRIMARY_OUTLET, rootComponent, snapshot.root);\n  activated.snapshot = snapshot.root;\n  return new RouterState(new TreeNode(activated, []), snapshot);\n}\nfunction createEmptyStateSnapshot(rootComponent) {\n  const emptyParams = {};\n  const emptyData = {};\n  const emptyQueryParams = {};\n  const fragment = '';\n  const activated = new ActivatedRouteSnapshot([], emptyParams, emptyQueryParams, fragment, emptyData, PRIMARY_OUTLET, rootComponent, null, {});\n  return new RouterStateSnapshot('', new TreeNode(activated, []));\n}\nclass ActivatedRoute {\n  urlSubject;\n  paramsSubject;\n  queryParamsSubject;\n  fragmentSubject;\n  dataSubject;\n  outlet;\n  component;\n  snapshot;\n  _futureSnapshot;\n  _routerState;\n  _paramMap;\n  _queryParamMap;\n  title;\n  url;\n  params;\n  queryParams;\n  fragment;\n  data;\n  constructor(urlSubject, paramsSubject, queryParamsSubject, fragmentSubject, dataSubject, outlet, component, futureSnapshot) {\n    this.urlSubject = urlSubject;\n    this.paramsSubject = paramsSubject;\n    this.queryParamsSubject = queryParamsSubject;\n    this.fragmentSubject = fragmentSubject;\n    this.dataSubject = dataSubject;\n    this.outlet = outlet;\n    this.component = component;\n    this._futureSnapshot = futureSnapshot;\n    this.title = this.dataSubject?.pipe(map(d => d[RouteTitleKey])) ?? of(undefined);\n    this.url = urlSubject;\n    this.params = paramsSubject;\n    this.queryParams = queryParamsSubject;\n    this.fragment = fragmentSubject;\n    this.data = dataSubject;\n  }\n  get routeConfig() {\n    return this._futureSnapshot.routeConfig;\n  }\n  get root() {\n    return this._routerState.root;\n  }\n  get parent() {\n    return this._routerState.parent(this);\n  }\n  get firstChild() {\n    return this._routerState.firstChild(this);\n  }\n  get children() {\n    return this._routerState.children(this);\n  }\n  get pathFromRoot() {\n    return this._routerState.pathFromRoot(this);\n  }\n  get paramMap() {\n    this._paramMap ??= this.params.pipe(map(p => convertToParamMap(p)));\n    return this._paramMap;\n  }\n  get queryParamMap() {\n    this._queryParamMap ??= this.queryParams.pipe(map(p => convertToParamMap(p)));\n    return this._queryParamMap;\n  }\n  toString() {\n    return this.snapshot ? this.snapshot.toString() : `Future(${this._futureSnapshot})`;\n  }\n}\nfunction getInherited(route, parent, paramsInheritanceStrategy = 'emptyOnly') {\n  let inherited;\n  const {\n    routeConfig\n  } = route;\n  if (parent !== null && (paramsInheritanceStrategy === 'always' || routeConfig?.path === '' || !parent.component && !parent.routeConfig?.loadComponent)) {\n    inherited = {\n      params: {\n        ...parent.params,\n        ...route.params\n      },\n      data: {\n        ...parent.data,\n        ...route.data\n      },\n      resolve: {\n        ...route.data,\n        ...parent.data,\n        ...routeConfig?.data,\n        ...route._resolvedData\n      }\n    };\n  } else {\n    inherited = {\n      params: {\n        ...route.params\n      },\n      data: {\n        ...route.data\n      },\n      resolve: {\n        ...route.data,\n        ...(route._resolvedData ?? {})\n      }\n    };\n  }\n  if (routeConfig && hasStaticTitle(routeConfig)) {\n    inherited.resolve[RouteTitleKey] = routeConfig.title;\n  }\n  return inherited;\n}\nclass ActivatedRouteSnapshot {\n  url;\n  params;\n  queryParams;\n  fragment;\n  data;\n  outlet;\n  component;\n  routeConfig;\n  _resolve;\n  _resolvedData;\n  _routerState;\n  _paramMap;\n  _queryParamMap;\n  get title() {\n    return this.data?.[RouteTitleKey];\n  }\n  constructor(url, params, queryParams, fragment, data, outlet, component, routeConfig, resolve) {\n    this.url = url;\n    this.params = params;\n    this.queryParams = queryParams;\n    this.fragment = fragment;\n    this.data = data;\n    this.outlet = outlet;\n    this.component = component;\n    this.routeConfig = routeConfig;\n    this._resolve = resolve;\n  }\n  get root() {\n    return this._routerState.root;\n  }\n  get parent() {\n    return this._routerState.parent(this);\n  }\n  get firstChild() {\n    return this._routerState.firstChild(this);\n  }\n  get children() {\n    return this._routerState.children(this);\n  }\n  get pathFromRoot() {\n    return this._routerState.pathFromRoot(this);\n  }\n  get paramMap() {\n    this._paramMap ??= convertToParamMap(this.params);\n    return this._paramMap;\n  }\n  get queryParamMap() {\n    this._queryParamMap ??= convertToParamMap(this.queryParams);\n    return this._queryParamMap;\n  }\n  toString() {\n    const url = this.url.map(segment => segment.toString()).join('/');\n    const matched = this.routeConfig ? this.routeConfig.path : '';\n    return `Route(url:'${url}', path:'${matched}')`;\n  }\n}\nclass RouterStateSnapshot extends Tree {\n  url;\n  constructor(url, root) {\n    super(root);\n    this.url = url;\n    setRouterState(this, root);\n  }\n  toString() {\n    return serializeNode(this._root);\n  }\n}\nfunction setRouterState(state, node) {\n  node.value._routerState = state;\n  node.children.forEach(c => setRouterState(state, c));\n}\nfunction serializeNode(node) {\n  const c = node.children.length > 0 ? ` { ${node.children.map(serializeNode).join(', ')} } ` : '';\n  return `${node.value}${c}`;\n}\nfunction advanceActivatedRoute(route) {\n  if (route.snapshot) {\n    const currentSnapshot = route.snapshot;\n    const nextSnapshot = route._futureSnapshot;\n    route.snapshot = nextSnapshot;\n    if (!shallowEqual(currentSnapshot.queryParams, nextSnapshot.queryParams)) {\n      route.queryParamsSubject.next(nextSnapshot.queryParams);\n    }\n    if (currentSnapshot.fragment !== nextSnapshot.fragment) {\n      route.fragmentSubject.next(nextSnapshot.fragment);\n    }\n    if (!shallowEqual(currentSnapshot.params, nextSnapshot.params)) {\n      route.paramsSubject.next(nextSnapshot.params);\n    }\n    if (!shallowEqualArrays(currentSnapshot.url, nextSnapshot.url)) {\n      route.urlSubject.next(nextSnapshot.url);\n    }\n    if (!shallowEqual(currentSnapshot.data, nextSnapshot.data)) {\n      route.dataSubject.next(nextSnapshot.data);\n    }\n  } else {\n    route.snapshot = route._futureSnapshot;\n    route.dataSubject.next(route._futureSnapshot.data);\n  }\n}\nfunction equalParamsAndUrlSegments(a, b) {\n  const equalUrlParams = shallowEqual(a.params, b.params) && equalSegments(a.url, b.url);\n  const parentsMismatch = !a.parent !== !b.parent;\n  return equalUrlParams && !parentsMismatch && (!a.parent || equalParamsAndUrlSegments(a.parent, b.parent));\n}\nfunction hasStaticTitle(config) {\n  return typeof config.title === 'string' || config.title === null;\n}\n\nconst ROUTER_OUTLET_DATA = new InjectionToken(typeof ngDevMode !== 'undefined' && ngDevMode ? 'RouterOutlet data' : '');\nclass RouterOutlet {\n  activated = null;\n  get activatedComponentRef() {\n    return this.activated;\n  }\n  _activatedRoute = null;\n  name = PRIMARY_OUTLET;\n  activateEvents = new EventEmitter();\n  deactivateEvents = new EventEmitter();\n  attachEvents = new EventEmitter();\n  detachEvents = new EventEmitter();\n  routerOutletData = input(...(ngDevMode ? [undefined, {\n    debugName: \"routerOutletData\"\n  }] : []));\n  parentContexts = inject(ChildrenOutletContexts);\n  location = inject(ViewContainerRef);\n  changeDetector = inject(ChangeDetectorRef);\n  inputBinder = inject(INPUT_BINDER, {\n    optional: true\n  });\n  supportsBindingToComponentInputs = true;\n  ngOnChanges(changes) {\n    if (changes['name']) {\n      const {\n        firstChange,\n        previousValue\n      } = changes['name'];\n      if (firstChange) {\n        return;\n      }\n      if (this.isTrackedInParentContexts(previousValue)) {\n        this.deactivate();\n        this.parentContexts.onChildOutletDestroyed(previousValue);\n      }\n      this.initializeOutletWithName();\n    }\n  }\n  ngOnDestroy() {\n    if (this.isTrackedInParentContexts(this.name)) {\n      this.parentContexts.onChildOutletDestroyed(this.name);\n    }\n    this.inputBinder?.unsubscribeFromRouteData(this);\n  }\n  isTrackedInParentContexts(outletName) {\n    return this.parentContexts.getContext(outletName)?.outlet === this;\n  }\n  ngOnInit() {\n    this.initializeOutletWithName();\n  }\n  initializeOutletWithName() {\n    this.parentContexts.onChildOutletCreated(this.name, this);\n    if (this.activated) {\n      return;\n    }\n    const context = this.parentContexts.getContext(this.name);\n    if (context?.route) {\n      if (context.attachRef) {\n        this.attach(context.attachRef, context.route);\n      } else {\n        this.activateWith(context.route, context.injector);\n      }\n    }\n  }\n  get isActivated() {\n    return !!this.activated;\n  }\n  get component() {\n    if (!this.activated) throw new _RuntimeError(4012, (typeof ngDevMode === 'undefined' || ngDevMode) && 'Outlet is not activated');\n    return this.activated.instance;\n  }\n  get activatedRoute() {\n    if (!this.activated) throw new _RuntimeError(4012, (typeof ngDevMode === 'undefined' || ngDevMode) && 'Outlet is not activated');\n    return this._activatedRoute;\n  }\n  get activatedRouteData() {\n    if (this._activatedRoute) {\n      return this._activatedRoute.snapshot.data;\n    }\n    return {};\n  }\n  detach() {\n    if (!this.activated) throw new _RuntimeError(4012, (typeof ngDevMode === 'undefined' || ngDevMode) && 'Outlet is not activated');\n    this.location.detach();\n    const cmp = this.activated;\n    this.activated = null;\n    this._activatedRoute = null;\n    this.detachEvents.emit(cmp.instance);\n    return cmp;\n  }\n  attach(ref, activatedRoute) {\n    this.activated = ref;\n    this._activatedRoute = activatedRoute;\n    this.location.insert(ref.hostView);\n    this.inputBinder?.bindActivatedRouteToOutletComponent(this);\n    this.attachEvents.emit(ref.instance);\n  }\n  deactivate() {\n    if (this.activated) {\n      const c = this.component;\n      this.activated.destroy();\n      this.activated = null;\n      this._activatedRoute = null;\n      this.deactivateEvents.emit(c);\n    }\n  }\n  activateWith(activatedRoute, environmentInjector) {\n    if (this.isActivated) {\n      throw new _RuntimeError(4013, (typeof ngDevMode === 'undefined' || ngDevMode) && 'Cannot activate an already activated outlet');\n    }\n    this._activatedRoute = activatedRoute;\n    const location = this.location;\n    const snapshot = activatedRoute.snapshot;\n    const component = snapshot.component;\n    const childContexts = this.parentContexts.getOrCreateContext(this.name).children;\n    const injector = new OutletInjector(activatedRoute, childContexts, location.injector, this.routerOutletData);\n    this.activated = location.createComponent(component, {\n      index: location.length,\n      injector,\n      environmentInjector: environmentInjector\n    });\n    this.changeDetector.markForCheck();\n    this.inputBinder?.bindActivatedRouteToOutletComponent(this);\n    this.activateEvents.emit(this.activated.instance);\n  }\n  static ɵfac = i0.ɵɵngDeclareFactory({\n    minVersion: \"12.0.0\",\n    version: \"21.0.6\",\n    ngImport: i0,\n    type: RouterOutlet,\n    deps: [],\n    target: i0.ɵɵFactoryTarget.Directive\n  });\n  static ɵdir = i0.ɵɵngDeclareDirective({\n    minVersion: \"17.1.0\",\n    version: \"21.0.6\",\n    type: RouterOutlet,\n    isStandalone: true,\n    selector: \"router-outlet\",\n    inputs: {\n      name: {\n        classPropertyName: \"name\",\n        publicName: \"name\",\n        isSignal: false,\n        isRequired: false,\n        transformFunction: null\n      },\n      routerOutletData: {\n        classPropertyName: \"routerOutletData\",\n        publicName: \"routerOutletData\",\n        isSignal: true,\n        isRequired: false,\n        transformFunction: null\n      }\n    },\n    outputs: {\n      activateEvents: \"activate\",\n      deactivateEvents: \"deactivate\",\n      attachEvents: \"attach\",\n      detachEvents: \"detach\"\n    },\n    exportAs: [\"outlet\"],\n    usesOnChanges: true,\n    ngImport: i0\n  });\n}\ni0.ɵɵngDeclareClassMetadata({\n  minVersion: \"12.0.0\",\n  version: \"21.0.6\",\n  ngImport: i0,\n  type: RouterOutlet,\n  decorators: [{\n    type: Directive,\n    args: [{\n      selector: 'router-outlet',\n      exportAs: 'outlet'\n    }]\n  }],\n  propDecorators: {\n    name: [{\n      type: Input\n    }],\n    activateEvents: [{\n      type: Output,\n      args: ['activate']\n    }],\n    deactivateEvents: [{\n      type: Output,\n      args: ['deactivate']\n    }],\n    attachEvents: [{\n      type: Output,\n      args: ['attach']\n    }],\n    detachEvents: [{\n      type: Output,\n      args: ['detach']\n    }],\n    routerOutletData: [{\n      type: i0.Input,\n      args: [{\n        isSignal: true,\n        alias: \"routerOutletData\",\n        required: false\n      }]\n    }]\n  }\n});\nclass OutletInjector {\n  route;\n  childContexts;\n  parent;\n  outletData;\n  constructor(route, childContexts, parent, outletData) {\n    this.route = route;\n    this.childContexts = childContexts;\n    this.parent = parent;\n    this.outletData = outletData;\n  }\n  get(token, notFoundValue) {\n    if (token === ActivatedRoute) {\n      return this.route;\n    }\n    if (token === ChildrenOutletContexts) {\n      return this.childContexts;\n    }\n    if (token === ROUTER_OUTLET_DATA) {\n      return this.outletData;\n    }\n    return this.parent.get(token, notFoundValue);\n  }\n}\nconst INPUT_BINDER = new InjectionToken(typeof ngDevMode !== 'undefined' && ngDevMode ? 'Router Input Binder' : '');\nclass RoutedComponentInputBinder {\n  outletDataSubscriptions = new Map();\n  bindActivatedRouteToOutletComponent(outlet) {\n    this.unsubscribeFromRouteData(outlet);\n    this.subscribeToRouteData(outlet);\n  }\n  unsubscribeFromRouteData(outlet) {\n    this.outletDataSubscriptions.get(outlet)?.unsubscribe();\n    this.outletDataSubscriptions.delete(outlet);\n  }\n  subscribeToRouteData(outlet) {\n    const {\n      activatedRoute\n    } = outlet;\n    const dataSubscription = combineLatest([activatedRoute.queryParams, activatedRoute.params, activatedRoute.data]).pipe(switchMap(([queryParams, params, data], index) => {\n      data = {\n        ...queryParams,\n        ...params,\n        ...data\n      };\n      if (index === 0) {\n        return of(data);\n      }\n      return Promise.resolve(data);\n    })).subscribe(data => {\n      if (!outlet.isActivated || !outlet.activatedComponentRef || outlet.activatedRoute !== activatedRoute || activatedRoute.component === null) {\n        this.unsubscribeFromRouteData(outlet);\n        return;\n      }\n      const mirror = reflectComponentType(activatedRoute.component);\n      if (!mirror) {\n        this.unsubscribeFromRouteData(outlet);\n        return;\n      }\n      for (const {\n        templateName\n      } of mirror.inputs) {\n        outlet.activatedComponentRef.setInput(templateName, data[templateName]);\n      }\n    });\n    this.outletDataSubscriptions.set(outlet, dataSubscription);\n  }\n  static ɵfac = i0.ɵɵngDeclareFactory({\n    minVersion: \"12.0.0\",\n    version: \"21.0.6\",\n    ngImport: i0,\n    type: RoutedComponentInputBinder,\n    deps: [],\n    target: i0.ɵɵFactoryTarget.Injectable\n  });\n  static ɵprov = i0.ɵɵngDeclareInjectable({\n    minVersion: \"12.0.0\",\n    version: \"21.0.6\",\n    ngImport: i0,\n    type: RoutedComponentInputBinder\n  });\n}\ni0.ɵɵngDeclareClassMetadata({\n  minVersion: \"12.0.0\",\n  version: \"21.0.6\",\n  ngImport: i0,\n  type: RoutedComponentInputBinder,\n  decorators: [{\n    type: Injectable\n  }]\n});\n\nclass ɵEmptyOutletComponent {\n  static ɵfac = i0.ɵɵngDeclareFactory({\n    minVersion: \"12.0.0\",\n    version: \"21.0.6\",\n    ngImport: i0,\n    type: ɵEmptyOutletComponent,\n    deps: [],\n    target: i0.ɵɵFactoryTarget.Component\n  });\n  static ɵcmp = i0.ɵɵngDeclareComponent({\n    minVersion: \"14.0.0\",\n    version: \"21.0.6\",\n    type: ɵEmptyOutletComponent,\n    isStandalone: true,\n    selector: \"ng-component\",\n    exportAs: [\"emptyRouterOutlet\"],\n    ngImport: i0,\n    template: `<router-outlet />`,\n    isInline: true,\n    dependencies: [{\n      kind: \"directive\",\n      type: RouterOutlet,\n      selector: \"router-outlet\",\n      inputs: [\"name\", \"routerOutletData\"],\n      outputs: [\"activate\", \"deactivate\", \"attach\", \"detach\"],\n      exportAs: [\"outlet\"]\n    }]\n  });\n}\ni0.ɵɵngDeclareClassMetadata({\n  minVersion: \"12.0.0\",\n  version: \"21.0.6\",\n  ngImport: i0,\n  type: ɵEmptyOutletComponent,\n  decorators: [{\n    type: Component,\n    args: [{\n      template: `<router-outlet />`,\n      imports: [RouterOutlet],\n      exportAs: 'emptyRouterOutlet'\n    }]\n  }]\n});\nfunction standardizeConfig(r) {\n  const children = r.children && r.children.map(standardizeConfig);\n  const c = children ? {\n    ...r,\n    children\n  } : {\n    ...r\n  };\n  if (!c.component && !c.loadComponent && (children || c.loadChildren) && c.outlet && c.outlet !== PRIMARY_OUTLET) {\n    c.component = ɵEmptyOutletComponent;\n  }\n  return c;\n}\n\nfunction createRouterState(routeReuseStrategy, curr, prevState) {\n  const root = createNode(routeReuseStrategy, curr._root, prevState ? prevState._root : undefined);\n  return new RouterState(root, curr);\n}\nfunction createNode(routeReuseStrategy, curr, prevState) {\n  if (prevState && routeReuseStrategy.shouldReuseRoute(curr.value, prevState.value.snapshot)) {\n    const value = prevState.value;\n    value._futureSnapshot = curr.value;\n    const children = createOrReuseChildren(routeReuseStrategy, curr, prevState);\n    return new TreeNode(value, children);\n  } else {\n    if (routeReuseStrategy.shouldAttach(curr.value)) {\n      const detachedRouteHandle = routeReuseStrategy.retrieve(curr.value);\n      if (detachedRouteHandle !== null) {\n        const tree = detachedRouteHandle.route;\n        tree.value._futureSnapshot = curr.value;\n        tree.children = curr.children.map(c => createNode(routeReuseStrategy, c));\n        return tree;\n      }\n    }\n    const value = createActivatedRoute(curr.value);\n    const children = curr.children.map(c => createNode(routeReuseStrategy, c));\n    return new TreeNode(value, children);\n  }\n}\nfunction createOrReuseChildren(routeReuseStrategy, curr, prevState) {\n  return curr.children.map(child => {\n    for (const p of prevState.children) {\n      if (routeReuseStrategy.shouldReuseRoute(child.value, p.value.snapshot)) {\n        return createNode(routeReuseStrategy, child, p);\n      }\n    }\n    return createNode(routeReuseStrategy, child);\n  });\n}\nfunction createActivatedRoute(c) {\n  return new ActivatedRoute(new BehaviorSubject(c.url), new BehaviorSubject(c.params), new BehaviorSubject(c.queryParams), new BehaviorSubject(c.fragment), new BehaviorSubject(c.data), c.outlet, c.component, c);\n}\n\nclass RedirectCommand {\n  redirectTo;\n  navigationBehaviorOptions;\n  constructor(redirectTo, navigationBehaviorOptions) {\n    this.redirectTo = redirectTo;\n    this.navigationBehaviorOptions = navigationBehaviorOptions;\n  }\n}\n\nconst NAVIGATION_CANCELING_ERROR = 'ngNavigationCancelingError';\nfunction redirectingNavigationError(urlSerializer, redirect) {\n  const {\n    redirectTo,\n    navigationBehaviorOptions\n  } = isUrlTree(redirect) ? {\n    redirectTo: redirect,\n    navigationBehaviorOptions: undefined\n  } : redirect;\n  const error = navigationCancelingError(ngDevMode && `Redirecting to \"${urlSerializer.serialize(redirectTo)}\"`, NavigationCancellationCode.Redirect);\n  error.url = redirectTo;\n  error.navigationBehaviorOptions = navigationBehaviorOptions;\n  return error;\n}\nfunction navigationCancelingError(message, code) {\n  const error = new Error(`NavigationCancelingError: ${message || ''}`);\n  error[NAVIGATION_CANCELING_ERROR] = true;\n  error.cancellationCode = code;\n  return error;\n}\nfunction isRedirectingNavigationCancelingError(error) {\n  return isNavigationCancelingError(error) && isUrlTree(error.url);\n}\nfunction isNavigationCancelingError(error) {\n  return !!error && error[NAVIGATION_CANCELING_ERROR];\n}\n\nlet warnedAboutUnsupportedInputBinding = false;\nconst activateRoutes = (rootContexts, routeReuseStrategy, forwardEvent, inputBindingEnabled) => map(t => {\n  new ActivateRoutes(routeReuseStrategy, t.targetRouterState, t.currentRouterState, forwardEvent, inputBindingEnabled).activate(rootContexts);\n  return t;\n});\nclass ActivateRoutes {\n  routeReuseStrategy;\n  futureState;\n  currState;\n  forwardEvent;\n  inputBindingEnabled;\n  constructor(routeReuseStrategy, futureState, currState, forwardEvent, inputBindingEnabled) {\n    this.routeReuseStrategy = routeReuseStrategy;\n    this.futureState = futureState;\n    this.currState = currState;\n    this.forwardEvent = forwardEvent;\n    this.inputBindingEnabled = inputBindingEnabled;\n  }\n  activate(parentContexts) {\n    const futureRoot = this.futureState._root;\n    const currRoot = this.currState ? this.currState._root : null;\n    this.deactivateChildRoutes(futureRoot, currRoot, parentContexts);\n    advanceActivatedRoute(this.futureState.root);\n    this.activateChildRoutes(futureRoot, currRoot, parentContexts);\n  }\n  deactivateChildRoutes(futureNode, currNode, contexts) {\n    const children = nodeChildrenAsMap(currNode);\n    futureNode.children.forEach(futureChild => {\n      const childOutletName = futureChild.value.outlet;\n      this.deactivateRoutes(futureChild, children[childOutletName], contexts);\n      delete children[childOutletName];\n    });\n    Object.values(children).forEach(v => {\n      this.deactivateRouteAndItsChildren(v, contexts);\n    });\n  }\n  deactivateRoutes(futureNode, currNode, parentContext) {\n    const future = futureNode.value;\n    const curr = currNode ? currNode.value : null;\n    if (future === curr) {\n      if (future.component) {\n        const context = parentContext.getContext(future.outlet);\n        if (context) {\n          this.deactivateChildRoutes(futureNode, currNode, context.children);\n        }\n      } else {\n        this.deactivateChildRoutes(futureNode, currNode, parentContext);\n      }\n    } else {\n      if (curr) {\n        this.deactivateRouteAndItsChildren(currNode, parentContext);\n      }\n    }\n  }\n  deactivateRouteAndItsChildren(route, parentContexts) {\n    if (route.value.component && this.routeReuseStrategy.shouldDetach(route.value.snapshot)) {\n      this.detachAndStoreRouteSubtree(route, parentContexts);\n    } else {\n      this.deactivateRouteAndOutlet(route, parentContexts);\n    }\n  }\n  detachAndStoreRouteSubtree(route, parentContexts) {\n    const context = parentContexts.getContext(route.value.outlet);\n    const contexts = context && route.value.component ? context.children : parentContexts;\n    const children = nodeChildrenAsMap(route);\n    for (const treeNode of Object.values(children)) {\n      this.deactivateRouteAndItsChildren(treeNode, contexts);\n    }\n    if (context && context.outlet) {\n      const componentRef = context.outlet.detach();\n      const contexts = context.children.onOutletDeactivated();\n      this.routeReuseStrategy.store(route.value.snapshot, {\n        componentRef,\n        route,\n        contexts\n      });\n    }\n  }\n  deactivateRouteAndOutlet(route, parentContexts) {\n    const context = parentContexts.getContext(route.value.outlet);\n    const contexts = context && route.value.component ? context.children : parentContexts;\n    const children = nodeChildrenAsMap(route);\n    for (const treeNode of Object.values(children)) {\n      this.deactivateRouteAndItsChildren(treeNode, contexts);\n    }\n    if (context) {\n      if (context.outlet) {\n        context.outlet.deactivate();\n        context.children.onOutletDeactivated();\n      }\n      context.attachRef = null;\n      context.route = null;\n    }\n  }\n  activateChildRoutes(futureNode, currNode, contexts) {\n    const children = nodeChildrenAsMap(currNode);\n    futureNode.children.forEach(c => {\n      this.activateRoutes(c, children[c.value.outlet], contexts);\n      this.forwardEvent(new ActivationEnd(c.value.snapshot));\n    });\n    if (futureNode.children.length) {\n      this.forwardEvent(new ChildActivationEnd(futureNode.value.snapshot));\n    }\n  }\n  activateRoutes(futureNode, currNode, parentContexts) {\n    const future = futureNode.value;\n    const curr = currNode ? currNode.value : null;\n    advanceActivatedRoute(future);\n    if (future === curr) {\n      if (future.component) {\n        const context = parentContexts.getOrCreateContext(future.outlet);\n        this.activateChildRoutes(futureNode, currNode, context.children);\n      } else {\n        this.activateChildRoutes(futureNode, currNode, parentContexts);\n      }\n    } else {\n      if (future.component) {\n        const context = parentContexts.getOrCreateContext(future.outlet);\n        if (this.routeReuseStrategy.shouldAttach(future.snapshot)) {\n          const stored = this.routeReuseStrategy.retrieve(future.snapshot);\n          this.routeReuseStrategy.store(future.snapshot, null);\n          context.children.onOutletReAttached(stored.contexts);\n          context.attachRef = stored.componentRef;\n          context.route = stored.route.value;\n          if (context.outlet) {\n            context.outlet.attach(stored.componentRef, stored.route.value);\n          }\n          advanceActivatedRoute(stored.route.value);\n          this.activateChildRoutes(futureNode, null, context.children);\n        } else {\n          context.attachRef = null;\n          context.route = future;\n          if (context.outlet) {\n            context.outlet.activateWith(future, context.injector);\n          }\n          this.activateChildRoutes(futureNode, null, context.children);\n        }\n      } else {\n        this.activateChildRoutes(futureNode, null, parentContexts);\n      }\n    }\n    if (typeof ngDevMode === 'undefined' || ngDevMode) {\n      const context = parentContexts.getOrCreateContext(future.outlet);\n      const outlet = context.outlet;\n      if (outlet && this.inputBindingEnabled && !outlet.supportsBindingToComponentInputs && !warnedAboutUnsupportedInputBinding) {\n        console.warn(`'withComponentInputBinding' feature is enabled but ` + `this application is using an outlet that may not support binding to component inputs.`);\n        warnedAboutUnsupportedInputBinding = true;\n      }\n    }\n  }\n}\n\nclass CanActivate {\n  path;\n  route;\n  constructor(path) {\n    this.path = path;\n    this.route = this.path[this.path.length - 1];\n  }\n}\nclass CanDeactivate {\n  component;\n  route;\n  constructor(component, route) {\n    this.component = component;\n    this.route = route;\n  }\n}\nfunction getAllRouteGuards(future, curr, parentContexts) {\n  const futureRoot = future._root;\n  const currRoot = curr ? curr._root : null;\n  return getChildRouteGuards(futureRoot, currRoot, parentContexts, [futureRoot.value]);\n}\nfunction getCanActivateChild(p) {\n  const canActivateChild = p.routeConfig ? p.routeConfig.canActivateChild : null;\n  if (!canActivateChild || canActivateChild.length === 0) return null;\n  return {\n    node: p,\n    guards: canActivateChild\n  };\n}\nfunction getTokenOrFunctionIdentity(tokenOrFunction, injector) {\n  const NOT_FOUND = Symbol();\n  const result = injector.get(tokenOrFunction, NOT_FOUND);\n  if (result === NOT_FOUND) {\n    if (typeof tokenOrFunction === 'function' && !_isInjectable(tokenOrFunction)) {\n      return tokenOrFunction;\n    } else {\n      return injector.get(tokenOrFunction);\n    }\n  }\n  return result;\n}\nfunction getChildRouteGuards(futureNode, currNode, contexts, futurePath, checks = {\n  canDeactivateChecks: [],\n  canActivateChecks: []\n}) {\n  const prevChildren = nodeChildrenAsMap(currNode);\n  futureNode.children.forEach(c => {\n    getRouteGuards(c, prevChildren[c.value.outlet], contexts, futurePath.concat([c.value]), checks);\n    delete prevChildren[c.value.outlet];\n  });\n  Object.entries(prevChildren).forEach(([k, v]) => deactivateRouteAndItsChildren(v, contexts.getContext(k), checks));\n  return checks;\n}\nfunction getRouteGuards(futureNode, currNode, parentContexts, futurePath, checks = {\n  canDeactivateChecks: [],\n  canActivateChecks: []\n}) {\n  const future = futureNode.value;\n  const curr = currNode ? currNode.value : null;\n  const context = parentContexts ? parentContexts.getContext(futureNode.value.outlet) : null;\n  if (curr && future.routeConfig === curr.routeConfig) {\n    const shouldRun = shouldRunGuardsAndResolvers(curr, future, future.routeConfig.runGuardsAndResolvers);\n    if (shouldRun) {\n      checks.canActivateChecks.push(new CanActivate(futurePath));\n    } else {\n      future.data = curr.data;\n      future._resolvedData = curr._resolvedData;\n    }\n    if (future.component) {\n      getChildRouteGuards(futureNode, currNode, context ? context.children : null, futurePath, checks);\n    } else {\n      getChildRouteGuards(futureNode, currNode, parentContexts, futurePath, checks);\n    }\n    if (shouldRun && context && context.outlet && context.outlet.isActivated) {\n      checks.canDeactivateChecks.push(new CanDeactivate(context.outlet.component, curr));\n    }\n  } else {\n    if (curr) {\n      deactivateRouteAndItsChildren(currNode, context, checks);\n    }\n    checks.canActivateChecks.push(new CanActivate(futurePath));\n    if (future.component) {\n      getChildRouteGuards(futureNode, null, context ? context.children : null, futurePath, checks);\n    } else {\n      getChildRouteGuards(futureNode, null, parentContexts, futurePath, checks);\n    }\n  }\n  return checks;\n}\nfunction shouldRunGuardsAndResolvers(curr, future, mode) {\n  if (typeof mode === 'function') {\n    return mode(curr, future);\n  }\n  switch (mode) {\n    case 'pathParamsChange':\n      return !equalPath(curr.url, future.url);\n    case 'pathParamsOrQueryParamsChange':\n      return !equalPath(curr.url, future.url) || !shallowEqual(curr.queryParams, future.queryParams);\n    case 'always':\n      return true;\n    case 'paramsOrQueryParamsChange':\n      return !equalParamsAndUrlSegments(curr, future) || !shallowEqual(curr.queryParams, future.queryParams);\n    case 'paramsChange':\n    default:\n      return !equalParamsAndUrlSegments(curr, future);\n  }\n}\nfunction deactivateRouteAndItsChildren(route, context, checks) {\n  const children = nodeChildrenAsMap(route);\n  const r = route.value;\n  Object.entries(children).forEach(([childName, node]) => {\n    if (!r.component) {\n      deactivateRouteAndItsChildren(node, context, checks);\n    } else if (context) {\n      deactivateRouteAndItsChildren(node, context.children.getContext(childName), checks);\n    } else {\n      deactivateRouteAndItsChildren(node, null, checks);\n    }\n  });\n  if (!r.component) {\n    checks.canDeactivateChecks.push(new CanDeactivate(null, r));\n  } else if (context && context.outlet && context.outlet.isActivated) {\n    checks.canDeactivateChecks.push(new CanDeactivate(context.outlet.component, r));\n  } else {\n    checks.canDeactivateChecks.push(new CanDeactivate(null, r));\n  }\n}\n\nfunction isFunction(v) {\n  return typeof v === 'function';\n}\nfunction isBoolean(v) {\n  return typeof v === 'boolean';\n}\nfunction isCanLoad(guard) {\n  return guard && isFunction(guard.canLoad);\n}\nfunction isCanActivate(guard) {\n  return guard && isFunction(guard.canActivate);\n}\nfunction isCanActivateChild(guard) {\n  return guard && isFunction(guard.canActivateChild);\n}\nfunction isCanDeactivate(guard) {\n  return guard && isFunction(guard.canDeactivate);\n}\nfunction isCanMatch(guard) {\n  return guard && isFunction(guard.canMatch);\n}\nfunction isEmptyError(e) {\n  return e instanceof EmptyError || e?.name === 'EmptyError';\n}\n\nconst INITIAL_VALUE = /* @__PURE__ */Symbol('INITIAL_VALUE');\nfunction prioritizedGuardValue() {\n  return switchMap(obs => {\n    return combineLatest(obs.map(o => o.pipe(take(1), startWith(INITIAL_VALUE)))).pipe(map(results => {\n      for (const result of results) {\n        if (result === true) {\n          continue;\n        } else if (result === INITIAL_VALUE) {\n          return INITIAL_VALUE;\n        } else if (result === false || isRedirect(result)) {\n          return result;\n        }\n      }\n      return true;\n    }), filter(item => item !== INITIAL_VALUE), take(1));\n  });\n}\nfunction isRedirect(val) {\n  return isUrlTree(val) || val instanceof RedirectCommand;\n}\n\nfunction abortSignalToObservable(signal) {\n  if (signal.aborted) {\n    return of(undefined).pipe(take(1));\n  }\n  return new Observable(subscriber => {\n    const handler = () => {\n      subscriber.next();\n      subscriber.complete();\n    };\n    signal.addEventListener('abort', handler);\n    return () => signal.removeEventListener('abort', handler);\n  });\n}\nfunction takeUntilAbort(signal) {\n  return takeUntil(abortSignalToObservable(signal));\n}\n\nfunction checkGuards(injector, forwardEvent) {\n  return mergeMap(t => {\n    const {\n      targetSnapshot,\n      currentSnapshot,\n      guards: {\n        canActivateChecks,\n        canDeactivateChecks\n      }\n    } = t;\n    if (canDeactivateChecks.length === 0 && canActivateChecks.length === 0) {\n      return of({\n        ...t,\n        guardsResult: true\n      });\n    }\n    return runCanDeactivateChecks(canDeactivateChecks, targetSnapshot, currentSnapshot, injector).pipe(mergeMap(canDeactivate => {\n      return canDeactivate && isBoolean(canDeactivate) ? runCanActivateChecks(targetSnapshot, canActivateChecks, injector, forwardEvent) : of(canDeactivate);\n    }), map(guardsResult => ({\n      ...t,\n      guardsResult\n    })));\n  });\n}\nfunction runCanDeactivateChecks(checks, futureRSS, currRSS, injector) {\n  return from(checks).pipe(mergeMap(check => runCanDeactivate(check.component, check.route, currRSS, futureRSS, injector)), first(result => {\n    return result !== true;\n  }, true));\n}\nfunction runCanActivateChecks(futureSnapshot, checks, injector, forwardEvent) {\n  return from(checks).pipe(concatMap(check => {\n    return concat(fireChildActivationStart(check.route.parent, forwardEvent), fireActivationStart(check.route, forwardEvent), runCanActivateChild(futureSnapshot, check.path, injector), runCanActivate(futureSnapshot, check.route, injector));\n  }), first(result => {\n    return result !== true;\n  }, true));\n}\nfunction fireActivationStart(snapshot, forwardEvent) {\n  if (snapshot !== null && forwardEvent) {\n    forwardEvent(new ActivationStart(snapshot));\n  }\n  return of(true);\n}\nfunction fireChildActivationStart(snapshot, forwardEvent) {\n  if (snapshot !== null && forwardEvent) {\n    forwardEvent(new ChildActivationStart(snapshot));\n  }\n  return of(true);\n}\nfunction runCanActivate(futureRSS, futureARS, injector) {\n  const canActivate = futureARS.routeConfig ? futureARS.routeConfig.canActivate : null;\n  if (!canActivate || canActivate.length === 0) return of(true);\n  const canActivateObservables = canActivate.map(canActivate => {\n    return defer(() => {\n      const closestInjector = getClosestRouteInjector(futureARS) ?? injector;\n      const guard = getTokenOrFunctionIdentity(canActivate, closestInjector);\n      const guardVal = isCanActivate(guard) ? guard.canActivate(futureARS, futureRSS) : runInInjectionContext(closestInjector, () => guard(futureARS, futureRSS));\n      return wrapIntoObservable(guardVal).pipe(first());\n    });\n  });\n  return of(canActivateObservables).pipe(prioritizedGuardValue());\n}\nfunction runCanActivateChild(futureRSS, path, injector) {\n  const futureARS = path[path.length - 1];\n  const canActivateChildGuards = path.slice(0, path.length - 1).reverse().map(p => getCanActivateChild(p)).filter(_ => _ !== null);\n  const canActivateChildGuardsMapped = canActivateChildGuards.map(d => {\n    return defer(() => {\n      const guardsMapped = d.guards.map(canActivateChild => {\n        const closestInjector = getClosestRouteInjector(d.node) ?? injector;\n        const guard = getTokenOrFunctionIdentity(canActivateChild, closestInjector);\n        const guardVal = isCanActivateChild(guard) ? guard.canActivateChild(futureARS, futureRSS) : runInInjectionContext(closestInjector, () => guard(futureARS, futureRSS));\n        return wrapIntoObservable(guardVal).pipe(first());\n      });\n      return of(guardsMapped).pipe(prioritizedGuardValue());\n    });\n  });\n  return of(canActivateChildGuardsMapped).pipe(prioritizedGuardValue());\n}\nfunction runCanDeactivate(component, currARS, currRSS, futureRSS, injector) {\n  const canDeactivate = currARS && currARS.routeConfig ? currARS.routeConfig.canDeactivate : null;\n  if (!canDeactivate || canDeactivate.length === 0) return of(true);\n  const canDeactivateObservables = canDeactivate.map(c => {\n    const closestInjector = getClosestRouteInjector(currARS) ?? injector;\n    const guard = getTokenOrFunctionIdentity(c, closestInjector);\n    const guardVal = isCanDeactivate(guard) ? guard.canDeactivate(component, currARS, currRSS, futureRSS) : runInInjectionContext(closestInjector, () => guard(component, currARS, currRSS, futureRSS));\n    return wrapIntoObservable(guardVal).pipe(first());\n  });\n  return of(canDeactivateObservables).pipe(prioritizedGuardValue());\n}\nfunction runCanLoadGuards(injector, route, segments, urlSerializer, abortSignal) {\n  const canLoad = route.canLoad;\n  if (canLoad === undefined || canLoad.length === 0) {\n    return of(true);\n  }\n  const canLoadObservables = canLoad.map(injectionToken => {\n    const guard = getTokenOrFunctionIdentity(injectionToken, injector);\n    const guardVal = isCanLoad(guard) ? guard.canLoad(route, segments) : runInInjectionContext(injector, () => guard(route, segments));\n    const obs$ = wrapIntoObservable(guardVal);\n    return abortSignal ? obs$.pipe(takeUntilAbort(abortSignal)) : obs$;\n  });\n  return of(canLoadObservables).pipe(prioritizedGuardValue(), redirectIfUrlTree(urlSerializer));\n}\nfunction redirectIfUrlTree(urlSerializer) {\n  return pipe(tap(result => {\n    if (typeof result === 'boolean') return;\n    throw redirectingNavigationError(urlSerializer, result);\n  }), map(result => result === true));\n}\nfunction runCanMatchGuards(injector, route, segments, urlSerializer, abortSignal) {\n  const canMatch = route.canMatch;\n  if (!canMatch || canMatch.length === 0) return of(true);\n  const canMatchObservables = canMatch.map(injectionToken => {\n    const guard = getTokenOrFunctionIdentity(injectionToken, injector);\n    const guardVal = isCanMatch(guard) ? guard.canMatch(route, segments) : runInInjectionContext(injector, () => guard(route, segments));\n    let obs$ = wrapIntoObservable(guardVal);\n    return abortSignal ? obs$.pipe(takeUntilAbort(abortSignal)) : obs$;\n  });\n  return of(canMatchObservables).pipe(prioritizedGuardValue(), redirectIfUrlTree(urlSerializer));\n}\n\nlet NoMatch$1 = class NoMatch extends Error {\n  segmentGroup;\n  constructor(segmentGroup) {\n    super();\n    this.segmentGroup = segmentGroup || null;\n    Object.setPrototypeOf(this, NoMatch.prototype);\n  }\n};\nlet AbsoluteRedirect$1 = class AbsoluteRedirect extends Error {\n  urlTree;\n  constructor(urlTree) {\n    super();\n    this.urlTree = urlTree;\n    Object.setPrototypeOf(this, AbsoluteRedirect.prototype);\n  }\n};\nfunction namedOutletsRedirect$1(redirectTo) {\n  throw new _RuntimeError(4000, (typeof ngDevMode === 'undefined' || ngDevMode) && `Only absolute redirects can have named outlets. redirectTo: '${redirectTo}'`);\n}\nfunction canLoadFails$1(route) {\n  throw navigationCancelingError((typeof ngDevMode === 'undefined' || ngDevMode) && `Cannot load children because the guard of the route \"path: '${route.path}'\" returned false`, NavigationCancellationCode.GuardRejected);\n}\nlet ApplyRedirects$1 = class ApplyRedirects {\n  urlSerializer;\n  urlTree;\n  constructor(urlSerializer, urlTree) {\n    this.urlSerializer = urlSerializer;\n    this.urlTree = urlTree;\n  }\n  async lineralizeSegments(route, urlTree) {\n    let res = [];\n    let c = urlTree.root;\n    while (true) {\n      res = res.concat(c.segments);\n      if (c.numberOfChildren === 0) {\n        return res;\n      }\n      if (c.numberOfChildren > 1 || !c.children[PRIMARY_OUTLET]) {\n        throw namedOutletsRedirect$1(`${route.redirectTo}`);\n      }\n      c = c.children[PRIMARY_OUTLET];\n    }\n  }\n  async applyRedirectCommands(segments, redirectTo, posParams, currentSnapshot, injector) {\n    const redirect = await getRedirectResult$1(redirectTo, currentSnapshot, injector);\n    if (redirect instanceof UrlTree) {\n      throw new AbsoluteRedirect$1(redirect);\n    }\n    const newTree = this.applyRedirectCreateUrlTree(redirect, this.urlSerializer.parse(redirect), segments, posParams);\n    if (redirect[0] === '/') {\n      throw new AbsoluteRedirect$1(newTree);\n    }\n    return newTree;\n  }\n  applyRedirectCreateUrlTree(redirectTo, urlTree, segments, posParams) {\n    const newRoot = this.createSegmentGroup(redirectTo, urlTree.root, segments, posParams);\n    return new UrlTree(newRoot, this.createQueryParams(urlTree.queryParams, this.urlTree.queryParams), urlTree.fragment);\n  }\n  createQueryParams(redirectToParams, actualParams) {\n    const res = {};\n    Object.entries(redirectToParams).forEach(([k, v]) => {\n      const copySourceValue = typeof v === 'string' && v[0] === ':';\n      if (copySourceValue) {\n        const sourceName = v.substring(1);\n        res[k] = actualParams[sourceName];\n      } else {\n        res[k] = v;\n      }\n    });\n    return res;\n  }\n  createSegmentGroup(redirectTo, group, segments, posParams) {\n    const updatedSegments = this.createSegments(redirectTo, group.segments, segments, posParams);\n    let children = {};\n    Object.entries(group.children).forEach(([name, child]) => {\n      children[name] = this.createSegmentGroup(redirectTo, child, segments, posParams);\n    });\n    return new UrlSegmentGroup(updatedSegments, children);\n  }\n  createSegments(redirectTo, redirectToSegments, actualSegments, posParams) {\n    return redirectToSegments.map(s => s.path[0] === ':' ? this.findPosParam(redirectTo, s, posParams) : this.findOrReturn(s, actualSegments));\n  }\n  findPosParam(redirectTo, redirectToUrlSegment, posParams) {\n    const pos = posParams[redirectToUrlSegment.path.substring(1)];\n    if (!pos) throw new _RuntimeError(4001, (typeof ngDevMode === 'undefined' || ngDevMode) && `Cannot redirect to '${redirectTo}'. Cannot find '${redirectToUrlSegment.path}'.`);\n    return pos;\n  }\n  findOrReturn(redirectToUrlSegment, actualSegments) {\n    let idx = 0;\n    for (const s of actualSegments) {\n      if (s.path === redirectToUrlSegment.path) {\n        actualSegments.splice(idx);\n        return s;\n      }\n      idx++;\n    }\n    return redirectToUrlSegment;\n  }\n};\nfunction getRedirectResult$1(redirectTo, currentSnapshot, injector) {\n  if (typeof redirectTo === 'string') {\n    return Promise.resolve(redirectTo);\n  }\n  const redirectToFn = redirectTo;\n  const {\n    queryParams,\n    fragment,\n    routeConfig,\n    url,\n    outlet,\n    params,\n    data,\n    title\n  } = currentSnapshot;\n  return firstValueFrom(wrapIntoObservable(runInInjectionContext(injector, () => redirectToFn({\n    params,\n    data,\n    queryParams,\n    fragment,\n    routeConfig,\n    url,\n    outlet,\n    title\n  }))));\n}\n\nconst noMatch$1 = {\n  matched: false,\n  consumedSegments: [],\n  remainingSegments: [],\n  parameters: {},\n  positionalParamSegments: {}\n};\nfunction matchWithChecks(segmentGroup, route, segments, injector, urlSerializer, abortSignal) {\n  const result = match(segmentGroup, route, segments);\n  if (!result.matched) {\n    return of(result);\n  }\n  injector = getOrCreateRouteInjectorIfNeeded(route, injector);\n  return runCanMatchGuards(injector, route, segments, urlSerializer, abortSignal).pipe(map(v => v === true ? result : {\n    ...noMatch$1\n  }));\n}\nfunction match(segmentGroup, route, segments) {\n  if (route.path === '**') {\n    return createWildcardMatchResult(segments);\n  }\n  if (route.path === '') {\n    if (route.pathMatch === 'full' && (segmentGroup.hasChildren() || segments.length > 0)) {\n      return {\n        ...noMatch$1\n      };\n    }\n    return {\n      matched: true,\n      consumedSegments: [],\n      remainingSegments: segments,\n      parameters: {},\n      positionalParamSegments: {}\n    };\n  }\n  const matcher = route.matcher || defaultUrlMatcher;\n  const res = matcher(segments, segmentGroup, route);\n  if (!res) return {\n    ...noMatch$1\n  };\n  const posParams = {};\n  Object.entries(res.posParams ?? {}).forEach(([k, v]) => {\n    posParams[k] = v.path;\n  });\n  const parameters = res.consumed.length > 0 ? {\n    ...posParams,\n    ...res.consumed[res.consumed.length - 1].parameters\n  } : posParams;\n  return {\n    matched: true,\n    consumedSegments: res.consumed,\n    remainingSegments: segments.slice(res.consumed.length),\n    parameters,\n    positionalParamSegments: res.posParams ?? {}\n  };\n}\nfunction createWildcardMatchResult(segments) {\n  return {\n    matched: true,\n    parameters: segments.length > 0 ? last(segments).parameters : {},\n    consumedSegments: segments,\n    remainingSegments: [],\n    positionalParamSegments: {}\n  };\n}\nfunction split(segmentGroup, consumedSegments, slicedSegments, config) {\n  if (slicedSegments.length > 0 && containsEmptyPathMatchesWithNamedOutlets(segmentGroup, slicedSegments, config)) {\n    const s = new UrlSegmentGroup(consumedSegments, createChildrenForEmptyPaths(config, new UrlSegmentGroup(slicedSegments, segmentGroup.children)));\n    return {\n      segmentGroup: s,\n      slicedSegments: []\n    };\n  }\n  if (slicedSegments.length === 0 && containsEmptyPathMatches(segmentGroup, slicedSegments, config)) {\n    const s = new UrlSegmentGroup(segmentGroup.segments, addEmptyPathsToChildrenIfNeeded(segmentGroup, slicedSegments, config, segmentGroup.children));\n    return {\n      segmentGroup: s,\n      slicedSegments\n    };\n  }\n  const s = new UrlSegmentGroup(segmentGroup.segments, segmentGroup.children);\n  return {\n    segmentGroup: s,\n    slicedSegments\n  };\n}\nfunction addEmptyPathsToChildrenIfNeeded(segmentGroup, slicedSegments, routes, children) {\n  const res = {};\n  for (const r of routes) {\n    if (emptyPathMatch(segmentGroup, slicedSegments, r) && !children[getOutlet(r)]) {\n      const s = new UrlSegmentGroup([], {});\n      res[getOutlet(r)] = s;\n    }\n  }\n  return {\n    ...children,\n    ...res\n  };\n}\nfunction createChildrenForEmptyPaths(routes, primarySegment) {\n  const res = {};\n  res[PRIMARY_OUTLET] = primarySegment;\n  for (const r of routes) {\n    if (r.path === '' && getOutlet(r) !== PRIMARY_OUTLET) {\n      const s = new UrlSegmentGroup([], {});\n      res[getOutlet(r)] = s;\n    }\n  }\n  return res;\n}\nfunction containsEmptyPathMatchesWithNamedOutlets(segmentGroup, slicedSegments, routes) {\n  return routes.some(r => emptyPathMatch(segmentGroup, slicedSegments, r) && getOutlet(r) !== PRIMARY_OUTLET);\n}\nfunction containsEmptyPathMatches(segmentGroup, slicedSegments, routes) {\n  return routes.some(r => emptyPathMatch(segmentGroup, slicedSegments, r));\n}\nfunction emptyPathMatch(segmentGroup, slicedSegments, r) {\n  if ((segmentGroup.hasChildren() || slicedSegments.length > 0) && r.pathMatch === 'full') {\n    return false;\n  }\n  return r.path === '';\n}\nfunction noLeftoversInUrl(segmentGroup, segments, outlet) {\n  return segments.length === 0 && !segmentGroup.children[outlet];\n}\n\nlet NoLeftoversInUrl$1 = class NoLeftoversInUrl {};\nasync function recognize$2(injector, configLoader, rootComponentType, config, urlTree, urlSerializer, paramsInheritanceStrategy = 'emptyOnly', abortSignal) {\n  return new Recognizer$1(injector, configLoader, rootComponentType, config, urlTree, paramsInheritanceStrategy, urlSerializer, abortSignal).recognize();\n}\nconst MAX_ALLOWED_REDIRECTS$1 = 31;\nlet Recognizer$1 = class Recognizer {\n  injector;\n  configLoader;\n  rootComponentType;\n  config;\n  urlTree;\n  paramsInheritanceStrategy;\n  urlSerializer;\n  abortSignal;\n  applyRedirects;\n  absoluteRedirectCount = 0;\n  allowRedirects = true;\n  constructor(injector, configLoader, rootComponentType, config, urlTree, paramsInheritanceStrategy, urlSerializer, abortSignal) {\n    this.injector = injector;\n    this.configLoader = configLoader;\n    this.rootComponentType = rootComponentType;\n    this.config = config;\n    this.urlTree = urlTree;\n    this.paramsInheritanceStrategy = paramsInheritanceStrategy;\n    this.urlSerializer = urlSerializer;\n    this.abortSignal = abortSignal;\n    this.applyRedirects = new ApplyRedirects$1(this.urlSerializer, this.urlTree);\n  }\n  noMatchError(e) {\n    return new _RuntimeError(4002, typeof ngDevMode === 'undefined' || ngDevMode ? `Cannot match any routes. URL Segment: '${e.segmentGroup}'` : `'${e.segmentGroup}'`);\n  }\n  async recognize() {\n    const rootSegmentGroup = split(this.urlTree.root, [], [], this.config).segmentGroup;\n    const {\n      children,\n      rootSnapshot\n    } = await this.match(rootSegmentGroup);\n    const rootNode = new TreeNode(rootSnapshot, children);\n    const routeState = new RouterStateSnapshot('', rootNode);\n    const tree = createUrlTreeFromSnapshot(rootSnapshot, [], this.urlTree.queryParams, this.urlTree.fragment);\n    tree.queryParams = this.urlTree.queryParams;\n    routeState.url = this.urlSerializer.serialize(tree);\n    return {\n      state: routeState,\n      tree\n    };\n  }\n  async match(rootSegmentGroup) {\n    const rootSnapshot = new ActivatedRouteSnapshot([], Object.freeze({}), Object.freeze({\n      ...this.urlTree.queryParams\n    }), this.urlTree.fragment, Object.freeze({}), PRIMARY_OUTLET, this.rootComponentType, null, {});\n    try {\n      const children = await this.processSegmentGroup(this.injector, this.config, rootSegmentGroup, PRIMARY_OUTLET, rootSnapshot);\n      return {\n        children,\n        rootSnapshot\n      };\n    } catch (e) {\n      if (e instanceof AbsoluteRedirect$1) {\n        this.urlTree = e.urlTree;\n        return this.match(e.urlTree.root);\n      }\n      if (e instanceof NoMatch$1) {\n        throw this.noMatchError(e);\n      }\n      throw e;\n    }\n  }\n  async processSegmentGroup(injector, config, segmentGroup, outlet, parentRoute) {\n    if (segmentGroup.segments.length === 0 && segmentGroup.hasChildren()) {\n      return this.processChildren(injector, config, segmentGroup, parentRoute);\n    }\n    const child = await this.processSegment(injector, config, segmentGroup, segmentGroup.segments, outlet, true, parentRoute);\n    return child instanceof TreeNode ? [child] : [];\n  }\n  async processChildren(injector, config, segmentGroup, parentRoute) {\n    const childOutlets = [];\n    for (const child of Object.keys(segmentGroup.children)) {\n      if (child === 'primary') {\n        childOutlets.unshift(child);\n      } else {\n        childOutlets.push(child);\n      }\n    }\n    let children = [];\n    for (const childOutlet of childOutlets) {\n      const child = segmentGroup.children[childOutlet];\n      const sortedConfig = sortByMatchingOutlets(config, childOutlet);\n      const outletChildren = await this.processSegmentGroup(injector, sortedConfig, child, childOutlet, parentRoute);\n      children.push(...outletChildren);\n    }\n    const mergedChildren = mergeEmptyPathMatches$1(children);\n    if (typeof ngDevMode === 'undefined' || ngDevMode) {\n      checkOutletNameUniqueness$1(mergedChildren);\n    }\n    sortActivatedRouteSnapshots$1(mergedChildren);\n    return mergedChildren;\n  }\n  async processSegment(injector, routes, segmentGroup, segments, outlet, allowRedirects, parentRoute) {\n    for (const r of routes) {\n      try {\n        return await this.processSegmentAgainstRoute(r._injector ?? injector, routes, r, segmentGroup, segments, outlet, allowRedirects, parentRoute);\n      } catch (e) {\n        if (e instanceof NoMatch$1 || isEmptyError(e)) {\n          continue;\n        }\n        throw e;\n      }\n    }\n    if (noLeftoversInUrl(segmentGroup, segments, outlet)) {\n      return new NoLeftoversInUrl$1();\n    }\n    throw new NoMatch$1(segmentGroup);\n  }\n  async processSegmentAgainstRoute(injector, routes, route, rawSegment, segments, outlet, allowRedirects, parentRoute) {\n    if (getOutlet(route) !== outlet && (outlet === PRIMARY_OUTLET || !emptyPathMatch(rawSegment, segments, route))) {\n      throw new NoMatch$1(rawSegment);\n    }\n    if (route.redirectTo === undefined) {\n      return this.matchSegmentAgainstRoute(injector, rawSegment, route, segments, outlet, parentRoute);\n    }\n    if (this.allowRedirects && allowRedirects) {\n      return this.expandSegmentAgainstRouteUsingRedirect(injector, rawSegment, routes, route, segments, outlet, parentRoute);\n    }\n    throw new NoMatch$1(rawSegment);\n  }\n  async expandSegmentAgainstRouteUsingRedirect(injector, segmentGroup, routes, route, segments, outlet, parentRoute) {\n    const {\n      matched,\n      parameters,\n      consumedSegments,\n      positionalParamSegments,\n      remainingSegments\n    } = match(segmentGroup, route, segments);\n    if (!matched) throw new NoMatch$1(segmentGroup);\n    if (typeof route.redirectTo === 'string' && route.redirectTo[0] === '/') {\n      this.absoluteRedirectCount++;\n      if (this.absoluteRedirectCount > MAX_ALLOWED_REDIRECTS$1) {\n        if (ngDevMode) {\n          throw new _RuntimeError(4016, `Detected possible infinite redirect when redirecting from '${this.urlTree}' to '${route.redirectTo}'.\\n` + `This is currently a dev mode only error but will become a` + ` call stack size exceeded error in production in a future major version.`);\n        }\n        this.allowRedirects = false;\n      }\n    }\n    const currentSnapshot = new ActivatedRouteSnapshot(segments, parameters, Object.freeze({\n      ...this.urlTree.queryParams\n    }), this.urlTree.fragment, getData$1(route), getOutlet(route), route.component ?? route._loadedComponent ?? null, route, getResolve$1(route));\n    const inherited = getInherited(currentSnapshot, parentRoute, this.paramsInheritanceStrategy);\n    currentSnapshot.params = Object.freeze(inherited.params);\n    currentSnapshot.data = Object.freeze(inherited.data);\n    if (this.abortSignal.aborted) {\n      throw new Error(this.abortSignal.reason);\n    }\n    const newTree = await this.applyRedirects.applyRedirectCommands(consumedSegments, route.redirectTo, positionalParamSegments, currentSnapshot, injector);\n    const newSegments = await this.applyRedirects.lineralizeSegments(route, newTree);\n    return this.processSegment(injector, routes, segmentGroup, newSegments.concat(remainingSegments), outlet, false, parentRoute);\n  }\n  async matchSegmentAgainstRoute(injector, rawSegment, route, segments, outlet, parentRoute) {\n    if (this.abortSignal.aborted) {\n      throw new Error(this.abortSignal.reason);\n    }\n    const result = await firstValueFrom(matchWithChecks(rawSegment, route, segments, injector, this.urlSerializer, this.abortSignal));\n    if (route.path === '**') {\n      rawSegment.children = {};\n    }\n    if (!result?.matched) {\n      throw new NoMatch$1(rawSegment);\n    }\n    injector = route._injector ?? injector;\n    const {\n      routes: childConfig\n    } = await this.getChildConfig(injector, route, segments);\n    const childInjector = route._loadedInjector ?? injector;\n    const {\n      parameters,\n      consumedSegments,\n      remainingSegments\n    } = result;\n    const snapshot = new ActivatedRouteSnapshot(consumedSegments, parameters, Object.freeze({\n      ...this.urlTree.queryParams\n    }), this.urlTree.fragment, getData$1(route), getOutlet(route), route.component ?? route._loadedComponent ?? null, route, getResolve$1(route));\n    const inherited = getInherited(snapshot, parentRoute, this.paramsInheritanceStrategy);\n    snapshot.params = Object.freeze(inherited.params);\n    snapshot.data = Object.freeze(inherited.data);\n    const {\n      segmentGroup,\n      slicedSegments\n    } = split(rawSegment, consumedSegments, remainingSegments, childConfig);\n    if (slicedSegments.length === 0 && segmentGroup.hasChildren()) {\n      const children = await this.processChildren(childInjector, childConfig, segmentGroup, snapshot);\n      return new TreeNode(snapshot, children);\n    }\n    if (childConfig.length === 0 && slicedSegments.length === 0) {\n      return new TreeNode(snapshot, []);\n    }\n    const matchedOnOutlet = getOutlet(route) === outlet;\n    const child = await this.processSegment(childInjector, childConfig, segmentGroup, slicedSegments, matchedOnOutlet ? PRIMARY_OUTLET : outlet, true, snapshot);\n    return new TreeNode(snapshot, child instanceof TreeNode ? [child] : []);\n  }\n  async getChildConfig(injector, route, segments) {\n    if (route.children) {\n      return {\n        routes: route.children,\n        injector\n      };\n    }\n    if (route.loadChildren) {\n      if (route._loadedRoutes !== undefined) {\n        return {\n          routes: route._loadedRoutes,\n          injector: route._loadedInjector\n        };\n      }\n      if (this.abortSignal.aborted) {\n        throw new Error(this.abortSignal.reason);\n      }\n      const shouldLoadResult = await firstValueFrom(runCanLoadGuards(injector, route, segments, this.urlSerializer, this.abortSignal));\n      if (shouldLoadResult) {\n        const cfg = await this.configLoader.loadChildren(injector, route);\n        route._loadedRoutes = cfg.routes;\n        route._loadedInjector = cfg.injector;\n        return cfg;\n      }\n      throw canLoadFails$1(route);\n    }\n    return {\n      routes: [],\n      injector\n    };\n  }\n};\nfunction sortActivatedRouteSnapshots$1(nodes) {\n  nodes.sort((a, b) => {\n    if (a.value.outlet === PRIMARY_OUTLET) return -1;\n    if (b.value.outlet === PRIMARY_OUTLET) return 1;\n    return a.value.outlet.localeCompare(b.value.outlet);\n  });\n}\nfunction hasEmptyPathConfig$1(node) {\n  const config = node.value.routeConfig;\n  return config && config.path === '';\n}\nfunction mergeEmptyPathMatches$1(nodes) {\n  const result = [];\n  const mergedNodes = new Set();\n  for (const node of nodes) {\n    if (!hasEmptyPathConfig$1(node)) {\n      result.push(node);\n      continue;\n    }\n    const duplicateEmptyPathNode = result.find(resultNode => node.value.routeConfig === resultNode.value.routeConfig);\n    if (duplicateEmptyPathNode !== undefined) {\n      duplicateEmptyPathNode.children.push(...node.children);\n      mergedNodes.add(duplicateEmptyPathNode);\n    } else {\n      result.push(node);\n    }\n  }\n  for (const mergedNode of mergedNodes) {\n    const mergedChildren = mergeEmptyPathMatches$1(mergedNode.children);\n    result.push(new TreeNode(mergedNode.value, mergedChildren));\n  }\n  return result.filter(n => !mergedNodes.has(n));\n}\nfunction checkOutletNameUniqueness$1(nodes) {\n  const names = {};\n  nodes.forEach(n => {\n    const routeWithSameOutletName = names[n.value.outlet];\n    if (routeWithSameOutletName) {\n      const p = routeWithSameOutletName.url.map(s => s.toString()).join('/');\n      const c = n.value.url.map(s => s.toString()).join('/');\n      throw new _RuntimeError(4006, (typeof ngDevMode === 'undefined' || ngDevMode) && `Two segments cannot have the same outlet name: '${p}' and '${c}'.`);\n    }\n    names[n.value.outlet] = n.value;\n  });\n}\nfunction getData$1(route) {\n  return route.data || {};\n}\nfunction getResolve$1(route) {\n  return route.resolve || {};\n}\n\nclass NoMatch {\n  segmentGroup;\n  constructor(segmentGroup) {\n    this.segmentGroup = segmentGroup || null;\n  }\n}\nclass AbsoluteRedirect extends Error {\n  urlTree;\n  constructor(urlTree) {\n    super();\n    this.urlTree = urlTree;\n  }\n}\nfunction noMatch(segmentGroup) {\n  return throwError(new NoMatch(segmentGroup));\n}\nfunction namedOutletsRedirect(redirectTo) {\n  return throwError(new _RuntimeError(4000, (typeof ngDevMode === 'undefined' || ngDevMode) && `Only absolute redirects can have named outlets. redirectTo: '${redirectTo}'`));\n}\nfunction canLoadFails(route) {\n  return throwError(navigationCancelingError((typeof ngDevMode === 'undefined' || ngDevMode) && `Cannot load children because the guard of the route \"path: '${route.path}'\" returned false`, NavigationCancellationCode.GuardRejected));\n}\nclass ApplyRedirects {\n  urlSerializer;\n  urlTree;\n  constructor(urlSerializer, urlTree) {\n    this.urlSerializer = urlSerializer;\n    this.urlTree = urlTree;\n  }\n  lineralizeSegments(route, urlTree) {\n    let res = [];\n    let c = urlTree.root;\n    while (true) {\n      res = res.concat(c.segments);\n      if (c.numberOfChildren === 0) {\n        return of(res);\n      }\n      if (c.numberOfChildren > 1 || !c.children[PRIMARY_OUTLET]) {\n        return namedOutletsRedirect(`${route.redirectTo}`);\n      }\n      c = c.children[PRIMARY_OUTLET];\n    }\n  }\n  applyRedirectCommands(segments, redirectTo, posParams, currentSnapshot, injector) {\n    return getRedirectResult(redirectTo, currentSnapshot, injector).pipe(map(redirect => {\n      if (redirect instanceof UrlTree) {\n        throw new AbsoluteRedirect(redirect);\n      }\n      const newTree = this.applyRedirectCreateUrlTree(redirect, this.urlSerializer.parse(redirect), segments, posParams);\n      if (redirect[0] === '/') {\n        throw new AbsoluteRedirect(newTree);\n      }\n      return newTree;\n    }));\n  }\n  applyRedirectCreateUrlTree(redirectTo, urlTree, segments, posParams) {\n    const newRoot = this.createSegmentGroup(redirectTo, urlTree.root, segments, posParams);\n    return new UrlTree(newRoot, this.createQueryParams(urlTree.queryParams, this.urlTree.queryParams), urlTree.fragment);\n  }\n  createQueryParams(redirectToParams, actualParams) {\n    const res = {};\n    Object.entries(redirectToParams).forEach(([k, v]) => {\n      const copySourceValue = typeof v === 'string' && v[0] === ':';\n      if (copySourceValue) {\n        const sourceName = v.substring(1);\n        res[k] = actualParams[sourceName];\n      } else {\n        res[k] = v;\n      }\n    });\n    return res;\n  }\n  createSegmentGroup(redirectTo, group, segments, posParams) {\n    const updatedSegments = this.createSegments(redirectTo, group.segments, segments, posParams);\n    let children = {};\n    Object.entries(group.children).forEach(([name, child]) => {\n      children[name] = this.createSegmentGroup(redirectTo, child, segments, posParams);\n    });\n    return new UrlSegmentGroup(updatedSegments, children);\n  }\n  createSegments(redirectTo, redirectToSegments, actualSegments, posParams) {\n    return redirectToSegments.map(s => s.path[0] === ':' ? this.findPosParam(redirectTo, s, posParams) : this.findOrReturn(s, actualSegments));\n  }\n  findPosParam(redirectTo, redirectToUrlSegment, posParams) {\n    const pos = posParams[redirectToUrlSegment.path.substring(1)];\n    if (!pos) throw new _RuntimeError(4001, (typeof ngDevMode === 'undefined' || ngDevMode) && `Cannot redirect to '${redirectTo}'. Cannot find '${redirectToUrlSegment.path}'.`);\n    return pos;\n  }\n  findOrReturn(redirectToUrlSegment, actualSegments) {\n    let idx = 0;\n    for (const s of actualSegments) {\n      if (s.path === redirectToUrlSegment.path) {\n        actualSegments.splice(idx);\n        return s;\n      }\n      idx++;\n    }\n    return redirectToUrlSegment;\n  }\n}\nfunction getRedirectResult(redirectTo, currentSnapshot, injector) {\n  if (typeof redirectTo === 'string') {\n    return of(redirectTo);\n  }\n  const redirectToFn = redirectTo;\n  const {\n    queryParams,\n    fragment,\n    routeConfig,\n    url,\n    outlet,\n    params,\n    data,\n    title\n  } = currentSnapshot;\n  return wrapIntoObservable(runInInjectionContext(injector, () => redirectToFn({\n    params,\n    data,\n    queryParams,\n    fragment,\n    routeConfig,\n    url,\n    outlet,\n    title\n  })));\n}\n\nclass NoLeftoversInUrl {}\nfunction recognize$1(injector, configLoader, rootComponentType, config, urlTree, urlSerializer, paramsInheritanceStrategy = 'emptyOnly', abortSignal) {\n  return new Recognizer(injector, configLoader, rootComponentType, config, urlTree, paramsInheritanceStrategy, urlSerializer).recognize();\n}\nconst MAX_ALLOWED_REDIRECTS = 31;\nclass Recognizer {\n  injector;\n  configLoader;\n  rootComponentType;\n  config;\n  urlTree;\n  paramsInheritanceStrategy;\n  urlSerializer;\n  applyRedirects;\n  absoluteRedirectCount = 0;\n  allowRedirects = true;\n  constructor(injector, configLoader, rootComponentType, config, urlTree, paramsInheritanceStrategy, urlSerializer) {\n    this.injector = injector;\n    this.configLoader = configLoader;\n    this.rootComponentType = rootComponentType;\n    this.config = config;\n    this.urlTree = urlTree;\n    this.paramsInheritanceStrategy = paramsInheritanceStrategy;\n    this.urlSerializer = urlSerializer;\n    this.applyRedirects = new ApplyRedirects(this.urlSerializer, this.urlTree);\n  }\n  noMatchError(e) {\n    return new _RuntimeError(4002, typeof ngDevMode === 'undefined' || ngDevMode ? `Cannot match any routes. URL Segment: '${e.segmentGroup}'` : `'${e.segmentGroup}'`);\n  }\n  recognize() {\n    const rootSegmentGroup = split(this.urlTree.root, [], [], this.config).segmentGroup;\n    return this.match(rootSegmentGroup).pipe(map(({\n      children,\n      rootSnapshot\n    }) => {\n      const rootNode = new TreeNode(rootSnapshot, children);\n      const routeState = new RouterStateSnapshot('', rootNode);\n      const tree = createUrlTreeFromSnapshot(rootSnapshot, [], this.urlTree.queryParams, this.urlTree.fragment);\n      tree.queryParams = this.urlTree.queryParams;\n      routeState.url = this.urlSerializer.serialize(tree);\n      return {\n        state: routeState,\n        tree\n      };\n    }));\n  }\n  match(rootSegmentGroup) {\n    const rootSnapshot = new ActivatedRouteSnapshot([], Object.freeze({}), Object.freeze({\n      ...this.urlTree.queryParams\n    }), this.urlTree.fragment, Object.freeze({}), PRIMARY_OUTLET, this.rootComponentType, null, {});\n    return this.processSegmentGroup(this.injector, this.config, rootSegmentGroup, PRIMARY_OUTLET, rootSnapshot).pipe(map(children => {\n      return {\n        children,\n        rootSnapshot\n      };\n    }), catchError(e => {\n      if (e instanceof AbsoluteRedirect) {\n        this.urlTree = e.urlTree;\n        return this.match(e.urlTree.root);\n      }\n      if (e instanceof NoMatch) {\n        throw this.noMatchError(e);\n      }\n      throw e;\n    }));\n  }\n  processSegmentGroup(injector, config, segmentGroup, outlet, parentRoute) {\n    if (segmentGroup.segments.length === 0 && segmentGroup.hasChildren()) {\n      return this.processChildren(injector, config, segmentGroup, parentRoute);\n    }\n    return this.processSegment(injector, config, segmentGroup, segmentGroup.segments, outlet, true, parentRoute).pipe(map(child => child instanceof TreeNode ? [child] : []));\n  }\n  processChildren(injector, config, segmentGroup, parentRoute) {\n    const childOutlets = [];\n    for (const child of Object.keys(segmentGroup.children)) {\n      if (child === 'primary') {\n        childOutlets.unshift(child);\n      } else {\n        childOutlets.push(child);\n      }\n    }\n    return from(childOutlets).pipe(concatMap(childOutlet => {\n      const child = segmentGroup.children[childOutlet];\n      const sortedConfig = sortByMatchingOutlets(config, childOutlet);\n      return this.processSegmentGroup(injector, sortedConfig, child, childOutlet, parentRoute);\n    }), scan((children, outletChildren) => {\n      children.push(...outletChildren);\n      return children;\n    }), defaultIfEmpty(null), last$1(), mergeMap(children => {\n      if (children === null) return noMatch(segmentGroup);\n      const mergedChildren = mergeEmptyPathMatches(children);\n      if (typeof ngDevMode === 'undefined' || ngDevMode) {\n        checkOutletNameUniqueness(mergedChildren);\n      }\n      sortActivatedRouteSnapshots(mergedChildren);\n      return of(mergedChildren);\n    }));\n  }\n  processSegment(injector, routes, segmentGroup, segments, outlet, allowRedirects, parentRoute) {\n    return from(routes).pipe(concatMap(r => {\n      return this.processSegmentAgainstRoute(r._injector ?? injector, routes, r, segmentGroup, segments, outlet, allowRedirects, parentRoute).pipe(catchError(e => {\n        if (e instanceof NoMatch) {\n          return of(null);\n        }\n        throw e;\n      }));\n    }), first(x => !!x), catchError(e => {\n      if (isEmptyError(e)) {\n        if (noLeftoversInUrl(segmentGroup, segments, outlet)) {\n          return of(new NoLeftoversInUrl());\n        }\n        return noMatch(segmentGroup);\n      }\n      throw e;\n    }));\n  }\n  processSegmentAgainstRoute(injector, routes, route, rawSegment, segments, outlet, allowRedirects, parentRoute) {\n    if (getOutlet(route) !== outlet && (outlet === PRIMARY_OUTLET || !emptyPathMatch(rawSegment, segments, route))) {\n      return noMatch(rawSegment);\n    }\n    if (route.redirectTo === undefined) {\n      return this.matchSegmentAgainstRoute(injector, rawSegment, route, segments, outlet, parentRoute);\n    }\n    if (this.allowRedirects && allowRedirects) {\n      return this.expandSegmentAgainstRouteUsingRedirect(injector, rawSegment, routes, route, segments, outlet, parentRoute);\n    }\n    return noMatch(rawSegment);\n  }\n  expandSegmentAgainstRouteUsingRedirect(injector, segmentGroup, routes, route, segments, outlet, parentRoute) {\n    const {\n      matched,\n      parameters,\n      consumedSegments,\n      positionalParamSegments,\n      remainingSegments\n    } = match(segmentGroup, route, segments);\n    if (!matched) return noMatch(segmentGroup);\n    if (typeof route.redirectTo === 'string' && route.redirectTo[0] === '/') {\n      this.absoluteRedirectCount++;\n      if (this.absoluteRedirectCount > MAX_ALLOWED_REDIRECTS) {\n        if (ngDevMode) {\n          throw new _RuntimeError(4016, `Detected possible infinite redirect when redirecting from '${this.urlTree}' to '${route.redirectTo}'.\\n` + `This is currently a dev mode only error but will become a` + ` call stack size exceeded error in production in a future major version.`);\n        }\n        this.allowRedirects = false;\n      }\n    }\n    const currentSnapshot = new ActivatedRouteSnapshot(segments, parameters, Object.freeze({\n      ...this.urlTree.queryParams\n    }), this.urlTree.fragment, getData(route), getOutlet(route), route.component ?? route._loadedComponent ?? null, route, getResolve(route));\n    const inherited = getInherited(currentSnapshot, parentRoute, this.paramsInheritanceStrategy);\n    currentSnapshot.params = Object.freeze(inherited.params);\n    currentSnapshot.data = Object.freeze(inherited.data);\n    const newTree$ = this.applyRedirects.applyRedirectCommands(consumedSegments, route.redirectTo, positionalParamSegments, currentSnapshot, injector);\n    return newTree$.pipe(switchMap(newTree => this.applyRedirects.lineralizeSegments(route, newTree)), mergeMap(newSegments => {\n      return this.processSegment(injector, routes, segmentGroup, newSegments.concat(remainingSegments), outlet, false, parentRoute);\n    }));\n  }\n  matchSegmentAgainstRoute(injector, rawSegment, route, segments, outlet, parentRoute) {\n    const matchResult = matchWithChecks(rawSegment, route, segments, injector, this.urlSerializer);\n    if (route.path === '**') {\n      rawSegment.children = {};\n    }\n    return matchResult.pipe(switchMap(result => {\n      if (!result.matched) {\n        return noMatch(rawSegment);\n      }\n      injector = route._injector ?? injector;\n      return this.getChildConfig(injector, route, segments).pipe(switchMap(({\n        routes: childConfig\n      }) => {\n        const childInjector = route._loadedInjector ?? injector;\n        const {\n          parameters,\n          consumedSegments,\n          remainingSegments\n        } = result;\n        const snapshot = new ActivatedRouteSnapshot(consumedSegments, parameters, Object.freeze({\n          ...this.urlTree.queryParams\n        }), this.urlTree.fragment, getData(route), getOutlet(route), route.component ?? route._loadedComponent ?? null, route, getResolve(route));\n        const inherited = getInherited(snapshot, parentRoute, this.paramsInheritanceStrategy);\n        snapshot.params = Object.freeze(inherited.params);\n        snapshot.data = Object.freeze(inherited.data);\n        const {\n          segmentGroup,\n          slicedSegments\n        } = split(rawSegment, consumedSegments, remainingSegments, childConfig);\n        if (slicedSegments.length === 0 && segmentGroup.hasChildren()) {\n          return this.processChildren(childInjector, childConfig, segmentGroup, snapshot).pipe(map(children => {\n            return new TreeNode(snapshot, children);\n          }));\n        }\n        if (childConfig.length === 0 && slicedSegments.length === 0) {\n          return of(new TreeNode(snapshot, []));\n        }\n        const matchedOnOutlet = getOutlet(route) === outlet;\n        return this.processSegment(childInjector, childConfig, segmentGroup, slicedSegments, matchedOnOutlet ? PRIMARY_OUTLET : outlet, true, snapshot).pipe(map(child => {\n          return new TreeNode(snapshot, child instanceof TreeNode ? [child] : []);\n        }));\n      }));\n    }));\n  }\n  getChildConfig(injector, route, segments) {\n    if (route.children) {\n      return of({\n        routes: route.children,\n        injector\n      });\n    }\n    if (route.loadChildren) {\n      if (route._loadedRoutes !== undefined) {\n        return of({\n          routes: route._loadedRoutes,\n          injector: route._loadedInjector\n        });\n      }\n      return runCanLoadGuards(injector, route, segments, this.urlSerializer).pipe(mergeMap(shouldLoadResult => {\n        if (shouldLoadResult) {\n          return from(this.configLoader.loadChildren(injector, route)).pipe(tap(cfg => {\n            route._loadedRoutes = cfg.routes;\n            route._loadedInjector = cfg.injector;\n          }));\n        }\n        return canLoadFails(route);\n      }));\n    }\n    return of({\n      routes: [],\n      injector\n    });\n  }\n}\nfunction sortActivatedRouteSnapshots(nodes) {\n  nodes.sort((a, b) => {\n    if (a.value.outlet === PRIMARY_OUTLET) return -1;\n    if (b.value.outlet === PRIMARY_OUTLET) return 1;\n    return a.value.outlet.localeCompare(b.value.outlet);\n  });\n}\nfunction hasEmptyPathConfig(node) {\n  const config = node.value.routeConfig;\n  return config && config.path === '';\n}\nfunction mergeEmptyPathMatches(nodes) {\n  const result = [];\n  const mergedNodes = new Set();\n  for (const node of nodes) {\n    if (!hasEmptyPathConfig(node)) {\n      result.push(node);\n      continue;\n    }\n    const duplicateEmptyPathNode = result.find(resultNode => node.value.routeConfig === resultNode.value.routeConfig);\n    if (duplicateEmptyPathNode !== undefined) {\n      duplicateEmptyPathNode.children.push(...node.children);\n      mergedNodes.add(duplicateEmptyPathNode);\n    } else {\n      result.push(node);\n    }\n  }\n  for (const mergedNode of mergedNodes) {\n    const mergedChildren = mergeEmptyPathMatches(mergedNode.children);\n    result.push(new TreeNode(mergedNode.value, mergedChildren));\n  }\n  return result.filter(n => !mergedNodes.has(n));\n}\nfunction checkOutletNameUniqueness(nodes) {\n  const names = {};\n  nodes.forEach(n => {\n    const routeWithSameOutletName = names[n.value.outlet];\n    if (routeWithSameOutletName) {\n      const p = routeWithSameOutletName.url.map(s => s.toString()).join('/');\n      const c = n.value.url.map(s => s.toString()).join('/');\n      throw new _RuntimeError(4006, (typeof ngDevMode === 'undefined' || ngDevMode) && `Two segments cannot have the same outlet name: '${p}' and '${c}'.`);\n    }\n    names[n.value.outlet] = n.value;\n  });\n}\nfunction getData(route) {\n  return route.data || {};\n}\nfunction getResolve(route) {\n  return route.resolve || {};\n}\n\nconst RECOGNIZE_IMPL = new InjectionToken(typeof ngDevMode !== 'undefined' && ngDevMode ? 'RECOGNIZE_IMPL' : '', {\n  factory: () => {\n    return recognize$2;\n  }\n});\nfunction provideSometimesSyncRecognize() {\n  return makeEnvironmentProviders([{\n    provide: RECOGNIZE_IMPL,\n    useValue: recognize$1\n  }]);\n}\nfunction recognize(injector, configLoader, rootComponentType, config, serializer, paramsInheritanceStrategy, abortSignal) {\n  const recognizeImpl = injector.get(RECOGNIZE_IMPL);\n  return mergeMap(t => of(t).pipe(switchMap(t => recognizeImpl(injector, configLoader, rootComponentType, config, t.extractedUrl, serializer, paramsInheritanceStrategy, abortSignal)), map(({\n    state: targetSnapshot,\n    tree: urlAfterRedirects\n  }) => {\n    return {\n      ...t,\n      targetSnapshot,\n      urlAfterRedirects\n    };\n  })));\n}\n\nfunction resolveData(paramsInheritanceStrategy, injector) {\n  return mergeMap(t => {\n    const {\n      targetSnapshot,\n      guards: {\n        canActivateChecks\n      }\n    } = t;\n    if (!canActivateChecks.length) {\n      return of(t);\n    }\n    const routesWithResolversToRun = new Set(canActivateChecks.map(check => check.route));\n    const routesNeedingDataUpdates = new Set();\n    for (const route of routesWithResolversToRun) {\n      if (routesNeedingDataUpdates.has(route)) {\n        continue;\n      }\n      for (const newRoute of flattenRouteTree(route)) {\n        routesNeedingDataUpdates.add(newRoute);\n      }\n    }\n    let routesProcessed = 0;\n    return from(routesNeedingDataUpdates).pipe(concatMap(route => {\n      if (routesWithResolversToRun.has(route)) {\n        return runResolve(route, targetSnapshot, paramsInheritanceStrategy, injector);\n      } else {\n        route.data = getInherited(route, route.parent, paramsInheritanceStrategy).resolve;\n        return of(void 0);\n      }\n    }), tap(() => routesProcessed++), takeLast(1), mergeMap(_ => routesProcessed === routesNeedingDataUpdates.size ? of(t) : EMPTY));\n  });\n}\nfunction flattenRouteTree(route) {\n  const descendants = route.children.map(child => flattenRouteTree(child)).flat();\n  return [route, ...descendants];\n}\nfunction runResolve(futureARS, futureRSS, paramsInheritanceStrategy, injector) {\n  const config = futureARS.routeConfig;\n  const resolve = futureARS._resolve;\n  if (config?.title !== undefined && !hasStaticTitle(config)) {\n    resolve[RouteTitleKey] = config.title;\n  }\n  return defer(() => {\n    futureARS.data = getInherited(futureARS, futureARS.parent, paramsInheritanceStrategy).resolve;\n    return resolveNode(resolve, futureARS, futureRSS, injector).pipe(map(resolvedData => {\n      futureARS._resolvedData = resolvedData;\n      futureARS.data = {\n        ...futureARS.data,\n        ...resolvedData\n      };\n      return null;\n    }));\n  });\n}\nfunction resolveNode(resolve, futureARS, futureRSS, injector) {\n  const keys = getDataKeys(resolve);\n  if (keys.length === 0) {\n    return of({});\n  }\n  const data = {};\n  return from(keys).pipe(mergeMap(key => getResolver(resolve[key], futureARS, futureRSS, injector).pipe(first(), tap(value => {\n    if (value instanceof RedirectCommand) {\n      throw redirectingNavigationError(new DefaultUrlSerializer(), value);\n    }\n    data[key] = value;\n  }))), takeLast(1), map(() => data), catchError(e => isEmptyError(e) ? EMPTY : throwError(e)));\n}\nfunction getResolver(injectionToken, futureARS, futureRSS, injector) {\n  const closestInjector = getClosestRouteInjector(futureARS) ?? injector;\n  const resolver = getTokenOrFunctionIdentity(injectionToken, closestInjector);\n  const resolverValue = resolver.resolve ? resolver.resolve(futureARS, futureRSS) : runInInjectionContext(closestInjector, () => resolver(futureARS, futureRSS));\n  return wrapIntoObservable(resolverValue);\n}\n\nfunction switchTap(next) {\n  return switchMap(v => {\n    const nextResult = next(v);\n    if (nextResult) {\n      return from(nextResult).pipe(map(() => v));\n    }\n    return of(v);\n  });\n}\n\nclass TitleStrategy {\n  buildTitle(snapshot) {\n    let pageTitle;\n    let route = snapshot.root;\n    while (route !== undefined) {\n      pageTitle = this.getResolvedTitleForRoute(route) ?? pageTitle;\n      route = route.children.find(child => child.outlet === PRIMARY_OUTLET);\n    }\n    return pageTitle;\n  }\n  getResolvedTitleForRoute(snapshot) {\n    return snapshot.data[RouteTitleKey];\n  }\n  static ɵfac = i0.ɵɵngDeclareFactory({\n    minVersion: \"12.0.0\",\n    version: \"21.0.6\",\n    ngImport: i0,\n    type: TitleStrategy,\n    deps: [],\n    target: i0.ɵɵFactoryTarget.Injectable\n  });\n  static ɵprov = i0.ɵɵngDeclareInjectable({\n    minVersion: \"12.0.0\",\n    version: \"21.0.6\",\n    ngImport: i0,\n    type: TitleStrategy,\n    providedIn: 'root',\n    useFactory: () => inject(DefaultTitleStrategy)\n  });\n}\ni0.ɵɵngDeclareClassMetadata({\n  minVersion: \"12.0.0\",\n  version: \"21.0.6\",\n  ngImport: i0,\n  type: TitleStrategy,\n  decorators: [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root',\n      useFactory: () => inject(DefaultTitleStrategy)\n    }]\n  }]\n});\nclass DefaultTitleStrategy extends TitleStrategy {\n  title;\n  constructor(title) {\n    super();\n    this.title = title;\n  }\n  updateTitle(snapshot) {\n    const title = this.buildTitle(snapshot);\n    if (title !== undefined) {\n      this.title.setTitle(title);\n    }\n  }\n  static ɵfac = i0.ɵɵngDeclareFactory({\n    minVersion: \"12.0.0\",\n    version: \"21.0.6\",\n    ngImport: i0,\n    type: DefaultTitleStrategy,\n    deps: [{\n      token: i1.Title\n    }],\n    target: i0.ɵɵFactoryTarget.Injectable\n  });\n  static ɵprov = i0.ɵɵngDeclareInjectable({\n    minVersion: \"12.0.0\",\n    version: \"21.0.6\",\n    ngImport: i0,\n    type: DefaultTitleStrategy,\n    providedIn: 'root'\n  });\n}\ni0.ɵɵngDeclareClassMetadata({\n  minVersion: \"12.0.0\",\n  version: \"21.0.6\",\n  ngImport: i0,\n  type: DefaultTitleStrategy,\n  decorators: [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }],\n  ctorParameters: () => [{\n    type: i1.Title\n  }]\n});\n\nconst ROUTER_CONFIGURATION = new InjectionToken(typeof ngDevMode === 'undefined' || ngDevMode ? 'router config' : '', {\n  factory: () => ({})\n});\n\nconst ROUTES = new InjectionToken(typeof ngDevMode !== 'undefined' && ngDevMode ? 'ROUTES' : '');\nclass RouterConfigLoader {\n  componentLoaders = new WeakMap();\n  childrenLoaders = new WeakMap();\n  onLoadStartListener;\n  onLoadEndListener;\n  compiler = inject(Compiler);\n  async loadComponent(injector, route) {\n    if (this.componentLoaders.get(route)) {\n      return this.componentLoaders.get(route);\n    } else if (route._loadedComponent) {\n      return Promise.resolve(route._loadedComponent);\n    }\n    if (this.onLoadStartListener) {\n      this.onLoadStartListener(route);\n    }\n    const loader = (async () => {\n      try {\n        const loaded = await wrapIntoPromise(runInInjectionContext(injector, () => route.loadComponent()));\n        const component = await maybeResolveResources(maybeUnwrapDefaultExport(loaded));\n        if (this.onLoadEndListener) {\n          this.onLoadEndListener(route);\n        }\n        (typeof ngDevMode === 'undefined' || ngDevMode) && assertStandalone(route.path ?? '', component);\n        route._loadedComponent = component;\n        return component;\n      } finally {\n        this.componentLoaders.delete(route);\n      }\n    })();\n    this.componentLoaders.set(route, loader);\n    return loader;\n  }\n  loadChildren(parentInjector, route) {\n    if (this.childrenLoaders.get(route)) {\n      return this.childrenLoaders.get(route);\n    } else if (route._loadedRoutes) {\n      return Promise.resolve({\n        routes: route._loadedRoutes,\n        injector: route._loadedInjector\n      });\n    }\n    if (this.onLoadStartListener) {\n      this.onLoadStartListener(route);\n    }\n    const loader = (async () => {\n      try {\n        const result = await loadChildren(route, this.compiler, parentInjector, this.onLoadEndListener);\n        route._loadedRoutes = result.routes;\n        route._loadedInjector = result.injector;\n        return result;\n      } finally {\n        this.childrenLoaders.delete(route);\n      }\n    })();\n    this.childrenLoaders.set(route, loader);\n    return loader;\n  }\n  static ɵfac = i0.ɵɵngDeclareFactory({\n    minVersion: \"12.0.0\",\n    version: \"21.0.6\",\n    ngImport: i0,\n    type: RouterConfigLoader,\n    deps: [],\n    target: i0.ɵɵFactoryTarget.Injectable\n  });\n  static ɵprov = i0.ɵɵngDeclareInjectable({\n    minVersion: \"12.0.0\",\n    version: \"21.0.6\",\n    ngImport: i0,\n    type: RouterConfigLoader,\n    providedIn: 'root'\n  });\n}\ni0.ɵɵngDeclareClassMetadata({\n  minVersion: \"12.0.0\",\n  version: \"21.0.6\",\n  ngImport: i0,\n  type: RouterConfigLoader,\n  decorators: [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }]\n});\nasync function loadChildren(route, compiler, parentInjector, onLoadEndListener) {\n  const loaded = await wrapIntoPromise(runInInjectionContext(parentInjector, () => route.loadChildren()));\n  const t = await maybeResolveResources(maybeUnwrapDefaultExport(loaded));\n  let factoryOrRoutes;\n  if (t instanceof NgModuleFactory || Array.isArray(t)) {\n    factoryOrRoutes = t;\n  } else {\n    factoryOrRoutes = await compiler.compileModuleAsync(t);\n  }\n  if (onLoadEndListener) {\n    onLoadEndListener(route);\n  }\n  let injector;\n  let rawRoutes;\n  let requireStandaloneComponents = false;\n  if (Array.isArray(factoryOrRoutes)) {\n    rawRoutes = factoryOrRoutes;\n    requireStandaloneComponents = true;\n  } else {\n    injector = factoryOrRoutes.create(parentInjector).injector;\n    rawRoutes = injector.get(ROUTES, [], {\n      optional: true,\n      self: true\n    }).flat();\n  }\n  const routes = rawRoutes.map(standardizeConfig);\n  (typeof ngDevMode === 'undefined' || ngDevMode) && validateConfig(routes, route.path, requireStandaloneComponents);\n  return {\n    routes,\n    injector\n  };\n}\nfunction isWrappedDefaultExport(value) {\n  return value && typeof value === 'object' && 'default' in value;\n}\nfunction maybeUnwrapDefaultExport(input) {\n  return isWrappedDefaultExport(input) ? input['default'] : input;\n}\nasync function maybeResolveResources(value) {\n  if ((typeof ngJitMode === 'undefined' || ngJitMode) && typeof fetch === 'function') {\n    try {\n      await _resolveComponentResources(fetch);\n    } catch (error) {\n      console.error(error);\n    }\n  }\n  return value;\n}\n\nclass UrlHandlingStrategy {\n  static ɵfac = i0.ɵɵngDeclareFactory({\n    minVersion: \"12.0.0\",\n    version: \"21.0.6\",\n    ngImport: i0,\n    type: UrlHandlingStrategy,\n    deps: [],\n    target: i0.ɵɵFactoryTarget.Injectable\n  });\n  static ɵprov = i0.ɵɵngDeclareInjectable({\n    minVersion: \"12.0.0\",\n    version: \"21.0.6\",\n    ngImport: i0,\n    type: UrlHandlingStrategy,\n    providedIn: 'root',\n    useFactory: () => inject(DefaultUrlHandlingStrategy)\n  });\n}\ni0.ɵɵngDeclareClassMetadata({\n  minVersion: \"12.0.0\",\n  version: \"21.0.6\",\n  ngImport: i0,\n  type: UrlHandlingStrategy,\n  decorators: [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root',\n      useFactory: () => inject(DefaultUrlHandlingStrategy)\n    }]\n  }]\n});\nclass DefaultUrlHandlingStrategy {\n  shouldProcessUrl(url) {\n    return true;\n  }\n  extract(url) {\n    return url;\n  }\n  merge(newUrlPart, wholeUrl) {\n    return newUrlPart;\n  }\n  static ɵfac = i0.ɵɵngDeclareFactory({\n    minVersion: \"12.0.0\",\n    version: \"21.0.6\",\n    ngImport: i0,\n    type: DefaultUrlHandlingStrategy,\n    deps: [],\n    target: i0.ɵɵFactoryTarget.Injectable\n  });\n  static ɵprov = i0.ɵɵngDeclareInjectable({\n    minVersion: \"12.0.0\",\n    version: \"21.0.6\",\n    ngImport: i0,\n    type: DefaultUrlHandlingStrategy,\n    providedIn: 'root'\n  });\n}\ni0.ɵɵngDeclareClassMetadata({\n  minVersion: \"12.0.0\",\n  version: \"21.0.6\",\n  ngImport: i0,\n  type: DefaultUrlHandlingStrategy,\n  decorators: [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }]\n});\n\nconst CREATE_VIEW_TRANSITION = new InjectionToken(typeof ngDevMode !== 'undefined' && ngDevMode ? 'view transition helper' : '');\nconst VIEW_TRANSITION_OPTIONS = new InjectionToken(typeof ngDevMode !== 'undefined' && ngDevMode ? 'view transition options' : '');\nfunction createViewTransition(injector, from, to) {\n  const transitionOptions = injector.get(VIEW_TRANSITION_OPTIONS);\n  const document = injector.get(DOCUMENT);\n  if (!document.startViewTransition || transitionOptions.skipNextTransition) {\n    transitionOptions.skipNextTransition = false;\n    return new Promise(resolve => setTimeout(resolve));\n  }\n  let resolveViewTransitionStarted;\n  const viewTransitionStarted = new Promise(resolve => {\n    resolveViewTransitionStarted = resolve;\n  });\n  const transition = document.startViewTransition(() => {\n    resolveViewTransitionStarted();\n    return createRenderPromise(injector);\n  });\n  transition.ready.catch(error => {\n    if (typeof ngDevMode === 'undefined' || ngDevMode) {\n      console.error(error);\n    }\n  });\n  transition.finished.catch(error => {\n    if (typeof ngDevMode === 'undefined' || ngDevMode) {\n      console.error(error);\n    }\n  });\n  const {\n    onViewTransitionCreated\n  } = transitionOptions;\n  if (onViewTransitionCreated) {\n    runInInjectionContext(injector, () => onViewTransitionCreated({\n      transition,\n      from,\n      to\n    }));\n  }\n  return viewTransitionStarted;\n}\nfunction createRenderPromise(injector) {\n  return new Promise(resolve => {\n    afterNextRender({\n      read: () => setTimeout(resolve)\n    }, {\n      injector\n    });\n  });\n}\n\nconst noop = () => {};\nconst NAVIGATION_ERROR_HANDLER = new InjectionToken(typeof ngDevMode === 'undefined' || ngDevMode ? 'navigation error handler' : '');\nclass NavigationTransitions {\n  currentNavigation = signal(null, {\n    ...(ngDevMode ? {\n      debugName: \"currentNavigation\"\n    } : {}),\n    equal: () => false\n  });\n  currentTransition = null;\n  lastSuccessfulNavigation = signal(null, ...(ngDevMode ? [{\n    debugName: \"lastSuccessfulNavigation\"\n  }] : []));\n  events = new Subject();\n  transitionAbortWithErrorSubject = new Subject();\n  configLoader = inject(RouterConfigLoader);\n  environmentInjector = inject(EnvironmentInjector);\n  destroyRef = inject(DestroyRef);\n  urlSerializer = inject(UrlSerializer);\n  rootContexts = inject(ChildrenOutletContexts);\n  location = inject(Location);\n  inputBindingEnabled = inject(INPUT_BINDER, {\n    optional: true\n  }) !== null;\n  titleStrategy = inject(TitleStrategy);\n  options = inject(ROUTER_CONFIGURATION, {\n    optional: true\n  }) || {};\n  paramsInheritanceStrategy = this.options.paramsInheritanceStrategy || 'emptyOnly';\n  urlHandlingStrategy = inject(UrlHandlingStrategy);\n  createViewTransition = inject(CREATE_VIEW_TRANSITION, {\n    optional: true\n  });\n  navigationErrorHandler = inject(NAVIGATION_ERROR_HANDLER, {\n    optional: true\n  });\n  navigationId = 0;\n  get hasRequestedNavigation() {\n    return this.navigationId !== 0;\n  }\n  transitions;\n  afterPreactivation = () => of(void 0);\n  rootComponentType = null;\n  destroyed = false;\n  constructor() {\n    const onLoadStart = r => this.events.next(new RouteConfigLoadStart(r));\n    const onLoadEnd = r => this.events.next(new RouteConfigLoadEnd(r));\n    this.configLoader.onLoadEndListener = onLoadEnd;\n    this.configLoader.onLoadStartListener = onLoadStart;\n    this.destroyRef.onDestroy(() => {\n      this.destroyed = true;\n    });\n  }\n  complete() {\n    this.transitions?.complete();\n  }\n  handleNavigationRequest(request) {\n    const id = ++this.navigationId;\n    untracked(() => {\n      this.transitions?.next({\n        ...request,\n        extractedUrl: this.urlHandlingStrategy.extract(request.rawUrl),\n        targetSnapshot: null,\n        targetRouterState: null,\n        guards: {\n          canActivateChecks: [],\n          canDeactivateChecks: []\n        },\n        guardsResult: null,\n        id\n      });\n    });\n  }\n  setupNavigations(router) {\n    this.transitions = new BehaviorSubject(null);\n    return this.transitions.pipe(filter(t => t !== null), switchMap(overallTransitionState => {\n      let completedOrAborted = false;\n      const abortController = new AbortController();\n      return of(overallTransitionState).pipe(switchMap(t => {\n        if (this.navigationId > overallTransitionState.id) {\n          const cancellationReason = typeof ngDevMode === 'undefined' || ngDevMode ? `Navigation ID ${overallTransitionState.id} is not equal to the current navigation id ${this.navigationId}` : '';\n          this.cancelNavigationTransition(overallTransitionState, cancellationReason, NavigationCancellationCode.SupersededByNewNavigation);\n          return EMPTY;\n        }\n        this.currentTransition = overallTransitionState;\n        const lastSuccessfulNavigation = this.lastSuccessfulNavigation();\n        this.currentNavigation.set({\n          id: t.id,\n          initialUrl: t.rawUrl,\n          extractedUrl: t.extractedUrl,\n          targetBrowserUrl: typeof t.extras.browserUrl === 'string' ? this.urlSerializer.parse(t.extras.browserUrl) : t.extras.browserUrl,\n          trigger: t.source,\n          extras: t.extras,\n          previousNavigation: !lastSuccessfulNavigation ? null : {\n            ...lastSuccessfulNavigation,\n            previousNavigation: null\n          },\n          abort: () => abortController.abort()\n        });\n        const urlTransition = !router.navigated || this.isUpdatingInternalState() || this.isUpdatedBrowserUrl();\n        const onSameUrlNavigation = t.extras.onSameUrlNavigation ?? router.onSameUrlNavigation;\n        if (!urlTransition && onSameUrlNavigation !== 'reload') {\n          const reason = typeof ngDevMode === 'undefined' || ngDevMode ? `Navigation to ${t.rawUrl} was ignored because it is the same as the current Router URL.` : '';\n          this.events.next(new NavigationSkipped(t.id, this.urlSerializer.serialize(t.rawUrl), reason, NavigationSkippedCode.IgnoredSameUrlNavigation));\n          t.resolve(false);\n          return EMPTY;\n        }\n        if (this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl)) {\n          return of(t).pipe(switchMap(t => {\n            this.events.next(new NavigationStart(t.id, this.urlSerializer.serialize(t.extractedUrl), t.source, t.restoredState));\n            if (t.id !== this.navigationId) {\n              return EMPTY;\n            }\n            return Promise.resolve(t);\n          }), recognize(this.environmentInjector, this.configLoader, this.rootComponentType, router.config, this.urlSerializer, this.paramsInheritanceStrategy, abortController.signal), tap(t => {\n            overallTransitionState.targetSnapshot = t.targetSnapshot;\n            overallTransitionState.urlAfterRedirects = t.urlAfterRedirects;\n            this.currentNavigation.update(nav => {\n              nav.finalUrl = t.urlAfterRedirects;\n              return nav;\n            });\n            const routesRecognized = new RoutesRecognized(t.id, this.urlSerializer.serialize(t.extractedUrl), this.urlSerializer.serialize(t.urlAfterRedirects), t.targetSnapshot);\n            this.events.next(routesRecognized);\n          }));\n        } else if (urlTransition && this.urlHandlingStrategy.shouldProcessUrl(t.currentRawUrl)) {\n          const {\n            id,\n            extractedUrl,\n            source,\n            restoredState,\n            extras\n          } = t;\n          const navStart = new NavigationStart(id, this.urlSerializer.serialize(extractedUrl), source, restoredState);\n          this.events.next(navStart);\n          const targetSnapshot = createEmptyState(this.rootComponentType).snapshot;\n          this.currentTransition = overallTransitionState = {\n            ...t,\n            targetSnapshot,\n            urlAfterRedirects: extractedUrl,\n            extras: {\n              ...extras,\n              skipLocationChange: false,\n              replaceUrl: false\n            }\n          };\n          this.currentNavigation.update(nav => {\n            nav.finalUrl = extractedUrl;\n            return nav;\n          });\n          return of(overallTransitionState);\n        } else {\n          const reason = typeof ngDevMode === 'undefined' || ngDevMode ? `Navigation was ignored because the UrlHandlingStrategy` + ` indicated neither the current URL ${t.currentRawUrl} nor target URL ${t.rawUrl} should be processed.` : '';\n          this.events.next(new NavigationSkipped(t.id, this.urlSerializer.serialize(t.extractedUrl), reason, NavigationSkippedCode.IgnoredByUrlHandlingStrategy));\n          t.resolve(false);\n          return EMPTY;\n        }\n      }), tap(t => {\n        const guardsStart = new GuardsCheckStart(t.id, this.urlSerializer.serialize(t.extractedUrl), this.urlSerializer.serialize(t.urlAfterRedirects), t.targetSnapshot);\n        this.events.next(guardsStart);\n      }), map(t => {\n        this.currentTransition = overallTransitionState = {\n          ...t,\n          guards: getAllRouteGuards(t.targetSnapshot, t.currentSnapshot, this.rootContexts)\n        };\n        return overallTransitionState;\n      }), checkGuards(this.environmentInjector, evt => this.events.next(evt)), tap(t => {\n        overallTransitionState.guardsResult = t.guardsResult;\n        if (t.guardsResult && typeof t.guardsResult !== 'boolean') {\n          throw redirectingNavigationError(this.urlSerializer, t.guardsResult);\n        }\n        const guardsEnd = new GuardsCheckEnd(t.id, this.urlSerializer.serialize(t.extractedUrl), this.urlSerializer.serialize(t.urlAfterRedirects), t.targetSnapshot, !!t.guardsResult);\n        this.events.next(guardsEnd);\n      }), filter(t => {\n        if (!t.guardsResult) {\n          this.cancelNavigationTransition(t, '', NavigationCancellationCode.GuardRejected);\n          return false;\n        }\n        return true;\n      }), switchTap(t => {\n        if (t.guards.canActivateChecks.length === 0) {\n          return undefined;\n        }\n        return of(t).pipe(tap(t => {\n          const resolveStart = new ResolveStart(t.id, this.urlSerializer.serialize(t.extractedUrl), this.urlSerializer.serialize(t.urlAfterRedirects), t.targetSnapshot);\n          this.events.next(resolveStart);\n        }), switchMap(t => {\n          let dataResolved = false;\n          return of(t).pipe(resolveData(this.paramsInheritanceStrategy, this.environmentInjector), tap({\n            next: () => dataResolved = true,\n            complete: () => {\n              if (!dataResolved) {\n                this.cancelNavigationTransition(t, typeof ngDevMode === 'undefined' || ngDevMode ? `At least one route resolver didn't emit any value.` : '', NavigationCancellationCode.NoDataFromResolver);\n              }\n            }\n          }));\n        }), tap(t => {\n          const resolveEnd = new ResolveEnd(t.id, this.urlSerializer.serialize(t.extractedUrl), this.urlSerializer.serialize(t.urlAfterRedirects), t.targetSnapshot);\n          this.events.next(resolveEnd);\n        }));\n      }), switchTap(t => {\n        const loadComponents = route => {\n          const loaders = [];\n          if (route.routeConfig?._loadedComponent) {\n            route.component = route.routeConfig?._loadedComponent;\n          } else if (route.routeConfig?.loadComponent) {\n            const injector = getClosestRouteInjector(route) ?? this.environmentInjector;\n            loaders.push(this.configLoader.loadComponent(injector, route.routeConfig).then(loadedComponent => {\n              route.component = loadedComponent;\n            }));\n          }\n          for (const child of route.children) {\n            loaders.push(...loadComponents(child));\n          }\n          return loaders;\n        };\n        const loaders = loadComponents(t.targetSnapshot.root);\n        return loaders.length === 0 ? of(t) : from(Promise.all(loaders).then(() => t));\n      }), switchTap(() => this.afterPreactivation()), switchMap(() => {\n        const {\n          currentSnapshot,\n          targetSnapshot\n        } = overallTransitionState;\n        const viewTransitionStarted = this.createViewTransition?.(this.environmentInjector, currentSnapshot.root, targetSnapshot.root);\n        return viewTransitionStarted ? from(viewTransitionStarted).pipe(map(() => overallTransitionState)) : of(overallTransitionState);\n      }), map(t => {\n        const targetRouterState = createRouterState(router.routeReuseStrategy, t.targetSnapshot, t.currentRouterState);\n        this.currentTransition = overallTransitionState = {\n          ...t,\n          targetRouterState\n        };\n        this.currentNavigation.update(nav => {\n          nav.targetRouterState = targetRouterState;\n          return nav;\n        });\n        return overallTransitionState;\n      }), tap(() => {\n        this.events.next(new BeforeActivateRoutes());\n      }), activateRoutes(this.rootContexts, router.routeReuseStrategy, evt => this.events.next(evt), this.inputBindingEnabled), take(1), takeUntil(abortSignalToObservable(abortController.signal).pipe(filter(() => !completedOrAborted && !overallTransitionState.targetRouterState), tap(() => {\n        this.cancelNavigationTransition(overallTransitionState, abortController.signal.reason + '', NavigationCancellationCode.Aborted);\n      }))), tap({\n        next: t => {\n          completedOrAborted = true;\n          this.currentNavigation.update(nav => {\n            nav.abort = noop;\n            return nav;\n          });\n          this.lastSuccessfulNavigation.set(untracked(this.currentNavigation));\n          this.events.next(new NavigationEnd(t.id, this.urlSerializer.serialize(t.extractedUrl), this.urlSerializer.serialize(t.urlAfterRedirects)));\n          this.titleStrategy?.updateTitle(t.targetRouterState.snapshot);\n          t.resolve(true);\n        },\n        complete: () => {\n          completedOrAborted = true;\n        }\n      }), takeUntil(this.transitionAbortWithErrorSubject.pipe(tap(err => {\n        throw err;\n      }))), finalize(() => {\n        abortController.abort();\n        if (!completedOrAborted) {\n          const cancelationReason = typeof ngDevMode === 'undefined' || ngDevMode ? `Navigation ID ${overallTransitionState.id} is not equal to the current navigation id ${this.navigationId}` : '';\n          this.cancelNavigationTransition(overallTransitionState, cancelationReason, NavigationCancellationCode.SupersededByNewNavigation);\n        }\n        if (this.currentTransition?.id === overallTransitionState.id) {\n          this.currentNavigation.set(null);\n          this.currentTransition = null;\n        }\n      }), catchError(e => {\n        if (this.destroyed) {\n          overallTransitionState.resolve(false);\n          return EMPTY;\n        }\n        completedOrAborted = true;\n        if (isNavigationCancelingError(e)) {\n          this.events.next(new NavigationCancel(overallTransitionState.id, this.urlSerializer.serialize(overallTransitionState.extractedUrl), e.message, e.cancellationCode));\n          if (!isRedirectingNavigationCancelingError(e)) {\n            overallTransitionState.resolve(false);\n          } else {\n            this.events.next(new RedirectRequest(e.url, e.navigationBehaviorOptions));\n          }\n        } else {\n          const navigationError = new NavigationError(overallTransitionState.id, this.urlSerializer.serialize(overallTransitionState.extractedUrl), e, overallTransitionState.targetSnapshot ?? undefined);\n          try {\n            const navigationErrorHandlerResult = runInInjectionContext(this.environmentInjector, () => this.navigationErrorHandler?.(navigationError));\n            if (navigationErrorHandlerResult instanceof RedirectCommand) {\n              const {\n                message,\n                cancellationCode\n              } = redirectingNavigationError(this.urlSerializer, navigationErrorHandlerResult);\n              this.events.next(new NavigationCancel(overallTransitionState.id, this.urlSerializer.serialize(overallTransitionState.extractedUrl), message, cancellationCode));\n              this.events.next(new RedirectRequest(navigationErrorHandlerResult.redirectTo, navigationErrorHandlerResult.navigationBehaviorOptions));\n            } else {\n              this.events.next(navigationError);\n              throw e;\n            }\n          } catch (ee) {\n            if (this.options.resolveNavigationPromiseOnError) {\n              overallTransitionState.resolve(false);\n            } else {\n              overallTransitionState.reject(ee);\n            }\n          }\n        }\n        return EMPTY;\n      }));\n    }));\n  }\n  cancelNavigationTransition(t, reason, code) {\n    const navCancel = new NavigationCancel(t.id, this.urlSerializer.serialize(t.extractedUrl), reason, code);\n    this.events.next(navCancel);\n    t.resolve(false);\n  }\n  isUpdatingInternalState() {\n    return this.currentTransition?.extractedUrl.toString() !== this.currentTransition?.currentUrlTree.toString();\n  }\n  isUpdatedBrowserUrl() {\n    const currentBrowserUrl = this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(true)));\n    const currentNavigation = untracked(this.currentNavigation);\n    const targetBrowserUrl = currentNavigation?.targetBrowserUrl ?? currentNavigation?.extractedUrl;\n    return currentBrowserUrl.toString() !== targetBrowserUrl?.toString() && !currentNavigation?.extras.skipLocationChange;\n  }\n  static ɵfac = i0.ɵɵngDeclareFactory({\n    minVersion: \"12.0.0\",\n    version: \"21.0.6\",\n    ngImport: i0,\n    type: NavigationTransitions,\n    deps: [],\n    target: i0.ɵɵFactoryTarget.Injectable\n  });\n  static ɵprov = i0.ɵɵngDeclareInjectable({\n    minVersion: \"12.0.0\",\n    version: \"21.0.6\",\n    ngImport: i0,\n    type: NavigationTransitions,\n    providedIn: 'root'\n  });\n}\ni0.ɵɵngDeclareClassMetadata({\n  minVersion: \"12.0.0\",\n  version: \"21.0.6\",\n  ngImport: i0,\n  type: NavigationTransitions,\n  decorators: [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }],\n  ctorParameters: () => []\n});\nfunction isBrowserTriggeredNavigation(source) {\n  return source !== IMPERATIVE_NAVIGATION;\n}\n\nclass RouteReuseStrategy {\n  static ɵfac = i0.ɵɵngDeclareFactory({\n    minVersion: \"12.0.0\",\n    version: \"21.0.6\",\n    ngImport: i0,\n    type: RouteReuseStrategy,\n    deps: [],\n    target: i0.ɵɵFactoryTarget.Injectable\n  });\n  static ɵprov = i0.ɵɵngDeclareInjectable({\n    minVersion: \"12.0.0\",\n    version: \"21.0.6\",\n    ngImport: i0,\n    type: RouteReuseStrategy,\n    providedIn: 'root',\n    useFactory: () => inject(DefaultRouteReuseStrategy)\n  });\n}\ni0.ɵɵngDeclareClassMetadata({\n  minVersion: \"12.0.0\",\n  version: \"21.0.6\",\n  ngImport: i0,\n  type: RouteReuseStrategy,\n  decorators: [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root',\n      useFactory: () => inject(DefaultRouteReuseStrategy)\n    }]\n  }]\n});\nclass BaseRouteReuseStrategy {\n  shouldDetach(route) {\n    return false;\n  }\n  store(route, detachedTree) {}\n  shouldAttach(route) {\n    return false;\n  }\n  retrieve(route) {\n    return null;\n  }\n  shouldReuseRoute(future, curr) {\n    return future.routeConfig === curr.routeConfig;\n  }\n}\nclass DefaultRouteReuseStrategy extends BaseRouteReuseStrategy {\n  static ɵfac = i0.ɵɵngDeclareFactory({\n    minVersion: \"12.0.0\",\n    version: \"21.0.6\",\n    ngImport: i0,\n    type: DefaultRouteReuseStrategy,\n    deps: null,\n    target: i0.ɵɵFactoryTarget.Injectable\n  });\n  static ɵprov = i0.ɵɵngDeclareInjectable({\n    minVersion: \"12.0.0\",\n    version: \"21.0.6\",\n    ngImport: i0,\n    type: DefaultRouteReuseStrategy,\n    providedIn: 'root'\n  });\n}\ni0.ɵɵngDeclareClassMetadata({\n  minVersion: \"12.0.0\",\n  version: \"21.0.6\",\n  ngImport: i0,\n  type: DefaultRouteReuseStrategy,\n  decorators: [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }]\n});\n\nclass StateManager {\n  urlSerializer = inject(UrlSerializer);\n  options = inject(ROUTER_CONFIGURATION, {\n    optional: true\n  }) || {};\n  canceledNavigationResolution = this.options.canceledNavigationResolution || 'replace';\n  location = inject(Location);\n  urlHandlingStrategy = inject(UrlHandlingStrategy);\n  urlUpdateStrategy = this.options.urlUpdateStrategy || 'deferred';\n  currentUrlTree = new UrlTree();\n  getCurrentUrlTree() {\n    return this.currentUrlTree;\n  }\n  rawUrlTree = this.currentUrlTree;\n  getRawUrlTree() {\n    return this.rawUrlTree;\n  }\n  createBrowserPath({\n    finalUrl,\n    initialUrl,\n    targetBrowserUrl\n  }) {\n    const rawUrl = finalUrl !== undefined ? this.urlHandlingStrategy.merge(finalUrl, initialUrl) : initialUrl;\n    const url = targetBrowserUrl ?? rawUrl;\n    const path = url instanceof UrlTree ? this.urlSerializer.serialize(url) : url;\n    return path;\n  }\n  commitTransition({\n    targetRouterState,\n    finalUrl,\n    initialUrl\n  }) {\n    if (finalUrl && targetRouterState) {\n      this.currentUrlTree = finalUrl;\n      this.rawUrlTree = this.urlHandlingStrategy.merge(finalUrl, initialUrl);\n      this.routerState = targetRouterState;\n    } else {\n      this.rawUrlTree = initialUrl;\n    }\n  }\n  routerState = createEmptyState(null);\n  getRouterState() {\n    return this.routerState;\n  }\n  stateMemento = this.createStateMemento();\n  updateStateMemento() {\n    this.stateMemento = this.createStateMemento();\n  }\n  createStateMemento() {\n    return {\n      rawUrlTree: this.rawUrlTree,\n      currentUrlTree: this.currentUrlTree,\n      routerState: this.routerState\n    };\n  }\n  resetInternalState({\n    finalUrl\n  }) {\n    this.routerState = this.stateMemento.routerState;\n    this.currentUrlTree = this.stateMemento.currentUrlTree;\n    this.rawUrlTree = this.urlHandlingStrategy.merge(this.currentUrlTree, finalUrl ?? this.rawUrlTree);\n  }\n  static ɵfac = i0.ɵɵngDeclareFactory({\n    minVersion: \"12.0.0\",\n    version: \"21.0.6\",\n    ngImport: i0,\n    type: StateManager,\n    deps: [],\n    target: i0.ɵɵFactoryTarget.Injectable\n  });\n  static ɵprov = i0.ɵɵngDeclareInjectable({\n    minVersion: \"12.0.0\",\n    version: \"21.0.6\",\n    ngImport: i0,\n    type: StateManager,\n    providedIn: 'root',\n    useFactory: () => inject(HistoryStateManager)\n  });\n}\ni0.ɵɵngDeclareClassMetadata({\n  minVersion: \"12.0.0\",\n  version: \"21.0.6\",\n  ngImport: i0,\n  type: StateManager,\n  decorators: [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root',\n      useFactory: () => inject(HistoryStateManager)\n    }]\n  }]\n});\nclass HistoryStateManager extends StateManager {\n  currentPageId = 0;\n  lastSuccessfulId = -1;\n  restoredState() {\n    return this.location.getState();\n  }\n  get browserPageId() {\n    if (this.canceledNavigationResolution !== 'computed') {\n      return this.currentPageId;\n    }\n    return this.restoredState()?.ɵrouterPageId ?? this.currentPageId;\n  }\n  registerNonRouterCurrentEntryChangeListener(listener) {\n    return this.location.subscribe(event => {\n      if (event['type'] === 'popstate') {\n        setTimeout(() => {\n          listener(event['url'], event.state, 'popstate');\n        });\n      }\n    });\n  }\n  handleRouterEvent(e, currentTransition) {\n    if (e instanceof NavigationStart) {\n      this.updateStateMemento();\n    } else if (e instanceof NavigationSkipped) {\n      this.commitTransition(currentTransition);\n    } else if (e instanceof RoutesRecognized) {\n      if (this.urlUpdateStrategy === 'eager') {\n        if (!currentTransition.extras.skipLocationChange) {\n          this.setBrowserUrl(this.createBrowserPath(currentTransition), currentTransition);\n        }\n      }\n    } else if (e instanceof BeforeActivateRoutes) {\n      this.commitTransition(currentTransition);\n      if (this.urlUpdateStrategy === 'deferred' && !currentTransition.extras.skipLocationChange) {\n        this.setBrowserUrl(this.createBrowserPath(currentTransition), currentTransition);\n      }\n    } else if (e instanceof NavigationCancel && e.code !== NavigationCancellationCode.SupersededByNewNavigation && e.code !== NavigationCancellationCode.Redirect) {\n      this.restoreHistory(currentTransition);\n    } else if (e instanceof NavigationError) {\n      this.restoreHistory(currentTransition, true);\n    } else if (e instanceof NavigationEnd) {\n      this.lastSuccessfulId = e.id;\n      this.currentPageId = this.browserPageId;\n    }\n  }\n  setBrowserUrl(path, {\n    extras,\n    id\n  }) {\n    const {\n      replaceUrl,\n      state\n    } = extras;\n    if (this.location.isCurrentPathEqualTo(path) || !!replaceUrl) {\n      const currentBrowserPageId = this.browserPageId;\n      const newState = {\n        ...state,\n        ...this.generateNgRouterState(id, currentBrowserPageId)\n      };\n      this.location.replaceState(path, '', newState);\n    } else {\n      const newState = {\n        ...state,\n        ...this.generateNgRouterState(id, this.browserPageId + 1)\n      };\n      this.location.go(path, '', newState);\n    }\n  }\n  restoreHistory(navigation, restoringFromCaughtError = false) {\n    if (this.canceledNavigationResolution === 'computed') {\n      const currentBrowserPageId = this.browserPageId;\n      const targetPagePosition = this.currentPageId - currentBrowserPageId;\n      if (targetPagePosition !== 0) {\n        this.location.historyGo(targetPagePosition);\n      } else if (this.getCurrentUrlTree() === navigation.finalUrl && targetPagePosition === 0) {\n        this.resetInternalState(navigation);\n        this.resetUrlToCurrentUrlTree();\n      } else ;\n    } else if (this.canceledNavigationResolution === 'replace') {\n      if (restoringFromCaughtError) {\n        this.resetInternalState(navigation);\n      }\n      this.resetUrlToCurrentUrlTree();\n    }\n  }\n  resetUrlToCurrentUrlTree() {\n    this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()), '', this.generateNgRouterState(this.lastSuccessfulId, this.currentPageId));\n  }\n  generateNgRouterState(navigationId, routerPageId) {\n    if (this.canceledNavigationResolution === 'computed') {\n      return {\n        navigationId,\n        ɵrouterPageId: routerPageId\n      };\n    }\n    return {\n      navigationId\n    };\n  }\n  static ɵfac = i0.ɵɵngDeclareFactory({\n    minVersion: \"12.0.0\",\n    version: \"21.0.6\",\n    ngImport: i0,\n    type: HistoryStateManager,\n    deps: null,\n    target: i0.ɵɵFactoryTarget.Injectable\n  });\n  static ɵprov = i0.ɵɵngDeclareInjectable({\n    minVersion: \"12.0.0\",\n    version: \"21.0.6\",\n    ngImport: i0,\n    type: HistoryStateManager,\n    providedIn: 'root'\n  });\n}\ni0.ɵɵngDeclareClassMetadata({\n  minVersion: \"12.0.0\",\n  version: \"21.0.6\",\n  ngImport: i0,\n  type: HistoryStateManager,\n  decorators: [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }]\n});\n\nfunction afterNextNavigation(router, action) {\n  router.events.pipe(filter(e => e instanceof NavigationEnd || e instanceof NavigationCancel || e instanceof NavigationError || e instanceof NavigationSkipped), map(e => {\n    if (e instanceof NavigationEnd || e instanceof NavigationSkipped) {\n      return 0;\n    }\n    const redirecting = e instanceof NavigationCancel ? e.code === NavigationCancellationCode.Redirect || e.code === NavigationCancellationCode.SupersededByNewNavigation : false;\n    return redirecting ? 2 : 1;\n  }), filter(result => result !== 2), take(1)).subscribe(() => {\n    action();\n  });\n}\n\nconst exactMatchOptions = {\n  paths: 'exact',\n  fragment: 'ignored',\n  matrixParams: 'ignored',\n  queryParams: 'exact'\n};\nconst subsetMatchOptions = {\n  paths: 'subset',\n  fragment: 'ignored',\n  matrixParams: 'ignored',\n  queryParams: 'subset'\n};\nclass Router {\n  get currentUrlTree() {\n    return this.stateManager.getCurrentUrlTree();\n  }\n  get rawUrlTree() {\n    return this.stateManager.getRawUrlTree();\n  }\n  disposed = false;\n  nonRouterCurrentEntryChangeSubscription;\n  console = inject(_Console);\n  stateManager = inject(StateManager);\n  options = inject(ROUTER_CONFIGURATION, {\n    optional: true\n  }) || {};\n  pendingTasks = inject(_PendingTasksInternal);\n  urlUpdateStrategy = this.options.urlUpdateStrategy || 'deferred';\n  navigationTransitions = inject(NavigationTransitions);\n  urlSerializer = inject(UrlSerializer);\n  location = inject(Location);\n  urlHandlingStrategy = inject(UrlHandlingStrategy);\n  injector = inject(EnvironmentInjector);\n  _events = new Subject();\n  get events() {\n    return this._events;\n  }\n  get routerState() {\n    return this.stateManager.getRouterState();\n  }\n  navigated = false;\n  routeReuseStrategy = inject(RouteReuseStrategy);\n  onSameUrlNavigation = this.options.onSameUrlNavigation || 'ignore';\n  config = inject(ROUTES, {\n    optional: true\n  })?.flat() ?? [];\n  componentInputBindingEnabled = !!inject(INPUT_BINDER, {\n    optional: true\n  });\n  currentNavigation = this.navigationTransitions.currentNavigation.asReadonly();\n  constructor() {\n    this.resetConfig(this.config);\n    this.navigationTransitions.setupNavigations(this).subscribe({\n      error: e => {\n        this.console.warn(ngDevMode ? `Unhandled Navigation Error: ${e}` : e);\n      }\n    });\n    this.subscribeToNavigationEvents();\n  }\n  eventsSubscription = new Subscription();\n  subscribeToNavigationEvents() {\n    const subscription = this.navigationTransitions.events.subscribe(e => {\n      try {\n        const currentTransition = this.navigationTransitions.currentTransition;\n        const currentNavigation = untracked(this.navigationTransitions.currentNavigation);\n        if (currentTransition !== null && currentNavigation !== null) {\n          this.stateManager.handleRouterEvent(e, currentNavigation);\n          if (e instanceof NavigationCancel && e.code !== NavigationCancellationCode.Redirect && e.code !== NavigationCancellationCode.SupersededByNewNavigation) {\n            this.navigated = true;\n          } else if (e instanceof NavigationEnd) {\n            this.navigated = true;\n          } else if (e instanceof RedirectRequest) {\n            const opts = e.navigationBehaviorOptions;\n            const mergedTree = this.urlHandlingStrategy.merge(e.url, currentTransition.currentRawUrl);\n            const extras = {\n              browserUrl: currentTransition.extras.browserUrl,\n              info: currentTransition.extras.info,\n              skipLocationChange: currentTransition.extras.skipLocationChange,\n              replaceUrl: currentTransition.extras.replaceUrl || this.urlUpdateStrategy === 'eager' || isBrowserTriggeredNavigation(currentTransition.source),\n              ...opts\n            };\n            this.scheduleNavigation(mergedTree, IMPERATIVE_NAVIGATION, null, extras, {\n              resolve: currentTransition.resolve,\n              reject: currentTransition.reject,\n              promise: currentTransition.promise\n            });\n          }\n        }\n        if (isPublicRouterEvent(e)) {\n          this._events.next(e);\n        }\n      } catch (e) {\n        this.navigationTransitions.transitionAbortWithErrorSubject.next(e);\n      }\n    });\n    this.eventsSubscription.add(subscription);\n  }\n  resetRootComponentType(rootComponentType) {\n    this.routerState.root.component = rootComponentType;\n    this.navigationTransitions.rootComponentType = rootComponentType;\n  }\n  initialNavigation() {\n    this.setUpLocationChangeListener();\n    if (!this.navigationTransitions.hasRequestedNavigation) {\n      this.navigateToSyncWithBrowser(this.location.path(true), IMPERATIVE_NAVIGATION, this.stateManager.restoredState());\n    }\n  }\n  setUpLocationChangeListener() {\n    this.nonRouterCurrentEntryChangeSubscription ??= this.stateManager.registerNonRouterCurrentEntryChangeListener((url, state, source) => {\n      this.navigateToSyncWithBrowser(url, source, state);\n    });\n  }\n  navigateToSyncWithBrowser(url, source, state) {\n    const extras = {\n      replaceUrl: true\n    };\n    const restoredState = state?.navigationId ? state : null;\n    if (state) {\n      const stateCopy = {\n        ...state\n      };\n      delete stateCopy.navigationId;\n      delete stateCopy.ɵrouterPageId;\n      if (Object.keys(stateCopy).length !== 0) {\n        extras.state = stateCopy;\n      }\n    }\n    const urlTree = this.parseUrl(url);\n    this.scheduleNavigation(urlTree, source, restoredState, extras).catch(e => {\n      if (this.disposed) {\n        return;\n      }\n      this.injector.get(_INTERNAL_APPLICATION_ERROR_HANDLER)(e);\n    });\n  }\n  get url() {\n    return this.serializeUrl(this.currentUrlTree);\n  }\n  getCurrentNavigation() {\n    return untracked(this.navigationTransitions.currentNavigation);\n  }\n  get lastSuccessfulNavigation() {\n    return this.navigationTransitions.lastSuccessfulNavigation;\n  }\n  resetConfig(config) {\n    (typeof ngDevMode === 'undefined' || ngDevMode) && validateConfig(config);\n    this.config = config.map(standardizeConfig);\n    this.navigated = false;\n  }\n  ngOnDestroy() {\n    this.dispose();\n  }\n  dispose() {\n    this._events.unsubscribe();\n    this.navigationTransitions.complete();\n    if (this.nonRouterCurrentEntryChangeSubscription) {\n      this.nonRouterCurrentEntryChangeSubscription.unsubscribe();\n      this.nonRouterCurrentEntryChangeSubscription = undefined;\n    }\n    this.disposed = true;\n    this.eventsSubscription.unsubscribe();\n  }\n  createUrlTree(commands, navigationExtras = {}) {\n    const {\n      relativeTo,\n      queryParams,\n      fragment,\n      queryParamsHandling,\n      preserveFragment\n    } = navigationExtras;\n    const f = preserveFragment ? this.currentUrlTree.fragment : fragment;\n    let q = null;\n    switch (queryParamsHandling ?? this.options.defaultQueryParamsHandling) {\n      case 'merge':\n        q = {\n          ...this.currentUrlTree.queryParams,\n          ...queryParams\n        };\n        break;\n      case 'preserve':\n        q = this.currentUrlTree.queryParams;\n        break;\n      default:\n        q = queryParams || null;\n    }\n    if (q !== null) {\n      q = this.removeEmptyProps(q);\n    }\n    let relativeToUrlSegmentGroup;\n    try {\n      const relativeToSnapshot = relativeTo ? relativeTo.snapshot : this.routerState.snapshot.root;\n      relativeToUrlSegmentGroup = createSegmentGroupFromRoute(relativeToSnapshot);\n    } catch (e) {\n      if (typeof commands[0] !== 'string' || commands[0][0] !== '/') {\n        commands = [];\n      }\n      relativeToUrlSegmentGroup = this.currentUrlTree.root;\n    }\n    return createUrlTreeFromSegmentGroup(relativeToUrlSegmentGroup, commands, q, f ?? null, this.urlSerializer);\n  }\n  navigateByUrl(url, extras = {\n    skipLocationChange: false\n  }) {\n    const urlTree = isUrlTree(url) ? url : this.parseUrl(url);\n    const mergedTree = this.urlHandlingStrategy.merge(urlTree, this.rawUrlTree);\n    return this.scheduleNavigation(mergedTree, IMPERATIVE_NAVIGATION, null, extras);\n  }\n  navigate(commands, extras = {\n    skipLocationChange: false\n  }) {\n    validateCommands(commands);\n    return this.navigateByUrl(this.createUrlTree(commands, extras), extras);\n  }\n  serializeUrl(url) {\n    return this.urlSerializer.serialize(url);\n  }\n  parseUrl(url) {\n    try {\n      return this.urlSerializer.parse(url);\n    } catch (e) {\n      this.console.warn(_formatRuntimeError(4018, ngDevMode && `Error parsing URL ${url}. Falling back to '/' instead. \\n` + e));\n      return this.urlSerializer.parse('/');\n    }\n  }\n  isActive(url, matchOptions) {\n    let options;\n    if (matchOptions === true) {\n      options = {\n        ...exactMatchOptions\n      };\n    } else if (matchOptions === false) {\n      options = {\n        ...subsetMatchOptions\n      };\n    } else {\n      options = matchOptions;\n    }\n    if (isUrlTree(url)) {\n      return containsTree(this.currentUrlTree, url, options);\n    }\n    const urlTree = this.parseUrl(url);\n    return containsTree(this.currentUrlTree, urlTree, options);\n  }\n  removeEmptyProps(params) {\n    return Object.entries(params).reduce((result, [key, value]) => {\n      if (value !== null && value !== undefined) {\n        result[key] = value;\n      }\n      return result;\n    }, {});\n  }\n  scheduleNavigation(rawUrl, source, restoredState, extras, priorPromise) {\n    if (this.disposed) {\n      return Promise.resolve(false);\n    }\n    let resolve;\n    let reject;\n    let promise;\n    if (priorPromise) {\n      resolve = priorPromise.resolve;\n      reject = priorPromise.reject;\n      promise = priorPromise.promise;\n    } else {\n      promise = new Promise((res, rej) => {\n        resolve = res;\n        reject = rej;\n      });\n    }\n    const taskId = this.pendingTasks.add();\n    afterNextNavigation(this, () => {\n      queueMicrotask(() => this.pendingTasks.remove(taskId));\n    });\n    this.navigationTransitions.handleNavigationRequest({\n      source,\n      restoredState,\n      currentUrlTree: this.currentUrlTree,\n      currentRawUrl: this.currentUrlTree,\n      rawUrl,\n      extras,\n      resolve: resolve,\n      reject: reject,\n      promise,\n      currentSnapshot: this.routerState.snapshot,\n      currentRouterState: this.routerState\n    });\n    return promise.catch(e => {\n      return Promise.reject(e);\n    });\n  }\n  static ɵfac = i0.ɵɵngDeclareFactory({\n    minVersion: \"12.0.0\",\n    version: \"21.0.6\",\n    ngImport: i0,\n    type: Router,\n    deps: [],\n    target: i0.ɵɵFactoryTarget.Injectable\n  });\n  static ɵprov = i0.ɵɵngDeclareInjectable({\n    minVersion: \"12.0.0\",\n    version: \"21.0.6\",\n    ngImport: i0,\n    type: Router,\n    providedIn: 'root'\n  });\n}\ni0.ɵɵngDeclareClassMetadata({\n  minVersion: \"12.0.0\",\n  version: \"21.0.6\",\n  ngImport: i0,\n  type: Router,\n  decorators: [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }],\n  ctorParameters: () => []\n});\nfunction validateCommands(commands) {\n  for (let i = 0; i < commands.length; i++) {\n    const cmd = commands[i];\n    if (cmd == null) {\n      throw new _RuntimeError(4008, (typeof ngDevMode === 'undefined' || ngDevMode) && `The requested path contains ${cmd} segment at index ${i}`);\n    }\n  }\n}\n\nexport { ActivatedRoute, ActivatedRouteSnapshot, ActivationEnd, ActivationStart, BaseRouteReuseStrategy, CREATE_VIEW_TRANSITION, ChildActivationEnd, ChildActivationStart, ChildrenOutletContexts, DefaultTitleStrategy, DefaultUrlSerializer, EventType, GuardsCheckEnd, GuardsCheckStart, HistoryStateManager, IMPERATIVE_NAVIGATION, INPUT_BINDER, NAVIGATION_ERROR_HANDLER, NavigationCancel, NavigationCancellationCode, NavigationEnd, NavigationError, NavigationSkipped, NavigationSkippedCode, NavigationStart, NavigationTransitions, OutletContext, PRIMARY_OUTLET, ROUTER_CONFIGURATION, ROUTER_OUTLET_DATA, ROUTES, RedirectCommand, ResolveEnd, ResolveStart, RouteConfigLoadEnd, RouteConfigLoadStart, RouteReuseStrategy, RoutedComponentInputBinder, Router, RouterConfigLoader, RouterEvent, RouterOutlet, RouterState, RouterStateSnapshot, RoutesRecognized, Scroll, StateManager, TitleStrategy, UrlHandlingStrategy, UrlSegment, UrlSegmentGroup, UrlSerializer, UrlTree, VIEW_TRANSITION_OPTIONS, afterNextNavigation, convertToParamMap, createUrlTreeFromSnapshot, createViewTransition, defaultUrlMatcher, isUrlTree, loadChildren, provideSometimesSyncRecognize, stringifyEvent, ɵEmptyOutletComponent };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}