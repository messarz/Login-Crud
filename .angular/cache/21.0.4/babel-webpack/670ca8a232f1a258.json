{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"./auth.service\";\nexport let CrudService = /*#__PURE__*/(() => {\n  class CrudService {\n    http;\n    authService;\n    apiUrl = '/crud';\n    constructor(http, authService) {\n      this.http = http;\n      this.authService = authService;\n    }\n    getHeaders() {\n      return this.authService.getAuthHeaders();\n    }\n    getAllPosts() {\n      return this.http.get(`${this.apiUrl}/fetch`, {\n        headers: this.getHeaders()\n      });\n    }\n    getPostById(id) {\n      return this.http.get(`${this.apiUrl}/id/${id}`, {\n        headers: this.getHeaders()\n      });\n    }\n    createPost(post) {\n      return this.http.post(`${this.apiUrl}/addCrud`, post, {\n        headers: this.getHeaders()\n      });\n    }\n    updatePost(id, post) {\n      return this.http.put(`${this.apiUrl}/update/${id}`, post, {\n        headers: this.getHeaders()\n      });\n    }\n    deletePost(id) {\n      return this.http.delete(`${this.apiUrl}/delete/${id}`, {\n        headers: this.getHeaders()\n      });\n    }\n    static ɵfac = function CrudService_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || CrudService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.AuthService));\n    };\n    static ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: CrudService,\n      factory: CrudService.ɵfac,\n      providedIn: 'root'\n    });\n  }\n  return CrudService;\n})();","map":{"version":3,"names":["CrudService","http","authService","apiUrl","constructor","getHeaders","getAuthHeaders","getAllPosts","get","headers","getPostById","id","createPost","post","updatePost","put","deletePost","delete","i0","ɵɵinject","i1","HttpClient","i2","AuthService","factory","ɵfac","providedIn"],"sources":["/Users/ariez/Downloads/crud/src/app/crud.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { AuthService } from './auth.service';\n\nexport interface CrudPost {\n  id?: number;\n  name: string;\n  comment: string;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CrudService {\n  private apiUrl = '/crud';\n\n  constructor(\n    private http: HttpClient,\n    private authService: AuthService\n  ) { }\n\n  private getHeaders(): HttpHeaders {\n    return this.authService.getAuthHeaders();\n  }\n\n  getAllPosts(): Observable<CrudPost[]> {\n    return this.http.get<CrudPost[]>(`${this.apiUrl}/fetch`, { headers: this.getHeaders() });\n  }\n\n  getPostById(id: number): Observable<CrudPost> {\n    return this.http.get<CrudPost>(`${this.apiUrl}/id/${id}`, { headers: this.getHeaders() });\n  }\n\n  createPost(post: Omit<CrudPost, 'id'>): Observable<CrudPost> {\n    return this.http.post<CrudPost>(`${this.apiUrl}/addCrud`, post, { headers: this.getHeaders() });\n  }\n\n  updatePost(id: number, post: Omit<CrudPost, 'id'>): Observable<CrudPost> {\n    return this.http.put<CrudPost>(`${this.apiUrl}/update/${id}`, post, { headers: this.getHeaders() });\n  }\n\n  deletePost(id: number): Observable<void> {\n    return this.http.delete<void>(`${this.apiUrl}/delete/${id}`, { headers: this.getHeaders() });\n  }\n}\n"],"mappings":";;;AAcA,WAAaA,WAAW;EAAlB,MAAOA,WAAW;IAIZC,IAAA;IACAC,WAAA;IAJFC,MAAM,GAAG,OAAO;IAExBC,YACUH,IAAgB,EAChBC,WAAwB;MADxB,KAAAD,IAAI,GAAJA,IAAI;MACJ,KAAAC,WAAW,GAAXA,WAAW;IACjB;IAEIG,UAAUA,CAAA;MAChB,OAAO,IAAI,CAACH,WAAW,CAACI,cAAc,EAAE;IAC1C;IAEAC,WAAWA,CAAA;MACT,OAAO,IAAI,CAACN,IAAI,CAACO,GAAG,CAAa,GAAG,IAAI,CAACL,MAAM,QAAQ,EAAE;QAAEM,OAAO,EAAE,IAAI,CAACJ,UAAU;MAAE,CAAE,CAAC;IAC1F;IAEAK,WAAWA,CAACC,EAAU;MACpB,OAAO,IAAI,CAACV,IAAI,CAACO,GAAG,CAAW,GAAG,IAAI,CAACL,MAAM,OAAOQ,EAAE,EAAE,EAAE;QAAEF,OAAO,EAAE,IAAI,CAACJ,UAAU;MAAE,CAAE,CAAC;IAC3F;IAEAO,UAAUA,CAACC,IAA0B;MACnC,OAAO,IAAI,CAACZ,IAAI,CAACY,IAAI,CAAW,GAAG,IAAI,CAACV,MAAM,UAAU,EAAEU,IAAI,EAAE;QAAEJ,OAAO,EAAE,IAAI,CAACJ,UAAU;MAAE,CAAE,CAAC;IACjG;IAEAS,UAAUA,CAACH,EAAU,EAAEE,IAA0B;MAC/C,OAAO,IAAI,CAACZ,IAAI,CAACc,GAAG,CAAW,GAAG,IAAI,CAACZ,MAAM,WAAWQ,EAAE,EAAE,EAAEE,IAAI,EAAE;QAAEJ,OAAO,EAAE,IAAI,CAACJ,UAAU;MAAE,CAAE,CAAC;IACrG;IAEAW,UAAUA,CAACL,EAAU;MACnB,OAAO,IAAI,CAACV,IAAI,CAACgB,MAAM,CAAO,GAAG,IAAI,CAACd,MAAM,WAAWQ,EAAE,EAAE,EAAE;QAAEF,OAAO,EAAE,IAAI,CAACJ,UAAU;MAAE,CAAE,CAAC;IAC9F;;uCA9BWL,WAAW,EAAAkB,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,UAAA,GAAAH,EAAA,CAAAC,QAAA,CAAAG,EAAA,CAAAC,WAAA;IAAA;;aAAXvB,WAAW;MAAAwB,OAAA,EAAXxB,WAAW,CAAAyB,IAAA;MAAAC,UAAA,EAFV;IAAM;;SAEP1B,WAAW;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}