{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, signal } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nlet Comment = class Comment {\n  crudService;\n  title = signal('Formula 1 Blog', ...(ngDevMode ? [{\n    debugName: \"title\"\n  }] : []));\n  posts = signal([], ...(ngDevMode ? [{\n    debugName: \"posts\"\n  }] : []));\n  loading = signal(false, ...(ngDevMode ? [{\n    debugName: \"loading\"\n  }] : []));\n  editingPost = signal(null, ...(ngDevMode ? [{\n    debugName: \"editingPost\"\n  }] : []));\n  currentPost = {\n    name: '',\n    comment: ''\n  };\n  constructor(crudService) {\n    this.crudService = crudService;\n  }\n  ngOnInit() {\n    this.loadPosts();\n  }\n  loadPosts() {\n    this.loading.set(true);\n    this.crudService.getAllPosts().subscribe({\n      next: posts => {\n        this.posts.set(posts);\n        this.loading.set(false);\n      },\n      error: error => {\n        console.error('Error loading posts:', error);\n        this.loading.set(false);\n        alert('Error loading posts. Please check if the backend is running.');\n      }\n    });\n  }\n  onSubmit() {\n    if (!this.currentPost.name || !this.currentPost.comment) {\n      return;\n    }\n    if (this.editingPost()) {\n      // Update existing post\n      this.crudService.updatePost(this.editingPost().id, this.currentPost).subscribe({\n        next: updatedPost => {\n          this.loadPosts(); // Reload all posts\n          this.resetForm();\n          alert('Post updated successfully!');\n        },\n        error: error => {\n          console.error('Error updating post:', error);\n          alert('Error updating post. Please try again.');\n        }\n      });\n    } else {\n      // Create new post\n      this.crudService.createPost(this.currentPost).subscribe({\n        next: newPost => {\n          this.loadPosts(); // Reload all posts\n          this.resetForm();\n          alert('Post created successfully!');\n        },\n        error: error => {\n          console.error('Error creating post:', error);\n          alert('Error creating post. Please try again.');\n        }\n      });\n    }\n  }\n  startEdit(post) {\n    this.editingPost.set(post);\n    this.currentPost = {\n      ...post\n    };\n  }\n  cancelEdit() {\n    this.editingPost.set(null);\n    this.resetForm();\n  }\n  deletePost(id) {\n    if (confirm('Are you sure you want to delete this post?')) {\n      this.crudService.deletePost(id).subscribe({\n        next: () => {\n          this.loadPosts(); // Reload posts after deletion\n          alert('Post deleted successfully!');\n        },\n        error: error => {\n          console.error('Error deleting post:', error);\n          alert('Error deleting post. Please try again.');\n        }\n      });\n    }\n  }\n  resetForm() {\n    this.currentPost = {\n      name: '',\n      comment: ''\n    };\n    this.editingPost.set(null);\n  }\n};\nComment = __decorate([Component({\n  selector: 'comment',\n  imports: [CommonModule, FormsModule],\n  template: `\n\n\n   \n      <!-- Header -->\n      <header class=\"bg-white text-slate-600 shadow-lg\">\n        <div class=\"max-w-6xl mx-auto px-4 py-6\">\n          <h1 class=\"text-3xl font-bold\">{{ title() }}</h1>\n          <p class=\"text-cyan-500 mt-2\">A Formula One Community</p>\n        </div>\n      </header>\n\n      <div class=\"max-w-6xl mx-auto px-4 py-8\">\n        <!-- Create/Edit Form -->\n        <div class=\"bg-white rounded-lg shadow-md p-6 mb-8\">\n          <h2 class=\"text-2xl font-bold mb-4\">\n            {{ editingPost() ? 'Edit Post' : 'Create New Post' }}\n          </h2>\n\n          <form (ngSubmit)=\"onSubmit()\" class=\"space-y-4\">\n            <div>\n              <label for=\"name\" class=\"block text-sm font-medium text-gray-700 mb-1\">\n                Name\n              </label>\n              <input\n                type=\"text\"\n                id=\"name\"\n                [(ngModel)]=\"currentPost.name\"\n                name=\"name\"\n                required\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                placeholder=\"Enter Name\"\n              />\n            </div>\n\n            <div>\n              <label for=\"comment\" class=\"block text-sm font-medium text-gray-700 mb-1\">\n                Comment\n              </label>\n              <textarea\n                id=\"comment\"\n                [(ngModel)]=\"currentPost.comment\"\n                name=\"comment\"\n                required\n                rows=\"4\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                placeholder=\"Write your post\"\n              ></textarea>\n            </div>\n\n            <div class=\"flex gap-2\">\n              <button\n                type=\"submit\"\n                class=\"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50\"\n                [disabled]=\"!currentPost.name || !currentPost.comment\"\n              >\n                {{ editingPost() ? 'Update Post' : 'Create Post' }}\n              </button>\n\n              @if (editingPost()) {\n              <button\n                type=\"button\"\n                (click)=\"cancelEdit()\"\n                class=\"px-6 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500\"\n              >\n                Cancel\n              </button>\n              }\n            </div>\n          </form>\n        </div>\n\n        <!-- Posts List -->\n        <div class=\"space-y-6\">\n          <h2 class=\"text-2xl font-bold text-gray-800\">Latest Posts</h2>\n\n          @if (loading()) {\n          <div class=\"text-center py-8\">\n            <div class=\"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n            <p class=\"mt-2 text-gray-600\">Loading posts...</p>\n          </div>\n          }\n\n          @if (!loading() && posts().length === 0) {\n          <div class=\"text-center py-12\">\n            <p class=\"text-gray-500 text-lg\">No posts yet. Create your first post above!</p>\n          </div>\n          }\n\n          @for (post of posts(); track post.id) {\n          <div class=\"bg-white rounded-lg shadow-md overflow-hidden\">\n            <div class=\"p-6\">\n              <div class=\"flex justify-between items-start mb-4\">\n                <h3 class=\"text-xl font-bold text-gray-800\">{{ post.name }}</h3>\n                <div class=\"flex gap-2\">\n                  <button\n                    (click)=\"startEdit(post)\"\n                    class=\"px-3 py-1 text-sm bg-yellow-500 text-white rounded hover:bg-yellow-600 focus:outline-none focus:ring-2 focus:ring-yellow-500\"\n                  >\n                    Edit\n                  </button>\n                  <button\n                    (click)=\"deletePost(post.id!)\"\n                    class=\"px-3 py-1 text-sm bg-red-500 text-white rounded hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500\"\n                  >\n                    Delete\n                  </button>\n                </div>\n              </div>\n\n              <p class=\"text-gray-600 leading-relaxed mb-4\">{{ post.comment }}</p>\n\n              <div class=\"text-sm text-gray-400\">\n                Post ID: {{ post.id }}\n              </div>\n            </div>\n          </div>\n          }\n        </div>\n      </div>\n    </div>\n  `,\n  styles: [],\n  standalone: true\n})], Comment);\nexport { Comment };","map":{"version":3,"names":["Component","signal","CommonModule","FormsModule","Comment","crudService","title","ngDevMode","debugName","posts","loading","editingPost","currentPost","name","comment","constructor","ngOnInit","loadPosts","set","getAllPosts","subscribe","next","error","console","alert","onSubmit","updatePost","id","updatedPost","resetForm","createPost","newPost","startEdit","post","cancelEdit","deletePost","confirm","__decorate","selector","imports","template","styles","standalone"],"sources":["/Users/ariez/Downloads/crud/src/app/comment/comment/comment.ts"],"sourcesContent":["import { Component, OnInit, signal } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { CrudService, CrudPost } from '../../crud';\n\n\n@Component({\n  selector: 'comment',\n  imports: [CommonModule, FormsModule],\n  template: `\n\n\n   \n      <!-- Header -->\n      <header class=\"bg-white text-slate-600 shadow-lg\">\n        <div class=\"max-w-6xl mx-auto px-4 py-6\">\n          <h1 class=\"text-3xl font-bold\">{{ title() }}</h1>\n          <p class=\"text-cyan-500 mt-2\">A Formula One Community</p>\n        </div>\n      </header>\n\n      <div class=\"max-w-6xl mx-auto px-4 py-8\">\n        <!-- Create/Edit Form -->\n        <div class=\"bg-white rounded-lg shadow-md p-6 mb-8\">\n          <h2 class=\"text-2xl font-bold mb-4\">\n            {{ editingPost() ? 'Edit Post' : 'Create New Post' }}\n          </h2>\n\n          <form (ngSubmit)=\"onSubmit()\" class=\"space-y-4\">\n            <div>\n              <label for=\"name\" class=\"block text-sm font-medium text-gray-700 mb-1\">\n                Name\n              </label>\n              <input\n                type=\"text\"\n                id=\"name\"\n                [(ngModel)]=\"currentPost.name\"\n                name=\"name\"\n                required\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                placeholder=\"Enter Name\"\n              />\n            </div>\n\n            <div>\n              <label for=\"comment\" class=\"block text-sm font-medium text-gray-700 mb-1\">\n                Comment\n              </label>\n              <textarea\n                id=\"comment\"\n                [(ngModel)]=\"currentPost.comment\"\n                name=\"comment\"\n                required\n                rows=\"4\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                placeholder=\"Write your post\"\n              ></textarea>\n            </div>\n\n            <div class=\"flex gap-2\">\n              <button\n                type=\"submit\"\n                class=\"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50\"\n                [disabled]=\"!currentPost.name || !currentPost.comment\"\n              >\n                {{ editingPost() ? 'Update Post' : 'Create Post' }}\n              </button>\n\n              @if (editingPost()) {\n              <button\n                type=\"button\"\n                (click)=\"cancelEdit()\"\n                class=\"px-6 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500\"\n              >\n                Cancel\n              </button>\n              }\n            </div>\n          </form>\n        </div>\n\n        <!-- Posts List -->\n        <div class=\"space-y-6\">\n          <h2 class=\"text-2xl font-bold text-gray-800\">Latest Posts</h2>\n\n          @if (loading()) {\n          <div class=\"text-center py-8\">\n            <div class=\"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n            <p class=\"mt-2 text-gray-600\">Loading posts...</p>\n          </div>\n          }\n\n          @if (!loading() && posts().length === 0) {\n          <div class=\"text-center py-12\">\n            <p class=\"text-gray-500 text-lg\">No posts yet. Create your first post above!</p>\n          </div>\n          }\n\n          @for (post of posts(); track post.id) {\n          <div class=\"bg-white rounded-lg shadow-md overflow-hidden\">\n            <div class=\"p-6\">\n              <div class=\"flex justify-between items-start mb-4\">\n                <h3 class=\"text-xl font-bold text-gray-800\">{{ post.name }}</h3>\n                <div class=\"flex gap-2\">\n                  <button\n                    (click)=\"startEdit(post)\"\n                    class=\"px-3 py-1 text-sm bg-yellow-500 text-white rounded hover:bg-yellow-600 focus:outline-none focus:ring-2 focus:ring-yellow-500\"\n                  >\n                    Edit\n                  </button>\n                  <button\n                    (click)=\"deletePost(post.id!)\"\n                    class=\"px-3 py-1 text-sm bg-red-500 text-white rounded hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500\"\n                  >\n                    Delete\n                  </button>\n                </div>\n              </div>\n\n              <p class=\"text-gray-600 leading-relaxed mb-4\">{{ post.comment }}</p>\n\n              <div class=\"text-sm text-gray-400\">\n                Post ID: {{ post.id }}\n              </div>\n            </div>\n          </div>\n          }\n        </div>\n      </div>\n    </div>\n  `,\n  styles: [],\n  standalone: true\n})\nexport class Comment implements OnInit {\n  protected readonly title = signal<string>('Formula 1 Blog');\n\n  posts = signal<CrudPost[]>([]);\n  loading = signal<boolean>(false);\n  editingPost = signal<CrudPost | null>(null);\n\n  currentPost: CrudPost = {\n    name: '',\n    comment: ''\n  };\n\n  constructor(private crudService: CrudService) {}\n\n  ngOnInit() {\n    this.loadPosts();\n  }\n\n  loadPosts() {\n    this.loading.set(true);\n    this.crudService.getAllPosts().subscribe({\n      next: (posts) => {\n        this.posts.set(posts);\n        this.loading.set(false);\n      },\n      error: (error) => {\n        console.error('Error loading posts:', error);\n        this.loading.set(false);\n        alert('Error loading posts. Please check if the backend is running.');\n      }\n    });\n  }\n\n  onSubmit() {\n    if (!this.currentPost.name || !this.currentPost.comment) {\n      return;\n    }\n\n    if (this.editingPost()) {\n      // Update existing post\n      this.crudService.updatePost(this.editingPost()!.id!, this.currentPost).subscribe({\n        next: (updatedPost) => {\n          this.loadPosts(); // Reload all posts\n          this.resetForm();\n          alert('Post updated successfully!');\n        },\n        error: (error) => {\n          console.error('Error updating post:', error);\n          alert('Error updating post. Please try again.');\n        }\n      });\n    } else {\n      // Create new post\n      this.crudService.createPost(this.currentPost).subscribe({\n        next: (newPost) => {\n          this.loadPosts(); // Reload all posts\n          this.resetForm();\n          alert('Post created successfully!');\n        },\n        error: (error) => {\n          console.error('Error creating post:', error);\n          alert('Error creating post. Please try again.');\n        }\n      });\n    }\n  }\n\n  startEdit(post: CrudPost) {\n    this.editingPost.set(post);\n    this.currentPost = { ...post };\n  }\n\n  cancelEdit() {\n    this.editingPost.set(null);\n    this.resetForm();\n  }\n\n  deletePost(id: number) {\n    if (confirm('Are you sure you want to delete this post?')) {\n      this.crudService.deletePost(id).subscribe({\n        next: () => {\n          this.loadPosts(); // Reload posts after deletion\n          alert('Post deleted successfully!');\n        },\n        error: (error) => {\n          console.error('Error deleting post:', error);\n          alert('Error deleting post. Please try again.');\n        }\n      });\n    }\n  }\n\n  private resetForm() {\n    this.currentPost = {\n      name: '',\n      comment: ''\n    };\n    this.editingPost.set(null);\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}